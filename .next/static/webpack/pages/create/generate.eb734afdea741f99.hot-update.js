"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/create/generate",{

/***/ "./src/components/collection/TraitUploader.tsx":
/*!*****************************************************!*\
  !*** ./src/components/collection/TraitUploader.tsx ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,ArrowLeft,ArrowRight,Ban,ChevronDown,ChevronUp,Copy,Eye,GripVertical,Plus,RefreshCw,Settings,Trash2,Upload,X!=!lucide-react */ \"__barrel_optimize__?names=AlertCircle,ArrowLeft,ArrowRight,Ban,ChevronDown,ChevronUp,Copy,Eye,GripVertical,Plus,RefreshCw,Settings,Trash2,Upload,X!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _barrel_optimize_names_FaPlus_FaTrash_react_icons_fa__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FaPlus,FaTrash!=!react-icons/fa */ \"__barrel_optimize__?names=FaPlus,FaTrash!=!./node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/styles/components/collection/TraitUploader.module.css */ \"./src/styles/components/collection/TraitUploader.module.css\");\n/* harmony import */ var _styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-beautiful-dnd */ \"./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-toast */ \"./node_modules/react-hot-toast/dist/index.mjs\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n// Add this validation function\nconst validateLayers = (layers)=>{\n    // Check if we have at least one layer\n    if (layers.length === 0) {\n        return {\n            isValid: false,\n            message: 'You need at least one layer to generate NFTs'\n        };\n    }\n    // Optional: Check for background layer if needed\n    const hasBackgroundLayer = layers.some((layer)=>layer.isBackground === true);\n    if (!hasBackgroundLayer) {\n        return {\n            isValid: true // Changed to true to make background optional\n        };\n    }\n    return {\n        isValid: true\n    };\n};\n// Add this helper component before the LayerSettings component\nconst TraitDisplay = (param)=>{\n    let { layer, traitId } = param;\n    if (!layer) return null;\n    const trait = layer.traits.find((t)=>t.id === traitId);\n    if (!trait) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitDisplay),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                src: trait.preview,\n                alt: trait.name\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 72,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitInfo),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitName),\n                        children: trait.name\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerName),\n                        children: layer.name\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 73,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 71,\n        columnNumber: 9\n    }, undefined);\n};\n_c = TraitDisplay;\n// Move LayerSettings outside of TraitUploader\nconst LayerSettings = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(_s((param)=>{\n    let { layerId, layers, updateLayerSetting, setShowSettings, globalRules, updateGlobalRules } = param;\n    _s();\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('assets');\n    const [selectedSourceTrait, setSelectedSourceTrait] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedSourceLayer, setSelectedSourceLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedTargetTrait, setSelectedTargetTrait] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedTargetLayer, setSelectedTargetLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedRuleType, setSelectedRuleType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('require');\n    const [editingRule, setEditingRule] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingTraitType, setEditingTraitType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const layer = layers.find((l)=>l.id === layerId);\n    // Add handler for rule creation\n    const handleAddRule = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"LayerSettings.useCallback[handleAddRule]\": ()=>{\n            if (!selectedSourceTrait || !selectedTargetTrait || !selectedSourceLayer || !selectedTargetLayer) return;\n            const newRule = {\n                id: \"rule-\".concat(Date.now(), \"-\").concat(Math.random()),\n                sourceLayerId: selectedSourceLayer,\n                sourceTrait: selectedSourceTrait,\n                targetLayerId: selectedTargetLayer,\n                targetTrait: selectedTargetTrait,\n                type: selectedRuleType\n            };\n            updateGlobalRules([\n                ...globalRules,\n                newRule\n            ]);\n            // Reset selections\n            setSelectedSourceTrait(null);\n            setSelectedSourceLayer(null);\n            setSelectedTargetTrait(null);\n            setSelectedTargetLayer(null);\n            setSelectedRuleType('require');\n        }\n    }[\"LayerSettings.useCallback[handleAddRule]\"], [\n        selectedSourceTrait,\n        selectedTargetTrait,\n        selectedSourceLayer,\n        selectedTargetLayer,\n        selectedRuleType,\n        updateGlobalRules,\n        globalRules\n    ]);\n    // Add handler for rule removal\n    const handleRemoveRule = (ruleId)=>{\n        updateGlobalRules(globalRules.filter((rule)=>rule.id !== ruleId));\n    };\n    if (!layer) return null;\n    const handleFileUpload = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"LayerSettings.useCallback[handleFileUpload]\": (e)=>{\n            const files = e.target.files;\n            if (!files) return;\n            // Validate file sizes and types\n            const validFiles = Array.from(files).filter({\n                \"LayerSettings.useCallback[handleFileUpload].validFiles\": (file)=>{\n                    if (file.size > 5 * 1024 * 1024) {\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error(\"\".concat(file.name, \" is too large (max 5MB)\"));\n                        return false;\n                    }\n                    if (!file.type.startsWith('image/')) {\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error(\"\".concat(file.name, \" is not an image\"));\n                        return false;\n                    }\n                    return true;\n                }\n            }[\"LayerSettings.useCallback[handleFileUpload].validFiles\"]);\n            if (validFiles.length === 0) return;\n            try {\n                const newTraits = validFiles.map({\n                    \"LayerSettings.useCallback[handleFileUpload].newTraits\": (file)=>{\n                        var _layers_find;\n                        return {\n                            id: \"trait-\".concat(Date.now(), \"-\").concat(Math.random()),\n                            name: file.name.split('.')[0].replace(/[^a-zA-Z0-9-_]/g, '_'),\n                            image: file,\n                            preview: URL.createObjectURL(file),\n                            rarity: 100,\n                            layerName: ((_layers_find = layers.find({\n                                \"LayerSettings.useCallback[handleFileUpload].newTraits\": (l)=>l.id === layerId\n                            }[\"LayerSettings.useCallback[handleFileUpload].newTraits\"])) === null || _layers_find === void 0 ? void 0 : _layers_find.name) || 'Unknown Layer'\n                        };\n                    }\n                }[\"LayerSettings.useCallback[handleFileUpload].newTraits\"]);\n                const layer = layers.find({\n                    \"LayerSettings.useCallback[handleFileUpload].layer\": (l)=>l.id === layerId\n                }[\"LayerSettings.useCallback[handleFileUpload].layer\"]);\n                if (layer) {\n                    updateLayerSetting(layerId, 'traits', [\n                        ...layer.traits,\n                        ...newTraits\n                    ]);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success(\"Added \".concat(newTraits.length, \" traits to \").concat(layer.name));\n                }\n            } catch (error) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Error uploading files');\n                console.error(error);\n            }\n        }\n    }[\"LayerSettings.useCallback[handleFileUpload]\"], [\n        layers\n    ]);\n    const updateRule = (ruleId, field, value)=>{\n        updateLayerSetting(layerId, 'rules', (layer.rules || []).map((rule)=>rule.id === ruleId ? {\n                ...rule,\n                [field]: value\n            } : rule));\n    };\n    const removeRule = (ruleId)=>{\n        updateLayerSetting(layerId, 'rules', (layer.rules || []).filter((rule)=>rule.id !== ruleId));\n    };\n    const handleRuleCreation = (type, targetLayerId)=>{\n        const newRule = {\n            id: \"rule-\".concat(Date.now()),\n            type,\n            sourceLayerId: layerId,\n            targetLayerId,\n            sourceTrait: '',\n            targetTrait: ''\n        };\n        updateLayerSetting(layerId, 'rules', [\n            ...layer.rules || [],\n            newRule\n        ]);\n    };\n    const handleRuleCardClick = (rule, type)=>{\n        setEditingRule(rule.id);\n        setEditingTraitType(type);\n    };\n    const handleRuleTypeToggle = (rule)=>{\n        handleUpdateRule(rule.id, {\n            type: rule.type === 'require' ? 'exclude' : 'require'\n        });\n    };\n    // Add this function to check if a rule already exists\n    const isRuleExists = (sourceLayerId, sourceTrait, targetLayerId, targetTrait)=>{\n        return globalRules.some((rule)=>rule.sourceLayerId === sourceLayerId && rule.sourceTrait === sourceTrait && rule.targetLayerId === targetLayerId && rule.targetTrait === targetTrait || // Also check the reverse combination\n            rule.sourceLayerId === targetLayerId && rule.sourceTrait === targetTrait && rule.targetLayerId === sourceLayerId && rule.targetTrait === sourceTrait);\n    };\n    // Add this function to get available target layers and traits\n    const getAvailableTargets = (sourceLayerId, sourceTrait)=>{\n        return layers.filter((layer)=>layer.id !== sourceLayerId).map((layer)=>({\n                ...layer,\n                traits: layer.traits.filter((trait)=>!isRuleExists(sourceLayerId, sourceTrait, layer.id, trait.id))\n            })).filter((layer)=>layer.traits.length > 0); // Only return layers that have available traits\n    };\n    // Add this function to check for existing rules\n    const isTraitInRule = (layerId, traitId)=>{\n        return globalRules.some((rule)=>rule.sourceLayerId === layerId && rule.sourceTrait === traitId || rule.targetLayerId === layerId && rule.targetTrait === traitId);\n    };\n    // Add this function to get available traits for selection\n    const getAvailableTraits = (excludeLayerId)=>{\n        return layers.filter((layer)=>!excludeLayerId || layer.id !== excludeLayerId).map((layer)=>({\n                ...layer,\n                traits: layer.traits.filter((trait)=>!isTraitInRule(layer.id, trait.id) || selectedSourceLayer === layer.id && selectedSourceTrait === trait.id)\n            })).filter((layer)=>layer.traits.length > 0);\n    };\n    // Update the trait selection rendering\n    const renderTraitSelection = (isSource)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectGroup),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                    children: isSource ? 'Select first trait:' : 'Select second trait:'\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 275,\n                    columnNumber: 13\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectBox),\n                    children: getAvailableTraits(isSource ? undefined : selectedSourceLayer || undefined).map((layer)=>layer.traits.map((trait)=>{\n                            const isSelected = isSource ? selectedSourceTrait === trait.id : selectedTargetTrait === trait.id;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitOption), \" \").concat(isSelected ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().selected) : ''),\n                                onClick: ()=>{\n                                    if (isSource) {\n                                        setSelectedSourceLayer(layer.id);\n                                        setSelectedSourceTrait(trait.id);\n                                        setSelectedTargetLayer(null);\n                                        setSelectedTargetTrait(null);\n                                    } else {\n                                        setSelectedTargetLayer(layer.id);\n                                        setSelectedTargetTrait(trait.id);\n                                    }\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: trait.preview,\n                                        alt: trait.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 299,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: trait.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 300,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerName),\n                                        children: layer.name\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 301,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, \"\".concat(layer.id, \"-\").concat(trait.id), true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 29\n                            }, undefined);\n                        }))\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 276,\n                    columnNumber: 13\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n            lineNumber: 274,\n            columnNumber: 9\n        }, undefined);\n    function handleUpdateRule(id, arg1) {\n        throw new Error('Function not implemented.');\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalOverlay),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingsModal),\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalHeader),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Layer Settings\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 318,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowSettings(null),\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().closeButton),\n                            children: \"Save & Close\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 317,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingField),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            children: \"Display Name\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 328,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: (layer === null || layer === void 0 ? void 0 : layer.displayName) || (layer === null || layer === void 0 ? void 0 : layer.name) || '',\n                            onChange: (e)=>{\n                                updateLayerSetting(layerId, 'name', e.target.value);\n                                updateLayerSetting(layerId, 'displayName', e.target.value);\n                            },\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingInput)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 329,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 327,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingField),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingWithHelp),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingLabel),\n                                    children: \"Metadata Visibility\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 342,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingToggleWrapper),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleSwitch),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: layer === null || layer === void 0 ? void 0 : layer.showInMetadata,\n                                                    onChange: (e)=>{\n                                                        updateLayerSetting(layerId, 'showInMetadata', e.target.checked);\n                                                        // Optional: Add visual feedback\n                                                        const message = e.target.checked ? \"\".concat(layer === null || layer === void 0 ? void 0 : layer.name, \" will be shown in metadata\") : \"\".concat(layer === null || layer === void 0 ? void 0 : layer.name, \" will be hidden from metadata\");\n                                                    // If you have a toast/notification system\n                                                    // showNotification(message);\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 345,\n                                                    columnNumber: 33\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleSlider)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 358,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 344,\n                                            columnNumber: 29\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().toggleLabel),\n                                            children: (layer === null || layer === void 0 ? void 0 : layer.showInMetadata) ? 'Visible in Metadata' : 'Hidden in Metadata'\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 360,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 343,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 341,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingHelp),\n                            children: \"Toggle to control whether traits from this layer appear in the NFT metadata. Hidden layers won't affect the visual appearance but won't be included in metadata.\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 365,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 340,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingField),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            children: \"Layer Rarity\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 372,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().raritySliderContainer),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"range\",\n                                    min: \"0\",\n                                    max: \"100\",\n                                    value: (layer === null || layer === void 0 ? void 0 : layer.layerRarity) || 100,\n                                    onChange: (e)=>{\n                                        const newValue = Number(e.target.value);\n                                        updateLayerSetting(layerId, 'layerRarity', newValue);\n                                    },\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingSlider)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 374,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityValue),\n                                    children: [\n                                        (layer === null || layer === void 0 ? void 0 : layer.layerRarity) || 100,\n                                        \"%\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 385,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 373,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().settingHelp),\n                            children: [\n                                \"Chance of this layer appearing in the generated NFTs.\",\n                                (layer === null || layer === void 0 ? void 0 : layer.layerRarity) !== undefined && layer.layerRarity < 100 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    children: [\n                                        \" This layer will only appear in \",\n                                        layer.layerRarity,\n                                        \"% of the NFTs.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 390,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 387,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 371,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().tabButtons),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().tabButton), \" \").concat(activeTab === 'assets' ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : ''),\n                            onClick: ()=>setActiveTab('assets'),\n                            children: \"Assets\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 396,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().tabButton), \" \").concat(activeTab === 'rules' ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : ''),\n                            onClick: ()=>setActiveTab('rules'),\n                            children: \"Rules\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 402,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 395,\n                    columnNumber: 17\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().tabContent),\n                    children: activeTab === 'assets' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().assetsSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().uploadArea),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"file\",\n                                        accept: \"image/*\",\n                                        multiple: true,\n                                        onChange: handleFileUpload,\n                                        style: {\n                                            display: 'none'\n                                        },\n                                        id: \"settings-file-input-\".concat(layerId)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 414,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"settings-file-input-\".concat(layerId),\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().uploadButton),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Upload, {\n                                                size: 20\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 426,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Upload New Assets\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 427,\n                                                columnNumber: 37\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 422,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 413,\n                                columnNumber: 29\n                            }, undefined),\n                            (layer === null || layer === void 0 ? void 0 : layer.traits.length) > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitsList),\n                                children: layer.traits.map((trait)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitRow),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitImageWrapper),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                    src: trait.preview,\n                                                    alt: trait.name,\n                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitImage)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 435,\n                                                    columnNumber: 49\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 434,\n                                                columnNumber: 45\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitDetails),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: trait.name,\n                                                    onChange: (e)=>updateLayerSetting(layerId, 'traits', layer.traits.map((t)=>t.id === trait.id ? {\n                                                                ...t,\n                                                                name: e.target.value\n                                                            } : t)),\n                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitNameInput),\n                                                    placeholder: \"Trait name\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 438,\n                                                    columnNumber: 49\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 437,\n                                                columnNumber: 45\n                                            }, undefined)\n                                        ]\n                                    }, trait.id, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 433,\n                                        columnNumber: 41\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 431,\n                                columnNumber: 33\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().noAssetsMessage),\n                                children: \"No assets uploaded yet. Use the button above to add some!\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 458,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 412,\n                        columnNumber: 25\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rulesSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleDescription),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.AlertCircle, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 464,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"Create rules between traits to define their relationships\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 465,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 463,\n                                columnNumber: 29\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        children: \"Select first trait:\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 470,\n                                        columnNumber: 33\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectBox),\n                                        children: layers.map((layer)=>layer.traits.map((trait)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitOption), \" \").concat(selectedSourceTrait === trait.id ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().selected) : ''),\n                                                    onClick: ()=>{\n                                                        setSelectedSourceLayer(layer.id);\n                                                        setSelectedSourceTrait(trait.id);\n                                                        // Reset target selection when source changes\n                                                        setSelectedTargetLayer(null);\n                                                        setSelectedTargetTrait(null);\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: trait.preview,\n                                                            alt: trait.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 487,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: trait.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 488,\n                                                            columnNumber: 49\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerName),\n                                                            children: layer.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 489,\n                                                            columnNumber: 49\n                                                        }, undefined)\n                                                    ]\n                                                }, trait.id, true, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 474,\n                                                    columnNumber: 45\n                                                }, undefined)))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 471,\n                                        columnNumber: 33\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 469,\n                                columnNumber: 29\n                            }, undefined),\n                            selectedSourceTrait && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleTypeSelection),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        children: \"This trait:\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 499,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleTypeButtons),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleTypeButton), \" \").concat(selectedRuleType === 'require' ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().selected) : ''),\n                                                onClick: ()=>setSelectedRuleType('require'),\n                                                children: [\n                                                    \"Must Include \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ArrowRight, {\n                                                        size: 16\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 507,\n                                                        columnNumber: 58\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 501,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleTypeButton), \" \").concat(selectedRuleType === 'exclude' ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().selected) : ''),\n                                                onClick: ()=>setSelectedRuleType('exclude'),\n                                                children: [\n                                                    \"Cannot Include \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Ban, {\n                                                        size: 16\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 515,\n                                                        columnNumber: 60\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 509,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 500,\n                                        columnNumber: 37\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 498,\n                                columnNumber: 33\n                            }, undefined),\n                            selectedSourceTrait && selectedRuleType && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        children: \"Select second trait:\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 524,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectBox),\n                                        children: layers.map((layer)=>// Skip the layer that contains the source trait\n                                            layer.id !== selectedSourceLayer && layer.traits.map((trait)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitOption), \" \").concat(selectedTargetTrait === trait.id ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().selected) : ''),\n                                                    onClick: ()=>{\n                                                        setSelectedTargetLayer(layer.id);\n                                                        setSelectedTargetTrait(trait.id);\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: trait.preview,\n                                                            alt: trait.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 540,\n                                                            columnNumber: 53\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: trait.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 541,\n                                                            columnNumber: 53\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerName),\n                                                            children: layer.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 542,\n                                                            columnNumber: 53\n                                                        }, undefined)\n                                                    ]\n                                                }, trait.id, true, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 530,\n                                                    columnNumber: 49\n                                                }, undefined)))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 525,\n                                        columnNumber: 37\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 523,\n                                columnNumber: 33\n                            }, undefined),\n                            selectedSourceTrait && selectedTargetTrait && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleActions),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().addRuleButton),\n                                    onClick: ()=>{\n                                        const newRule = {\n                                            id: \"rule-\".concat(Date.now()),\n                                            sourceLayerId: selectedSourceLayer,\n                                            sourceTrait: selectedSourceTrait,\n                                            targetLayerId: selectedTargetLayer,\n                                            targetTrait: selectedTargetTrait,\n                                            type: selectedRuleType\n                                        };\n                                        updateGlobalRules([\n                                            ...globalRules,\n                                            newRule\n                                        ]);\n                                        // Reset selections after adding rule\n                                        setSelectedSourceTrait(null);\n                                        setSelectedSourceLayer(null);\n                                        setSelectedTargetTrait(null);\n                                        setSelectedTargetLayer(null);\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Plus, {\n                                            size: 16\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 572,\n                                            columnNumber: 41\n                                        }, undefined),\n                                        \"Add Rule\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 553,\n                                    columnNumber: 37\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 552,\n                                columnNumber: 33\n                            }, undefined),\n                            globalRules.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().existingRules),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        children: \"Existing Rules\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 581,\n                                        columnNumber: 37\n                                    }, undefined),\n                                    globalRules.map((rule)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleItem),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleContent),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitDisplay, {\n                                                        layer: layers.find((l)=>l.id === rule.sourceLayerId),\n                                                        traitId: rule.sourceTrait\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 585,\n                                                        columnNumber: 49\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().ruleConditionButton),\n                                                        onClick: ()=>handleUpdateRule(rule.id, {\n                                                                type: rule.type === 'require' ? 'exclude' : 'require'\n                                                            }),\n                                                        children: rule.type === 'require' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"Must Include \",\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ArrowRight, {\n                                                                    size: 16\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                    lineNumber: 596,\n                                                                    columnNumber: 72\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                \"Cannot Include \",\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Ban, {\n                                                                    size: 16\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                    lineNumber: 598,\n                                                                    columnNumber: 74\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 589,\n                                                        columnNumber: 49\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitDisplay, {\n                                                        layer: layers.find((l)=>l.id === rule.targetLayerId),\n                                                        traitId: rule.targetTrait\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 601,\n                                                        columnNumber: 49\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleRemoveRule(rule.id),\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().removeRuleButton),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Trash2, {\n                                                            size: 16\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 609,\n                                                            columnNumber: 53\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 605,\n                                                        columnNumber: 49\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 584,\n                                                columnNumber: 45\n                                            }, undefined)\n                                        }, rule.id, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 583,\n                                            columnNumber: 41\n                                        }, undefined))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 580,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 462,\n                        columnNumber: 25\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 410,\n                    columnNumber: 17\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n            lineNumber: 316,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 315,\n        columnNumber: 9\n    }, undefined);\n}, \"lzPZictBt/VDb0b2quMhuyIVf6E=\"));\n_c1 = LayerSettings;\nconst moveLayer = (layers, fromIndex, toIndex)=>{\n    // Get only filtered layers that are being displayed\n    const displayLayers = [\n        ...layers\n    ].filter((layer)=>!layer.isBackground);\n    // Safety checks\n    if (fromIndex < 0 || fromIndex >= displayLayers.length) {\n        console.log('Invalid source index', fromIndex);\n        return layers;\n    }\n    if (toIndex < 0 || toIndex >= displayLayers.length) {\n        console.log('Invalid destination index', toIndex);\n        return layers;\n    }\n    // Prevent moving the background layer\n    const fromLayer = displayLayers[fromIndex];\n    if ((fromLayer === null || fromLayer === void 0 ? void 0 : fromLayer.isDefaultBackground) === true || (fromLayer === null || fromLayer === void 0 ? void 0 : fromLayer.isBackground) === true) {\n        console.log('Cannot move background layer');\n        return layers;\n    }\n    // Create a copy of the layers array\n    const newLayers = [\n        ...layers\n    ];\n    // Identify the actual layers to move by their IDs\n    const sourceLayer = displayLayers[fromIndex];\n    const sourceIndex = newLayers.findIndex((l)=>l.id === sourceLayer.id);\n    // Move the layer\n    const [removed] = newLayers.splice(sourceIndex, 1);\n    // Find the destination index in the complete layers array\n    let destIndex;\n    if (toIndex >= displayLayers.length - 1) {\n        // If moving to the end, put it at the end of all layers\n        destIndex = newLayers.length;\n    } else {\n        // Otherwise find the position of the destination layer in the complete array\n        const destLayer = displayLayers[toIndex];\n        destIndex = newLayers.findIndex((l)=>l.id === destLayer.id);\n    }\n    newLayers.splice(destIndex, 0, removed);\n    // Re-order all layers\n    return newLayers.map((layer, index)=>({\n            ...layer,\n            order: layer.isBackground === true ? 0 : index + 1\n        }));\n};\n// Default background layer\nconst DEFAULT_BACKGROUND_LAYER = {\n    id: 'background-default',\n    name: 'Background',\n    displayName: 'Background',\n    isBackground: true,\n    traits: [],\n    order: 0,\n    required: true,\n    characterId: 'default-character'\n};\n// Default character\nconst DEFAULT_CHARACTER = {\n    id: 'default-character',\n    name: 'Default Character',\n    description: 'The default character type',\n    supply: 0,\n    layers: [],\n    imagePreview: ''\n};\n// Default character creator function\nconst getDefaultCharacter = ()=>({\n        name: 'New Character Type',\n        description: '',\n        supply: 0,\n        layers: [],\n        imagePreview: ''\n    });\n// Add helper function to generate unique layer name\nconst generateUniqueLayerName = (baseName, layers)=>{\n    let counter = 1;\n    let newName = \"\".concat(baseName, \" Copy\");\n    // Keep adding numbers until we find a unique name\n    while(layers.some((layer)=>layer.name === newName)){\n        counter++;\n        newName = \"\".concat(baseName, \" Copy \").concat(counter);\n    }\n    return newName;\n};\n// Add validation for trait names\nconst validateTraitName = (layerId, traitName, layers, traitId)=>{\n    const layer = layers.find((l)=>l.id === layerId);\n    if (!layer) return true;\n    return !layer.traits.some((t)=>t.name.toLowerCase() === traitName.toLowerCase() && (!traitId || t.id !== traitId));\n};\nconst RaritySlider = (param)=>{\n    let { value, onChange, label } = param;\n    // Convert weight (1-10) to descriptive text\n    const getRarityText = (weight)=>{\n        if (weight <= 2) return 'Super Rare';\n        if (weight <= 4) return 'Rare';\n        if (weight <= 7) return 'Uncommon';\n        return 'Common';\n    };\n    // Get color based on weight\n    const getRarityColor = (weight)=>{\n        if (weight <= 2) return '#FF6B6B'; // Red for super rare\n        if (weight <= 4) return '#9775FA'; // Purple for rare\n        if (weight <= 7) return '#4DABF7'; // Blue for uncommon\n        return '#51CF66'; // Green for common\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().raritySliderContainer),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityHeader),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityLabel),\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 757,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityValue),\n                        style: {\n                            backgroundColor: getRarityColor(value)\n                        },\n                        children: [\n                            getRarityText(value),\n                            \" (\",\n                            value,\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 758,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 756,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().sliderWrapper),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"range\",\n                        min: \"1\",\n                        max: \"10\",\n                        value: value,\n                        onChange: (e)=>onChange(Number(e.target.value)),\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().raritySlider),\n                        style: {\n                            background: \"linear-gradient(to right, \\n                            \".concat(getRarityColor(1), \", \\n                            \").concat(getRarityColor(5), \", \\n                            \").concat(getRarityColor(10), \")\")\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 766,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityIndicators),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Super Rare\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 781,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Common\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 782,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 780,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 765,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 755,\n        columnNumber: 9\n    }, undefined);\n};\n_c2 = RaritySlider;\n// Update the trait settings component\nconst TraitSettings = (param)=>{\n    let { trait, onUpdate } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSettings),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RaritySlider, {\n            value: trait.rarity || 100,\n            onChange: (value)=>onUpdate({\n                    rarity: value\n                }),\n            label: \"Trait Rarity\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n            lineNumber: 793,\n            columnNumber: 13\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 792,\n        columnNumber: 9\n    }, undefined);\n};\n_c3 = TraitSettings;\n// Add this component for the trait rarity editor\nconst TraitRarityEditor = (param)=>{\n    let { trait, onUpdate } = param;\n    const getWeightLabel = (weight)=>{\n        if (weight <= 2) return 'Super Rare';\n        if (weight <= 4) return 'Rare';\n        if (weight <= 7) return 'Uncommon';\n        return 'Common';\n    };\n    const getWeightColor = (weight)=>{\n        if (weight <= 2) return '#FF6B6B';\n        if (weight <= 4) return '#9775FA';\n        if (weight <= 7) return '#4DABF7';\n        return '#51CF66';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitRarityEditor),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().weightButtons),\n                children: [\n                    1,\n                    3,\n                    5,\n                    8\n                ].map((weight)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>onUpdate(weight),\n                        className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().weightButton), \" \").concat(trait.rarity === weight ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().weightButtonActive) : ''),\n                        style: {\n                            backgroundColor: getWeightColor(weight),\n                            opacity: trait.rarity === weight ? 1 : 0.6\n                        },\n                        children: getWeightLabel(weight)\n                    }, weight, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 825,\n                        columnNumber: 21\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 823,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().weightSlider),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"range\",\n                        min: \"1\",\n                        max: \"10\",\n                        value: trait.rarity || 5,\n                        onChange: (e)=>onUpdate(Number(e.target.value)),\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().raritySlider),\n                        style: {\n                            background: \"linear-gradient(to right, \\n                            \".concat(getWeightColor(1), \", \\n                            \").concat(getWeightColor(5), \", \\n                            \").concat(getWeightColor(10), \")\")\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 841,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().weightValue),\n                        style: {\n                            color: getWeightColor(trait.rarity || 5)\n                        },\n                        children: [\n                            \"Weight: \",\n                            trait.rarity || 5\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 855,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 840,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 822,\n        columnNumber: 9\n    }, undefined);\n};\n_c4 = TraitRarityEditor;\n// Add this component for trait cards\nconst TraitCard = (param)=>{\n    let { trait, layerId, onRarityChange, onDelete, onNameChange } = param;\n    _s1();\n    const [currentRarity, setCurrentRarity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(trait.rarity || 50);\n    const rarityPresets = [\n        {\n            type: 'super-rare',\n            label: 'Super',\n            value: 10\n        },\n        {\n            type: 'rare',\n            label: 'Rare',\n            value: 25\n        },\n        {\n            type: 'uncommon',\n            label: 'Uncom',\n            value: 50\n        },\n        {\n            type: 'common',\n            label: 'Common',\n            value: 100\n        }\n    ];\n    const handleRarityChange = (value)=>{\n        setCurrentRarity(value);\n        onRarityChange(layerId, trait.id, value);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitCard),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitImageWrapper),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: trait.preview,\n                        alt: trait.name,\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitImage)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 888,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().deleteTraitButton),\n                        onClick: ()=>onDelete(layerId, trait.id),\n                        title: \"Delete trait\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Trash2, {\n                            size: 14\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 894,\n                            columnNumber: 21\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 889,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 887,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitContent),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: trait.name,\n                        onChange: (e)=>onNameChange(layerId, trait.id, e.target.value),\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitNameInput),\n                        placeholder: \"Trait name\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 898,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityPresets),\n                        children: rarityPresets.map((param)=>{\n                            let { type, label, value } = param;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityPreset), \" \").concat(currentRarity === value ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : ''),\n                                \"data-rarity\": type,\n                                onClick: ()=>handleRarityChange(value),\n                                children: label\n                            }, type, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 907,\n                                columnNumber: 25\n                            }, undefined);\n                        })\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 905,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityContainer),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"range\",\n                                min: \"0\",\n                                max: \"100\",\n                                value: currentRarity,\n                                onChange: (e)=>handleRarityChange(Number(e.target.value)),\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().raritySlider)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 918,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().rarityValue),\n                                children: [\n                                    currentRarity,\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 926,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 917,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 897,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 886,\n        columnNumber: 9\n    }, undefined);\n};\n_s1(TraitCard, \"im6DqOCnM2gHSh49IWtmnXoMLFY=\");\n_c5 = TraitCard;\n// Add function declarations that were removed\nconst validateLayerName = (name, layers, currentLayerId)=>{\n    if (!name.trim()) return false;\n    return !layers.some((layer)=>layer.id !== currentLayerId && layer.name.toLowerCase() === name.toLowerCase());\n};\n// Make sure the component returns JSX\nconst TraitUploader = (param)=>{\n    let { onNext, onBack, onLayersUpdate, layers: initialLayers, initialRules, hideNavigation = false, characters: initialCharacters } = param;\n    var _layers_, _layers_find, _layers_find1;\n    _s2();\n    // Helper function to generate unique IDs\n    const generateId = ()=>{\n        return \"id-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substring(2, 9));\n    };\n    // State setup\n    const [layers, setLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"TraitUploader.useState\": ()=>{\n            if (initialLayers && initialLayers.length > 0) {\n                const hasBackgroundLayer = initialLayers.some({\n                    \"TraitUploader.useState.hasBackgroundLayer\": (layer)=>layer.id === 'background-default'\n                }[\"TraitUploader.useState.hasBackgroundLayer\"]);\n                return hasBackgroundLayer ? initialLayers : [\n                    DEFAULT_BACKGROUND_LAYER,\n                    ...initialLayers\n                ];\n            }\n            return [\n                DEFAULT_BACKGROUND_LAYER\n            ];\n        }\n    }[\"TraitUploader.useState\"]);\n    // Add characters state\n    const [characters, setCharacters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"TraitUploader.useState\": ()=>{\n            if (initialCharacters && initialCharacters.length > 0) {\n                return initialCharacters;\n            }\n            // Create default character with existing layers\n            const defaultChar = {\n                ...DEFAULT_CHARACTER,\n                layers: layers.map({\n                    \"TraitUploader.useState\": (layer)=>({\n                            ...layer,\n                            characterId: DEFAULT_CHARACTER.id\n                        })\n                }[\"TraitUploader.useState\"])\n            };\n            return [\n                defaultChar\n            ];\n        }\n    }[\"TraitUploader.useState\"]);\n    // Add active character state\n    const [activeCharacterId, setActiveCharacterId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(characters.length > 0 ? characters[0].id : DEFAULT_CHARACTER.id);\n    // Add state for character management\n    const [isAddingCharacter, setIsAddingCharacter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Modify the type for newCharacter back to Omit<Character, 'id'>\n    const [newCharacter, setNewCharacter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getDefaultCharacter());\n    const [activeLayerId, setActiveLayerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(((_layers_ = layers[0]) === null || _layers_ === void 0 ? void 0 : _layers_.id) || '');\n    const [newLayerName, setNewLayerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [totalRarity, setTotalRarity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [showUploadSection, setShowUploadSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [randomPreview, setRandomPreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [showPreviewStrip, setShowPreviewStrip] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previewStripKey, setPreviewStripKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [globalRules, setGlobalRules] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialRules || []);\n    const [editingRule, setEditingRule] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingTraitType, setEditingTraitType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewCombinations, setPreviewCombinations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isAddLayerOpen, setIsAddLayerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPreviewOpen, setIsPreviewOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showGuide, setShowGuide] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Effect to filter layers based on active character\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            // Update activeLayerId when character changes\n            const characterLayers = layers.filter({\n                \"TraitUploader.useEffect.characterLayers\": (layer)=>!layer.characterId || layer.characterId === activeCharacterId\n            }[\"TraitUploader.useEffect.characterLayers\"]);\n            if (characterLayers.length > 0 && (!activeLayerId || !characterLayers.some({\n                \"TraitUploader.useEffect\": (layer)=>layer.id === activeLayerId\n            }[\"TraitUploader.useEffect\"]))) {\n                setActiveLayerId(characterLayers[0].id);\n            }\n        }\n    }[\"TraitUploader.useEffect\"], [\n        activeCharacterId,\n        layers,\n        activeLayerId\n    ]);\n    // Update parent when layers or characters change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            // Update all layers with character IDs\n            const allLayers = characters.flatMap({\n                \"TraitUploader.useEffect.allLayers\": (char)=>char.layers.map({\n                        \"TraitUploader.useEffect.allLayers\": (layer)=>({\n                                ...layer,\n                                characterId: char.id\n                            })\n                    }[\"TraitUploader.useEffect.allLayers\"])\n            }[\"TraitUploader.useEffect.allLayers\"]);\n            if (onLayersUpdate) {\n                onLayersUpdate(allLayers, globalRules);\n            }\n            // Save characters to localStorage\n            if (characters.length > 0) {\n                localStorage.setItem('nft_characters', JSON.stringify(characters));\n            }\n        }\n    }[\"TraitUploader.useEffect\"], [\n        characters,\n        globalRules,\n        onLayersUpdate\n    ]);\n    // Add useEffect to load saved data on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            // Load saved data\n            const savedData = localStorage.getItem('nft_layers_data');\n            if (savedData) {\n                try {\n                    const { layers: savedLayers, rules: savedRules } = JSON.parse(savedData);\n                    if ((savedLayers === null || savedLayers === void 0 ? void 0 : savedLayers.length) > 0) {\n                        setLayers(savedLayers);\n                        if (onLayersUpdate) {\n                            onLayersUpdate(savedLayers, savedRules || []);\n                        }\n                    }\n                } catch (error) {\n                    console.error('Error loading saved layers:', error);\n                }\n            }\n        }\n    }[\"TraitUploader.useEffect\"], []);\n    // Add this effect to save changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            if (layers.length > 0) {\n                try {\n                    localStorage.setItem('nft_layers_data', JSON.stringify({\n                        layers,\n                        rules: globalRules,\n                        timestamp: Date.now()\n                    }));\n                } catch (error) {\n                    console.error('Error saving layers:', error);\n                }\n            }\n        }\n    }[\"TraitUploader.useEffect\"], [\n        layers,\n        globalRules\n    ]);\n    // Modify the updateLayerSetting function to ensure proper saving\n    const updateLayerSetting = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[updateLayerSetting]\": (layerId, field, value)=>{\n            setLayers({\n                \"TraitUploader.useCallback[updateLayerSetting]\": (prev)=>{\n                    const updatedLayers = prev.map({\n                        \"TraitUploader.useCallback[updateLayerSetting].updatedLayers\": (layer)=>{\n                            if (layer.id === layerId) {\n                                const updatedLayer = {\n                                    ...layer,\n                                    [field]: value\n                                };\n                                if (field === 'name') {\n                                    updatedLayer.displayName = value;\n                                } else if (field === 'displayName') {\n                                    updatedLayer.name = value;\n                                }\n                                return updatedLayer;\n                            }\n                            return layer;\n                        }\n                    }[\"TraitUploader.useCallback[updateLayerSetting].updatedLayers\"]);\n                    // Save to localStorage immediately after update\n                    localStorage.setItem('nft_layers_data', JSON.stringify({\n                        layers: updatedLayers,\n                        globalRules,\n                        timestamp: Date.now()\n                    }));\n                    return updatedLayers;\n                }\n            }[\"TraitUploader.useCallback[updateLayerSetting]\"]);\n        }\n    }[\"TraitUploader.useCallback[updateLayerSetting]\"], [\n        globalRules\n    ]);\n    // Modify addLayer to save immediately\n    const addLayer = ()=>{\n        handleAddLayer();\n    };\n    const removeLayer = (layerId)=>{\n        // Prevent removal of default background layer\n        if (layerId === 'background-default') return;\n        setLayers((prev)=>prev.filter((layer)=>layer.id !== layerId));\n    };\n    const updateLayerName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[updateLayerName]\": (layerId, newName)=>{\n            const layer = layers.find({\n                \"TraitUploader.useCallback[updateLayerName].layer\": (l)=>l.id === layerId\n            }[\"TraitUploader.useCallback[updateLayerName].layer\"]);\n            if (!layer) return;\n            // Allow empty names during editing\n            if (!newName.trim()) {\n                setLayers({\n                    \"TraitUploader.useCallback[updateLayerName]\": (prev)=>prev.map({\n                            \"TraitUploader.useCallback[updateLayerName]\": (layer)=>layer.id === layerId ? {\n                                    ...layer,\n                                    name: newName,\n                                    displayName: newName\n                                } : layer\n                        }[\"TraitUploader.useCallback[updateLayerName]\"])\n                }[\"TraitUploader.useCallback[updateLayerName]\"]);\n                return;\n            }\n            // Check for duplicate names (excluding the current layer)\n            const isDuplicate = layers.some({\n                \"TraitUploader.useCallback[updateLayerName].isDuplicate\": (l)=>l.id !== layerId && l.name.toLowerCase() === newName.trim().toLowerCase()\n            }[\"TraitUploader.useCallback[updateLayerName].isDuplicate\"]);\n            if (isDuplicate) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('A layer with this name already exists');\n                return;\n            }\n            setLayers({\n                \"TraitUploader.useCallback[updateLayerName]\": (prev)=>prev.map({\n                        \"TraitUploader.useCallback[updateLayerName]\": (layer)=>layer.id === layerId ? {\n                                ...layer,\n                                name: newName.trim(),\n                                displayName: newName.trim()\n                            } : layer\n                    }[\"TraitUploader.useCallback[updateLayerName]\"])\n            }[\"TraitUploader.useCallback[updateLayerName]\"]);\n        }\n    }[\"TraitUploader.useCallback[updateLayerName]\"], [\n        layers\n    ]);\n    const updateTraitName = (layerId, traitId, newName)=>{\n        setLayers((prev)=>prev.map((layer)=>{\n                if (layer.id === layerId) {\n                    return {\n                        ...layer,\n                        traits: layer.traits.map((trait)=>trait.id === traitId ? {\n                                ...trait,\n                                name: newName\n                            } : trait)\n                    };\n                }\n                return layer;\n            }));\n    };\n    const updateTraitRarity = (layerId, traitId, value)=>{\n        setLayers((prev)=>prev.map((layer)=>{\n                if (layer.id === layerId) {\n                    return {\n                        ...layer,\n                        traits: layer.traits.map((trait)=>trait.id === traitId ? {\n                                ...trait,\n                                rarity: value\n                            } : trait)\n                    };\n                }\n                return layer;\n            }));\n    };\n    const removeTrait = (layerId, traitId)=>{\n        const updatedLayers = layers.map((layer)=>{\n            if (layer.id === layerId) {\n                return {\n                    ...layer,\n                    traits: layer.traits.filter((trait)=>trait.id !== traitId)\n                };\n            }\n            return layer;\n        });\n        setLayers(updatedLayers);\n        if (onLayersUpdate) {\n            onLayersUpdate(updatedLayers, globalRules);\n        }\n    };\n    const toggleLayerRequired = (layerId)=>{\n        const updatedLayers = layers.map((layer)=>layer.id === layerId ? {\n                ...layer,\n                required: !layer.required\n            } : layer);\n        setLayers(updatedLayers);\n        if (onLayersUpdate) {\n            onLayersUpdate(updatedLayers, globalRules);\n        }\n    };\n    const handleDragStart = ()=>{\n        console.log('Drag started');\n        setIsDragging(true);\n    };\n    // Restore the original handleDragEnd function \n    const handleDragEnd = (result)=>{\n        console.log('Drag ended:', result);\n        setIsDragging(false);\n        if (!result.destination) {\n            console.log('No destination, ignoring drag');\n            return;\n        }\n        // Only consider the filtered layers for the current character\n        const filteredLayers = layers.filter((layer)=>layer.characterId === activeCharacterId).sort((a, b)=>(a.order || 0) - (b.order || 0));\n        // Find the source and destination indices in the filtered layers\n        const sourceIndex = result.source.index;\n        const destinationIndex = result.destination.index;\n        // Skip if nothing changed\n        if (sourceIndex === destinationIndex) {\n            return;\n        }\n        // Create a new array of all layers\n        const allLayers = [\n            ...layers\n        ];\n        // Get the source layer from the filtered list\n        const sourceLayer = filteredLayers[sourceIndex];\n        // Find its index in the complete layers array\n        const actualSourceIndex = allLayers.findIndex((l)=>l.id === sourceLayer.id);\n        // Remove the layer from its current position\n        const [removed] = allLayers.splice(actualSourceIndex, 1);\n        // Find the destination layer and its index in the complete array\n        const destLayer = destinationIndex < filteredLayers.length ? filteredLayers[destinationIndex] : filteredLayers[filteredLayers.length - 1];\n        const actualDestIndex = destinationIndex < filteredLayers.length ? allLayers.findIndex((l)=>l.id === destLayer.id) : allLayers.length;\n        // Insert the layer at its new position\n        allLayers.splice(actualDestIndex, 0, removed);\n        // Update the order of all layers\n        const updatedLayers = allLayers.map((layer, index)=>({\n                ...layer,\n                order: layer.isBackground ? 0 : index + 1\n            }));\n        console.log('Layers updated with new order:', updatedLayers);\n        setLayers(updatedLayers);\n        onLayersUpdate(updatedLayers, globalRules);\n    };\n    const duplicateLayer = (layerId)=>{\n        const sourceLayer = layers.find((l)=>l.id === layerId);\n        if (!sourceLayer) return;\n        const newTraits = sourceLayer.traits.map((trait)=>({\n                ...trait,\n                id: \"trait-\".concat(Date.now(), \"-\").concat(Math.random())\n            }));\n        const newLayer = {\n            id: \"layer-\".concat(Date.now(), \"-\").concat(Math.random()),\n            name: \"\".concat(sourceLayer.name, \" (Copy)\"),\n            displayName: \"\".concat(sourceLayer.displayName || sourceLayer.name, \" (Copy)\"),\n            traits: newTraits,\n            isBackground: false,\n            characterId: activeCharacterId\n        };\n        setLayers((prev)=>reorderLayers([\n                ...prev,\n                newLayer\n            ]));\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success(\"Duplicated layer \".concat(sourceLayer.name));\n    };\n    const handleTraitUpload = async (files)=>{\n        if (!activeLayerId) {\n            setError('Please select a layer first');\n            return;\n        }\n        const validFiles = Array.from(files).filter((file)=>file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024);\n        if (validFiles.length !== files.length) {\n            setError('Some files were skipped (invalid type or too large)');\n        }\n        const CHUNK_SIZE = 10;\n        for(let i = 0; i < validFiles.length; i += CHUNK_SIZE){\n            const chunk = validFiles.slice(i, i + CHUNK_SIZE);\n            await new Promise((resolve)=>setTimeout(resolve, 100));\n            const newTraits = await Promise.all(chunk.map(async (file)=>{\n                var _layers_find;\n                const preview = await createImagePreview(file);\n                return {\n                    id: \"trait-\".concat(Date.now(), \"-\").concat(Math.random()),\n                    name: file.name.split('.')[0].replace(/[^a-zA-Z0-9-_]/g, '_'),\n                    image: file,\n                    preview,\n                    rarity: 50,\n                    layerName: ((_layers_find = layers.find((l)=>l.id === activeLayerId)) === null || _layers_find === void 0 ? void 0 : _layers_find.name) || '',\n                    characterId: activeCharacterId\n                };\n            }));\n            // Update layers with new traits\n            const updatedLayers = layers.map((layer)=>{\n                if (layer.id === activeLayerId) {\n                    return {\n                        ...layer,\n                        traits: [\n                            ...layer.traits,\n                            ...newTraits\n                        ],\n                        characterId: activeCharacterId\n                    };\n                }\n                return layer;\n            });\n            // Update state and notify parent\n            setLayers(updatedLayers);\n            if (onLayersUpdate) {\n                onLayersUpdate(updatedLayers, globalRules);\n            }\n        }\n    };\n    const handleLayerClick = (layerId)=>{\n        setActiveLayerId(layerId);\n    };\n    const updateLayerDescription = (layerId, description)=>{\n        setLayers((prev)=>prev.map((layer)=>layer.id === layerId ? {\n                    ...layer,\n                    description\n                } : layer));\n    };\n    const updateLayerMaxTraits = (layerId, maxTraits)=>{\n        setLayers((prev)=>prev.map((layer)=>layer.id === layerId ? {\n                    ...layer,\n                    maxTraits\n                } : layer));\n    };\n    // Helper function to check if a trait is valid based on rules\n    const isTraitValid = (trait, layerId, preview, globalRules)=>{\n        // Get all rules that involve this trait's layer\n        const relevantRules = globalRules.filter((rule)=>rule.sourceLayerId === layerId && rule.sourceTrait === trait.name || rule.targetLayerId === layerId && rule.targetTrait === trait.name);\n        // If no rules, trait is valid\n        if (relevantRules.length === 0) return true;\n        // Check each rule\n        for (const rule of relevantRules){\n            if (rule.sourceLayerId === layerId && rule.sourceTrait === trait.name) {\n                // This trait is the source\n                const targetTrait = preview[rule.targetLayerId];\n                if (rule.type === 'require') {\n                    if (!targetTrait || targetTrait.name !== rule.targetTrait) return false;\n                } else if (rule.type === 'exclude') {\n                    if (targetTrait && targetTrait.name === rule.targetTrait) return false;\n                }\n            } else {\n                // This trait is the target\n                const sourceTrait = preview[rule.sourceLayerId];\n                if (rule.type === 'require') {\n                    if (sourceTrait && trait.name !== rule.targetTrait) return false;\n                } else if (rule.type === 'exclude') {\n                    if (sourceTrait && sourceTrait.name === rule.sourceTrait) return false;\n                }\n            }\n        }\n        return true;\n    };\n    const generateRandomPreview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[generateRandomPreview]\": ()=>{\n            const preview = {};\n            layers.forEach({\n                \"TraitUploader.useCallback[generateRandomPreview]\": (layer)=>{\n                    // Simple inline validation that allows all traits\n                    const validTraits = layer.traits.filter({\n                        \"TraitUploader.useCallback[generateRandomPreview].validTraits\": (trait)=>{\n                            // If no rules, all traits are valid\n                            if (globalRules.length === 0) return true;\n                            // Get rules relevant to this layer and trait\n                            const relevantRules = globalRules.filter({\n                                \"TraitUploader.useCallback[generateRandomPreview].validTraits.relevantRules\": (rule)=>rule.sourceLayerId === layer.id && rule.sourceTrait === trait.name || rule.targetLayerId === layer.id && rule.targetTrait === trait.name\n                            }[\"TraitUploader.useCallback[generateRandomPreview].validTraits.relevantRules\"]);\n                            // If no relevant rules, trait is valid\n                            if (relevantRules.length === 0) return true;\n                            // Check each rule\n                            for (const rule of relevantRules){\n                                if (rule.sourceLayerId === layer.id && rule.sourceTrait === trait.name) {\n                                    // This trait is the source\n                                    const targetTrait = preview[rule.targetLayerId];\n                                    if (rule.type === 'require') {\n                                        if (!targetTrait || targetTrait.name !== rule.targetTrait) return false;\n                                    } else if (rule.type === 'exclude') {\n                                        if (targetTrait && targetTrait.name === rule.targetTrait) return false;\n                                    }\n                                } else {\n                                    // This trait is the target\n                                    const sourceTrait = preview[rule.sourceLayerId];\n                                    if (rule.type === 'require') {\n                                        if (sourceTrait && trait.name !== rule.targetTrait) return false;\n                                    } else if (rule.type === 'exclude') {\n                                        if (sourceTrait && sourceTrait.name === rule.sourceTrait) return false;\n                                    }\n                                }\n                            }\n                            return true;\n                        }\n                    }[\"TraitUploader.useCallback[generateRandomPreview].validTraits\"]);\n                    if (validTraits.length > 0) {\n                        const randomTrait = validTraits[Math.floor(Math.random() * validTraits.length)];\n                        preview[layer.id] = randomTrait;\n                    }\n                }\n            }[\"TraitUploader.useCallback[generateRandomPreview]\"]);\n            return preview;\n        }\n    }[\"TraitUploader.useCallback[generateRandomPreview]\"], [\n        layers,\n        globalRules\n    ]);\n    const generatePreviews = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[generatePreviews]\": ()=>{\n            const validCombinations = [];\n            const maxAttempts = 100;\n            let attempts = 0;\n            while(validCombinations.length < 5 && attempts < maxAttempts){\n                attempts++;\n                const combination = {};\n                let isValid = true;\n                // Always include background first if it exists\n                const backgroundLayer = layers.find({\n                    \"TraitUploader.useCallback[generatePreviews].backgroundLayer\": (l)=>l.isBackground\n                }[\"TraitUploader.useCallback[generatePreviews].backgroundLayer\"]);\n                if (backgroundLayer === null || backgroundLayer === void 0 ? void 0 : backgroundLayer.traits.length) {\n                    const randomTrait = backgroundLayer.traits[Math.floor(Math.random() * backgroundLayer.traits.length)];\n                    combination[backgroundLayer.id] = randomTrait;\n                }\n                // Process other layers\n                for (const layer of layers.filter({\n                    \"TraitUploader.useCallback[generatePreviews]\": (l)=>!l.isBackground\n                }[\"TraitUploader.useCallback[generatePreviews]\"])){\n                    if (!layer.traits.length) continue;\n                    const randomTrait = layer.traits[Math.floor(Math.random() * layer.traits.length)];\n                    combination[layer.id] = randomTrait;\n                }\n                // Add combination if it's valid and not a duplicate\n                if (Object.keys(combination).length > 0) {\n                    const combinationString = JSON.stringify(combination);\n                    if (!validCombinations.some({\n                        \"TraitUploader.useCallback[generatePreviews]\": (c)=>JSON.stringify(c) === combinationString\n                    }[\"TraitUploader.useCallback[generatePreviews]\"])) {\n                        validCombinations.push(combination);\n                    }\n                }\n            }\n            setPreviewCombinations({\n                \"TraitUploader.useCallback[generatePreviews]\": (prev)=>{\n                    const prevJson = JSON.stringify(prev);\n                    const newJson = JSON.stringify(validCombinations);\n                    return prevJson === newJson ? prev : validCombinations;\n                }\n            }[\"TraitUploader.useCallback[generatePreviews]\"]);\n            setPreviewStripKey({\n                \"TraitUploader.useCallback[generatePreviews]\": (prev)=>prev + 1\n            }[\"TraitUploader.useCallback[generatePreviews]\"]);\n        }\n    }[\"TraitUploader.useCallback[generatePreviews]\"], [\n        layers\n    ]);\n    const generateMetadata = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[generateMetadata]\": (selectedTraits)=>{\n            const metadata = {\n                name: '',\n                description: '',\n                attributes: []\n            };\n            layers.forEach({\n                \"TraitUploader.useCallback[generateMetadata]\": (layer)=>{\n                    const trait = selectedTraits[layer.id];\n                    // Only include traits from layers that are set to show in metadata\n                    if (trait && layer.showInMetadata) {\n                        metadata.attributes.push({\n                            trait_type: layer.displayName || layer.name,\n                            value: trait.name\n                        });\n                    }\n                }\n            }[\"TraitUploader.useCallback[generateMetadata]\"]);\n            return metadata;\n        }\n    }[\"TraitUploader.useCallback[generateMetadata]\"], [\n        layers\n    ]);\n    const updateGlobalRules = (rules)=>{\n        setGlobalRules(rules);\n    // You might want to pass this to parent component if needed\n    // onLayersUpdate(layers);\n    };\n    const handleUpdateRule = (ruleId, updates)=>{\n        const updatedRules = globalRules.map((rule)=>{\n            if (rule.id === ruleId) {\n                return {\n                    ...rule,\n                    ...updates\n                };\n            }\n            return rule;\n        });\n        updateGlobalRules(updatedRules);\n    };\n    // Function to handle layer selection\n    const handleLayerSelect = (layerId)=>{\n        setActiveLayerId(layerId);\n    };\n    // Handle file upload for traits\n    const handleFileUpload = async (event, layerId)=>{\n        if (!event.target.files || !layerId) return;\n        try {\n            const files = Array.from(event.target.files);\n            const layerIndex = layers.findIndex((l)=>l.id === layerId);\n            if (layerIndex === -1) {\n                throw new Error('Layer not found');\n            }\n            // Create new traits from uploaded files\n            const newTraits = await Promise.all(files.map(async (file)=>{\n                try {\n                    const preview = await createImagePreview(file);\n                    const layer = layers.find((l)=>l.id === layerId);\n                    if (!layer) {\n                        throw new Error('Layer not found');\n                    }\n                    const trait = {\n                        id: \"trait-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9)),\n                        name: file.name.replace(/\\.[^/.]+$/, ''),\n                        layerName: layer.name,\n                        image: preview,\n                        preview: preview,\n                        rarity: 1,\n                        zIndex: layer.order || 0,\n                        characterId: layer.characterId\n                    };\n                    return trait;\n                } catch (error) {\n                    console.error('Error processing file:', file.name, error);\n                    throw error;\n                }\n            }));\n            if (newTraits.length === 0) {\n                throw new Error('No valid traits were created');\n            }\n            // Update the layer with new traits\n            setLayers((prevLayers)=>{\n                const updatedLayers = [\n                    ...prevLayers\n                ];\n                const updatedLayer = {\n                    ...updatedLayers[layerIndex],\n                    traits: [\n                        ...updatedLayers[layerIndex].traits || [],\n                        ...newTraits\n                    ]\n                };\n                updatedLayers[layerIndex] = updatedLayer;\n                return updatedLayers;\n            });\n            // Clear the input\n            event.target.value = '';\n            // Show success message\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success(\"Successfully added \".concat(newTraits.length, \" trait(s) to layer\"));\n        } catch (error) {\n            console.error('File upload failed:', error);\n            setError('Failed to upload files. Please try again.');\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Failed to upload files');\n        }\n    };\n    // Helper function to create image previews\n    const createImagePreview = (file)=>{\n        return new Promise((resolve, reject)=>{\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                var _e_target;\n                if ((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result) {\n                    resolve(e.target.result);\n                } else {\n                    reject(new Error('Failed to create preview'));\n                }\n            };\n            reader.onerror = reject;\n            reader.readAsDataURL(file);\n        });\n    };\n    // Create a stable reference to the layers and rules\n    const layersRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(layers);\n    const rulesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(globalRules);\n    const updateInProgressRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Memoize the update function to prevent unnecessary re-renders\n    const updateLayers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[updateLayers]\": async ()=>{\n            if (!onLayersUpdate || updateInProgressRef.current) return;\n            updateInProgressRef.current = true;\n            const currentLayers = [\n                ...layersRef.current\n            ];\n            const currentRules = [\n                ...Array.isArray(rulesRef.current) ? rulesRef.current : []\n            ];\n            try {\n                await Promise.resolve(onLayersUpdate(currentLayers, currentRules));\n                setError(null);\n            } catch (error) {\n                console.error('TraitUploader: Error in layer update:', {\n                    error,\n                    layers: currentLayers === null || currentLayers === void 0 ? void 0 : currentLayers.length,\n                    globalRules: currentRules === null || currentRules === void 0 ? void 0 : currentRules.length\n                });\n                const errorMessage = error instanceof Error ? error.message : 'Failed to update layers';\n                setError(errorMessage);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error(\"Error: \".concat(errorMessage));\n            } finally{\n                updateInProgressRef.current = false;\n            }\n        }\n    }[\"TraitUploader.useCallback[updateLayers]\"], [\n        onLayersUpdate\n    ]);\n    // Update refs when layers or rules change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            layersRef.current = layers;\n            rulesRef.current = globalRules;\n        }\n    }[\"TraitUploader.useEffect\"], [\n        layers,\n        globalRules\n    ]);\n    // Set up a debounced update effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            if (!onLayersUpdate) return;\n            const timer = setTimeout({\n                \"TraitUploader.useEffect.timer\": ()=>{\n                    updateLayers().catch(console.error);\n                }\n            }[\"TraitUploader.useEffect.timer\"], 100); // Small debounce to prevent rapid updates\n            return ({\n                \"TraitUploader.useEffect\": ()=>clearTimeout(timer)\n            })[\"TraitUploader.useEffect\"];\n        }\n    }[\"TraitUploader.useEffect\"], [\n        onLayersUpdate,\n        updateLayers,\n        JSON.stringify(layers),\n        JSON.stringify(globalRules)\n    ]);\n    // Add validation function inside the component\n    // Add validation when adding new traits\n    const handleAddTrait = (layerId, files)=>{\n        const layer = layers.find((l)=>l.id === layerId);\n        if (!layer) return;\n        Promise.all(files.map(async (file)=>{\n            const baseName = file.name.replace(/\\.[^/.]+$/, \"\");\n            let traitName = baseName;\n            let counter = 1;\n            while(!validateTraitName(layerId, traitName)){\n                traitName = \"\".concat(baseName, \" \").concat(counter);\n                counter++;\n            }\n            const preview = await createImagePreview(file);\n            return {\n                id: \"id-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substring(2, 9)),\n                name: traitName,\n                preview,\n                // Initialize rarity based on layer's rarity type\n                rarity: layer.rarityType === 'percent' ? 100 : 1,\n                weight: layer.rarityType === 'weight' ? 1 : undefined,\n                file,\n                layerName: layer.name,\n                characterId: layer.characterId\n            };\n        })).then((newTraits)=>{\n            setLayers((prev)=>prev.map((layer)=>{\n                    if (layer.id === layerId) {\n                        return {\n                            ...layer,\n                            traits: [\n                                ...layer.traits,\n                                ...newTraits\n                            ]\n                        };\n                    }\n                    return layer;\n                }));\n        });\n    };\n    // Move generateUniqueLayerName inside component\n    const generateUniqueLayerName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[generateUniqueLayerName]\": (baseName)=>{\n            let counter = 1;\n            let newName = \"\".concat(baseName, \" Copy\");\n            // Keep adding numbers until we find a unique name\n            while(layers.some({\n                \"TraitUploader.useCallback[generateUniqueLayerName]\": (layer)=>layer.name === newName\n            }[\"TraitUploader.useCallback[generateUniqueLayerName]\"])){\n                counter++;\n                newName = \"\".concat(baseName, \" Copy \").concat(counter);\n            }\n            return newName;\n        }\n    }[\"TraitUploader.useCallback[generateUniqueLayerName]\"], [\n        layers\n    ]);\n    // Update handleDuplicateLayer to use the function\n    const handleDuplicateLayer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[handleDuplicateLayer]\": (layerId)=>{\n            const sourceLayer = layers.find({\n                \"TraitUploader.useCallback[handleDuplicateLayer].sourceLayer\": (l)=>l.id === layerId\n            }[\"TraitUploader.useCallback[handleDuplicateLayer].sourceLayer\"]);\n            if (!sourceLayer) return;\n            // Prevent duplicating the background layer\n            if (sourceLayer.isDefaultBackground) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Cannot duplicate the background layer');\n                return;\n            }\n            const newLayerName = generateUniqueLayerName(sourceLayer.name);\n            if (!validateLayerName(newLayerName, layers)) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Failed to generate unique layer name');\n                return;\n            }\n            const newLayer = {\n                id: \"layer-\".concat(Date.now()),\n                name: newLayerName,\n                displayName: newLayerName,\n                traits: sourceLayer.traits.map({\n                    \"TraitUploader.useCallback[handleDuplicateLayer]\": (trait)=>({\n                            ...trait,\n                            id: \"trait-\".concat(Date.now(), \"-\").concat(Math.random())\n                        })\n                }[\"TraitUploader.useCallback[handleDuplicateLayer]\"]),\n                required: sourceLayer.required,\n                order: layers.filter({\n                    \"TraitUploader.useCallback[handleDuplicateLayer]\": (l)=>l.characterId === activeCharacterId\n                }[\"TraitUploader.useCallback[handleDuplicateLayer]\"]).length + 1,\n                characterId: activeCharacterId,\n                showInMetadata: true\n            };\n            setLayers({\n                \"TraitUploader.useCallback[handleDuplicateLayer]\": (prev)=>[\n                        ...prev,\n                        newLayer\n                    ]\n            }[\"TraitUploader.useCallback[handleDuplicateLayer]\"]);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Layer duplicated successfully');\n        }\n    }[\"TraitUploader.useCallback[handleDuplicateLayer]\"], [\n        layers,\n        generateUniqueLayerName,\n        activeCharacterId\n    ]);\n    // Add function to validate trait names\n    const validateTraitName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[validateTraitName]\": (layerId, newName, currentTraitId)=>{\n            const layer = layers.find({\n                \"TraitUploader.useCallback[validateTraitName].layer\": (l)=>l.id === layerId\n            }[\"TraitUploader.useCallback[validateTraitName].layer\"]);\n            if (!layer) return true;\n            // Check if name is empty or only whitespace\n            if (!newName.trim()) return false;\n            return !layer.traits.some({\n                \"TraitUploader.useCallback[validateTraitName]\": (trait)=>trait.name.toLowerCase() === newName.toLowerCase() && (!currentTraitId || trait.id !== currentTraitId)\n            }[\"TraitUploader.useCallback[validateTraitName]\"]);\n        }\n    }[\"TraitUploader.useCallback[validateTraitName]\"], [\n        layers\n    ]);\n    // Update handleTraitNameChange\n    const handleTraitNameChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[handleTraitNameChange]\": (layerId, traitId, newName)=>{\n            if (!validateTraitName(layerId, newName, traitId)) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('A trait with this name already exists in this layer');\n                return;\n            }\n            setLayers({\n                \"TraitUploader.useCallback[handleTraitNameChange]\": (prev)=>prev.map({\n                        \"TraitUploader.useCallback[handleTraitNameChange]\": (layer)=>{\n                            if (layer.id === layerId) {\n                                return {\n                                    ...layer,\n                                    traits: layer.traits.map({\n                                        \"TraitUploader.useCallback[handleTraitNameChange]\": (trait)=>trait.id === traitId ? {\n                                                ...trait,\n                                                name: newName\n                                            } : trait\n                                    }[\"TraitUploader.useCallback[handleTraitNameChange]\"])\n                                };\n                            }\n                            return layer;\n                        }\n                    }[\"TraitUploader.useCallback[handleTraitNameChange]\"])\n            }[\"TraitUploader.useCallback[handleTraitNameChange]\"]);\n        }\n    }[\"TraitUploader.useCallback[handleTraitNameChange]\"], [\n        validateTraitName,\n        handleDuplicateLayer\n    ]);\n    // Add cleanup function\n    const cleanupStoredLayerData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[cleanupStoredLayerData]\": ()=>{\n            localStorage.removeItem('nft_layers_data');\n        }\n    }[\"TraitUploader.useCallback[cleanupStoredLayerData]\"], []);\n    // Add cleanup effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"TraitUploader.useEffect\": ()=>{\n            return ({\n                \"TraitUploader.useEffect\": ()=>{\n                    cleanupStoredLayerData();\n                }\n            })[\"TraitUploader.useEffect\"];\n        }\n    }[\"TraitUploader.useEffect\"], [\n        cleanupStoredLayerData\n    ]);\n    // Update the layer update function to handle cleanup\n    const handleLayersUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[handleLayersUpdate]\": (updatedLayers)=>{\n            setLayers(updatedLayers);\n            onLayersUpdate(updatedLayers, globalRules);\n            // Store updated data\n            try {\n                localStorage.setItem('nft_layers_data', JSON.stringify({\n                    layers: updatedLayers,\n                    rules: globalRules,\n                    timestamp: Date.now()\n                }));\n            } catch (error) {\n                console.error('Failed to save layer data:', error);\n                // If storage fails, clean up\n                cleanupStoredLayerData();\n            }\n        }\n    }[\"TraitUploader.useCallback[handleLayersUpdate]\"], [\n        onLayersUpdate,\n        globalRules,\n        cleanupStoredLayerData\n    ]);\n    // Add these new functions\n    const handleDeleteTrait = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[handleDeleteTrait]\": (layerId, traitId)=>{\n            setLayers({\n                \"TraitUploader.useCallback[handleDeleteTrait]\": (prevLayers)=>prevLayers.map({\n                        \"TraitUploader.useCallback[handleDeleteTrait]\": (layer)=>{\n                            if (layer.id === layerId) {\n                                return {\n                                    ...layer,\n                                    traits: layer.traits.filter({\n                                        \"TraitUploader.useCallback[handleDeleteTrait]\": (trait)=>trait.id !== traitId\n                                    }[\"TraitUploader.useCallback[handleDeleteTrait]\"])\n                                };\n                            }\n                            return layer;\n                        }\n                    }[\"TraitUploader.useCallback[handleDeleteTrait]\"])\n            }[\"TraitUploader.useCallback[handleDeleteTrait]\"]);\n            // Clean up any rules involving this trait\n            const updatedRules = globalRules.filter({\n                \"TraitUploader.useCallback[handleDeleteTrait].updatedRules\": (rule)=>!(rule.sourceLayerId === layerId && rule.sourceTrait === traitId) && !(rule.targetLayerId === layerId && rule.targetTrait === traitId)\n            }[\"TraitUploader.useCallback[handleDeleteTrait].updatedRules\"]);\n            if (updatedRules.length !== globalRules.length) {\n                setGlobalRules(updatedRules);\n            }\n            // Notify parent component\n            if (onLayersUpdate) {\n                const updatedLayers = layers.map({\n                    \"TraitUploader.useCallback[handleDeleteTrait].updatedLayers\": (layer)=>{\n                        if (layer.id === layerId) {\n                            return {\n                                ...layer,\n                                traits: layer.traits.filter({\n                                    \"TraitUploader.useCallback[handleDeleteTrait].updatedLayers\": (trait)=>trait.id !== traitId\n                                }[\"TraitUploader.useCallback[handleDeleteTrait].updatedLayers\"])\n                            };\n                        }\n                        return layer;\n                    }\n                }[\"TraitUploader.useCallback[handleDeleteTrait].updatedLayers\"]);\n                onLayersUpdate(updatedLayers, updatedRules);\n            }\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Trait deleted successfully');\n        }\n    }[\"TraitUploader.useCallback[handleDeleteTrait]\"], [\n        layers,\n        globalRules,\n        onLayersUpdate\n    ]);\n    const handleTraitRarityChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[handleTraitRarityChange]\": (layerId, traitId, value)=>{\n            setLayers({\n                \"TraitUploader.useCallback[handleTraitRarityChange]\": (prevLayers)=>prevLayers.map({\n                        \"TraitUploader.useCallback[handleTraitRarityChange]\": (layer)=>{\n                            if (layer.id === layerId) {\n                                return {\n                                    ...layer,\n                                    traits: layer.traits.map({\n                                        \"TraitUploader.useCallback[handleTraitRarityChange]\": (trait)=>{\n                                            if (trait.id === traitId) {\n                                                return {\n                                                    ...trait,\n                                                    rarity: value\n                                                };\n                                            }\n                                            return trait;\n                                        }\n                                    }[\"TraitUploader.useCallback[handleTraitRarityChange]\"])\n                                };\n                            }\n                            return layer;\n                        }\n                    }[\"TraitUploader.useCallback[handleTraitRarityChange]\"])\n            }[\"TraitUploader.useCallback[handleTraitRarityChange]\"]);\n            // Notify parent component of the change\n            if (onLayersUpdate) {\n                const updatedLayers = layers.map({\n                    \"TraitUploader.useCallback[handleTraitRarityChange].updatedLayers\": (layer)=>{\n                        if (layer.id === layerId) {\n                            return {\n                                ...layer,\n                                traits: layer.traits.map({\n                                    \"TraitUploader.useCallback[handleTraitRarityChange].updatedLayers\": (trait)=>{\n                                        if (trait.id === traitId) {\n                                            return {\n                                                ...trait,\n                                                rarity: value\n                                            };\n                                        }\n                                        return trait;\n                                    }\n                                }[\"TraitUploader.useCallback[handleTraitRarityChange].updatedLayers\"])\n                            };\n                        }\n                        return layer;\n                    }\n                }[\"TraitUploader.useCallback[handleTraitRarityChange].updatedLayers\"]);\n                onLayersUpdate(updatedLayers, globalRules);\n            }\n        }\n    }[\"TraitUploader.useCallback[handleTraitRarityChange]\"], [\n        layers,\n        globalRules,\n        onLayersUpdate\n    ]);\n    // Add this function to handle layer ordering\n    const reorderLayers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[reorderLayers]\": (layers)=>{\n            return layers.map({\n                \"TraitUploader.useCallback[reorderLayers]\": (layer, index)=>({\n                        ...layer,\n                        order: layer.isBackground ? 0 : index + 1\n                    })\n            }[\"TraitUploader.useCallback[reorderLayers]\"]);\n        }\n    }[\"TraitUploader.useCallback[reorderLayers]\"], []);\n    const validateLayers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[validateLayers]\": ()=>{\n            const errors = [];\n            const layerNames = new Set();\n            // Check if background layer exists and has traits\n            const backgroundLayer = layers.find({\n                \"TraitUploader.useCallback[validateLayers].backgroundLayer\": (l)=>l.isDefaultBackground === true || l.isBackground === true\n            }[\"TraitUploader.useCallback[validateLayers].backgroundLayer\"]);\n            if (!backgroundLayer) {\n                errors.push('Background layer is required');\n            } else if (!backgroundLayer.traits || backgroundLayer.traits.length === 0) {\n                errors.push('Background layer must have at least one trait');\n            }\n            // Check all layers for validation issues\n            layers.forEach({\n                \"TraitUploader.useCallback[validateLayers]\": (layer)=>{\n                    // Check for duplicate layer names (excluding background layer)\n                    if (layer.isDefaultBackground !== true) {\n                        const lowerName = layer.name.toLowerCase();\n                        if (layerNames.has(lowerName)) {\n                            errors.push(\"Duplicate layer name: \".concat(layer.name));\n                        } else {\n                            layerNames.add(lowerName);\n                        }\n                    }\n                    // Check if non-background layers have traits\n                    if (layer.isDefaultBackground !== true && (!layer.traits || layer.traits.length === 0)) {\n                        errors.push(\"Layer \".concat(layer.name || layer.id, \" must have at least one trait\"));\n                    }\n                }\n            }[\"TraitUploader.useCallback[validateLayers]\"]);\n            if (errors.length) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error(errors[0]);\n                return false;\n            }\n            return true;\n        }\n    }[\"TraitUploader.useCallback[validateLayers]\"], [\n        layers\n    ]);\n    // Update the onNext handler\n    const handleNext = ()=>{\n        if (!validateLayers()) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Please check your layers configuration');\n            return;\n        }\n        onNext();\n    };\n    // Add these layer movement functions\n    const moveLayerUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[moveLayerUp]\": (layerId)=>{\n            setLayers({\n                \"TraitUploader.useCallback[moveLayerUp]\": (prevLayers)=>{\n                    var _prevLayers_index;\n                    const index = prevLayers.findIndex({\n                        \"TraitUploader.useCallback[moveLayerUp].index\": (layer)=>layer.id === layerId\n                    }[\"TraitUploader.useCallback[moveLayerUp].index\"]);\n                    // Don't move if it's the background layer or already at top (after background)\n                    if (index <= 1 || ((_prevLayers_index = prevLayers[index]) === null || _prevLayers_index === void 0 ? void 0 : _prevLayers_index.isBackground) === true) return prevLayers;\n                    const newLayers = [\n                        ...prevLayers\n                    ];\n                    [newLayers[index], newLayers[index - 1]] = [\n                        newLayers[index - 1],\n                        newLayers[index]\n                    ];\n                    // Update order for all layers\n                    return newLayers.map({\n                        \"TraitUploader.useCallback[moveLayerUp]\": (layer, idx)=>({\n                                ...layer,\n                                order: (layer === null || layer === void 0 ? void 0 : layer.isBackground) === true ? 0 : idx\n                            })\n                    }[\"TraitUploader.useCallback[moveLayerUp]\"]);\n                }\n            }[\"TraitUploader.useCallback[moveLayerUp]\"]);\n        }\n    }[\"TraitUploader.useCallback[moveLayerUp]\"], []);\n    const moveLayerDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TraitUploader.useCallback[moveLayerDown]\": (layerId)=>{\n            setLayers({\n                \"TraitUploader.useCallback[moveLayerDown]\": (prevLayers)=>{\n                    var _prevLayers_index;\n                    const index = prevLayers.findIndex({\n                        \"TraitUploader.useCallback[moveLayerDown].index\": (layer)=>layer.id === layerId\n                    }[\"TraitUploader.useCallback[moveLayerDown].index\"]);\n                    // Don't move if it's the last layer or background layer\n                    if (index === prevLayers.length - 1 || ((_prevLayers_index = prevLayers[index]) === null || _prevLayers_index === void 0 ? void 0 : _prevLayers_index.isBackground) === true) return prevLayers;\n                    const newLayers = [\n                        ...prevLayers\n                    ];\n                    [newLayers[index], newLayers[index + 1]] = [\n                        newLayers[index + 1],\n                        newLayers[index]\n                    ];\n                    return reorderLayers(newLayers);\n                }\n            }[\"TraitUploader.useCallback[moveLayerDown]\"]);\n        }\n    }[\"TraitUploader.useCallback[moveLayerDown]\"], [\n        reorderLayers\n    ]);\n    // Add this helper function\n    const validateLayerName = (name, layers, currentLayerId)=>{\n        // Allow empty names (will be caught by final validation)\n        if (!name) return true;\n        // Only check for duplicates if name is not empty\n        return !layers.some((layer)=>layer.name.toLowerCase() === name.toLowerCase() && (!currentLayerId || layer.id !== currentLayerId));\n    };\n    // Character management functions\n    const addCharacter = ()=>{\n        if (!newCharacter.name.trim()) {\n            setError('Character name cannot be empty');\n            return;\n        }\n        const newCharacterId = \"character-\".concat(Date.now());\n        const character = {\n            ...newCharacter,\n            id: newCharacterId,\n            layers: []\n        };\n        setCharacters((prev)=>[\n                ...prev,\n                character\n            ]);\n        setActiveCharacterId(newCharacterId);\n        setIsAddingCharacter(false);\n        setNewCharacter(getDefaultCharacter());\n    };\n    const updateCharacter = (characterId, updates)=>{\n        setCharacters((prev)=>prev.map((character)=>{\n                if (character.id === characterId) {\n                    return {\n                        ...character,\n                        ...updates\n                    };\n                }\n                return character;\n            }));\n    };\n    const deleteCharacter = (characterId)=>{\n        var _characters_find;\n        // Don't allow deleting the default character\n        if (characterId === DEFAULT_CHARACTER.id) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Cannot delete the default collection');\n            return;\n        }\n        // Remove character and its layers\n        setCharacters((prev)=>prev.filter((c)=>c.id !== characterId));\n        setLayers((prev)=>prev.filter((l)=>l.characterId !== characterId));\n        // Switch to default character\n        setActiveCharacterId(((_characters_find = characters.find((c)=>c.id !== characterId)) === null || _characters_find === void 0 ? void 0 : _characters_find.id) || DEFAULT_CHARACTER.id);\n    };\n    // Add the handleAddLayer function\n    const handleAddLayer = ()=>{\n        if (!newLayerName.trim()) {\n            setError('Layer name cannot be empty');\n            return;\n        }\n        if (layers.some((layer)=>layer.name.toLowerCase() === newLayerName.toLowerCase() && layer.characterId === activeCharacterId)) {\n            setError('Layer with this name already exists for this character');\n            return;\n        }\n        const newLayer = {\n            id: \"layer-\".concat(Date.now()),\n            name: newLayerName,\n            displayName: newLayerName,\n            traits: [],\n            required: true,\n            order: layers.filter((l)=>l.characterId === activeCharacterId).length,\n            characterId: activeCharacterId\n        };\n        // Add to layers and to the character\n        const updatedLayers = [\n            ...layers,\n            newLayer\n        ];\n        setLayers(updatedLayers);\n        // Also update the character's layers\n        const character = characters.find((c)=>c.id === activeCharacterId);\n        if (character) {\n            updateCharacter(activeCharacterId, {\n                layers: [\n                    ...updatedLayers.filter((l)=>l.characterId === activeCharacterId)\n                ]\n            });\n        }\n        // Close the form and reset the input\n        setIsAddLayerOpen(false);\n        setNewLayerName('');\n        setError('');\n        // Set this as the active layer\n        setActiveLayerId(newLayer.id);\n    };\n    // Get current character info\n    const currentCharacter = characters.find((c)=>c.id === activeCharacterId);\n    // Add function to handle adding a new character\n    const handleAddCharacter = ()=>{\n        if (!newCharacter.name) return;\n        const newCharacterId = \"id-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substring(2, 9));\n        const character = {\n            ...newCharacter,\n            id: newCharacterId,\n            layers: []\n        };\n        setCharacters((prev)=>[\n                ...prev,\n                character\n            ]);\n        setActiveCharacterId(newCharacterId);\n        setIsAddingCharacter(false);\n        setNewCharacter({\n            name: 'New Character Type',\n            description: '',\n            supply: 0,\n            layers: [],\n            imagePreview: ''\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().container),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().content),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideContainer),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideHeader),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Trait Manager\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2144,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideButton),\n                                        onClick: ()=>setShowGuide((prevState)=>!prevState),\n                                        children: showGuide ? 'Hide Guide' : 'Show Guide'\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2145,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2143,\n                                columnNumber: 21\n                            }, undefined),\n                            showGuide && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideContent),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideSection),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Character Types (Optional)\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2156,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Character types allow you to organize your NFT collection into different categories. Each character type can have its own unique layers and traits, with individual supply settings.\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2157,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"This feature is completely optional\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2162,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    \" - if you don't need different character types, you can simply use the default character type provided.\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2161,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2155,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideSection),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Layers & Traits\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2168,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: 'Layers represent categories like \"Background\", \"Body\", \"Eyes\", etc. Each layer can contain multiple trait images that will be randomly selected during generation.'\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2169,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Tip: Organize your layers in the order you want them rendered, with background layers at the top and foreground layers at the bottom.\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2173,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2167,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().guideSection),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Quick Start\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2180,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: \"Create layers for each part of your NFT (Background, Body, Eyes, etc.)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2182,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: \"Upload trait images to each layer\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2183,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: \"Adjust rarity settings if needed\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2184,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: \"Create rules between traits if needed (optional)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2185,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                        children: \"Preview your combinations\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2186,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2181,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2179,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2154,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 2142,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().charactersHeader),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: [\n                                    \"Character Types\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().optionalFeature),\n                                        children: \"Optional\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2197,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2195,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().characterDropdownContainer),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().characterDropdown),\n                                        value: activeCharacterId,\n                                        onChange: (e)=>setActiveCharacterId(e.target.value),\n                                        title: \"Select a character type. This feature is optional - you can use just one character type for your entire collection.\",\n                                        children: characters.map((character)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: character.id,\n                                                children: character.name\n                                            }, character.id, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2208,\n                                                columnNumber: 33\n                                            }, undefined))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2201,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    activeCharacterId && characters.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().deleteCharacterButton),\n                                        onClick: ()=>{\n                                            if (window.confirm('Are you sure you want to delete the \"'.concat(currentCharacter === null || currentCharacter === void 0 ? void 0 : currentCharacter.name, '\" character type?'))) {\n                                                deleteCharacter(activeCharacterId);\n                                            }\n                                        },\n                                        title: \"Delete this character type\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaPlus_FaTrash_react_icons_fa__WEBPACK_IMPORTED_MODULE_5__.FaTrash, {}, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 2224,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2215,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2200,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().addCharacterButton),\n                                onClick: ()=>setIsAddingCharacter(true),\n                                title: \"Add a new character type\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaPlus_FaTrash_react_icons_fa__WEBPACK_IMPORTED_MODULE_5__.FaPlus, {}, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2234,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    \" Add Type\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2229,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 2194,\n                        columnNumber: 17\n                    }, undefined),\n                    isAddingCharacter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalOverlay),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modal),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: \"Add New Character Type\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2242,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalDescription),\n                                    children: \"Create a new character type to organize traits for a distinct type of NFT in your collection. Each character type can have its own unique layers and traits.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2243,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Character Type Name\",\n                                    value: newCharacter.name,\n                                    onChange: (e)=>setNewCharacter({\n                                            ...newCharacter,\n                                            name: e.target.value\n                                        }),\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().input),\n                                    autoFocus: true\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2247,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    placeholder: \"Description (optional)\",\n                                    value: newCharacter.description,\n                                    onChange: (e)=>setNewCharacter({\n                                            ...newCharacter,\n                                            description: e.target.value\n                                        }),\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().textarea)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2255,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalButtons),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().cancelButton),\n                                            onClick: ()=>{\n                                                setIsAddingCharacter(false);\n                                                setNewCharacter({\n                                                    name: 'New Character Type',\n                                                    description: '',\n                                                    supply: 0,\n                                                    layers: [],\n                                                    imagePreview: ''\n                                                });\n                                            },\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 2262,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().addButton),\n                                            onClick: handleAddCharacter,\n                                            disabled: !newCharacter.name,\n                                            children: \"Add Character Type\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 2277,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2261,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 2241,\n                            columnNumber: 25\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 2240,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layersPanel),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().sidebar),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layersHeader),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: \"Layers\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2293,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().addLayerButton),\n                                                onClick: ()=>setIsAddLayerOpen(true),\n                                                title: \"Add a new layer like Background, Body, Eyes, etc.\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Plus, {\n                                                        size: 14\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2299,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    \"Add Layer\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2294,\n                                                columnNumber: 29\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2292,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerHelpText),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Layers determine how your NFT is structured. Add layers in order from background to foreground.\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                            lineNumber: 2306,\n                                            columnNumber: 29\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2305,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    isAddLayerOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerForm),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                placeholder: \"Layer Name (e.g. Background, Body, Eyes)\",\n                                                value: newLayerName,\n                                                onChange: (e)=>setNewLayerName(e.target.value),\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().input),\n                                                autoFocus: true\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2312,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().formActions),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().cancelButton),\n                                                        onClick: ()=>setIsAddLayerOpen(false),\n                                                        children: \"Cancel\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2321,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().saveButton),\n                                                        onClick: addLayer,\n                                                        children: \"Add\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2327,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2320,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2311,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layersList),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_6__.DragDropContext, {\n                                                onDragEnd: handleDragEnd,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_6__.Droppable, {\n                                                    droppableId: \"layers-list\",\n                                                    children: (provided, snapshot)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            ref: provided.innerRef,\n                                                            ...provided.droppableProps,\n                                                            className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().droppableContainer), \" \").concat(snapshot.isDraggingOver ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().isDraggingOver) : ''),\n                                                            children: [\n                                                                layers.filter((layer)=>layer.characterId === activeCharacterId).sort((a, b)=>(a.order || 0) - (b.order || 0)).map((layer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_6__.Draggable, {\n                                                                        draggableId: layer.id,\n                                                                        index: index,\n                                                                        isDragDisabled: layer.isBackground,\n                                                                        children: (provided, snapshot)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                ref: provided.innerRef,\n                                                                                ...provided.draggableProps,\n                                                                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerCard), \" \").concat(layer.id === activeLayerId ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : '', \" \").concat(snapshot.isDragging ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().isDragging) : ''),\n                                                                                onClick: ()=>handleLayerSelect(layer.id),\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerCardContent),\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerCardHeader),\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerCardLeft),\n                                                                                                    children: [\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                            ...provided.dragHandleProps,\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().dragHandle),\n                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.GripVertical, {\n                                                                                                                size: 16\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                                lineNumber: 2362,\n                                                                                                                columnNumber: 81\n                                                                                                            }, undefined)\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2361,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined),\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                                            type: \"text\",\n                                                                                                            value: layer.name,\n                                                                                                            onChange: (e)=>updateLayerName(layer.id, e.target.value),\n                                                                                                            onClick: (e)=>e.stopPropagation(),\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerName),\n                                                                                                            placeholder: \"Layer name\"\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2364,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined)\n                                                                                                    ]\n                                                                                                }, void 0, true, {\n                                                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                    lineNumber: 2360,\n                                                                                                    columnNumber: 73\n                                                                                                }, undefined),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerCardActions),\n                                                                                                    children: [\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                            onClick: (e)=>{\n                                                                                                                e.stopPropagation();\n                                                                                                                setShowSettings(layer.id);\n                                                                                                            },\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().actionButton),\n                                                                                                            title: \"Layer Settings\",\n                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Settings, {\n                                                                                                                size: 14\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                                lineNumber: 2383,\n                                                                                                                columnNumber: 81\n                                                                                                            }, undefined)\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2375,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined),\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                            onClick: (e)=>{\n                                                                                                                e.stopPropagation();\n                                                                                                                duplicateLayer(layer.id);\n                                                                                                            },\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().actionButton),\n                                                                                                            title: \"Duplicate Layer\",\n                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Copy, {\n                                                                                                                size: 14\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                                lineNumber: 2393,\n                                                                                                                columnNumber: 81\n                                                                                                            }, undefined)\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2385,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined),\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                            className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().actionButton), \" \").concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().deleteButton)),\n                                                                                                            onClick: (e)=>{\n                                                                                                                e.stopPropagation(); // Prevent layer selection when deleting\n                                                                                                                removeLayer(layer.id);\n                                                                                                                // If this was the active layer, clear the selection\n                                                                                                                if (activeLayerId === layer.id) {\n                                                                                                                    setActiveLayerId('');\n                                                                                                                }\n                                                                                                                // If settings were open for this layer, close them\n                                                                                                                if (showSettings === layer.id) {\n                                                                                                                    setShowSettings(null);\n                                                                                                                }\n                                                                                                            },\n                                                                                                            title: \"Delete layer\",\n                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Trash2, {\n                                                                                                                size: 16\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                                lineNumber: 2411,\n                                                                                                                columnNumber: 81\n                                                                                                            }, undefined)\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2395,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined)\n                                                                                                    ]\n                                                                                                }, void 0, true, {\n                                                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                    lineNumber: 2374,\n                                                                                                    columnNumber: 73\n                                                                                                }, undefined)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                            lineNumber: 2359,\n                                                                                            columnNumber: 69\n                                                                                        }, undefined),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerCardStats),\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().statBadge),\n                                                                                                    children: [\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().statLabel),\n                                                                                                            children: \"Traits:\"\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2417,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined),\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().statValue),\n                                                                                                            children: layer.traits.length\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2418,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined)\n                                                                                                    ]\n                                                                                                }, void 0, true, {\n                                                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                    lineNumber: 2416,\n                                                                                                    columnNumber: 73\n                                                                                                }, undefined),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().statBadge),\n                                                                                                    children: [\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().statLabel),\n                                                                                                            children: \"Rarity:\"\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2421,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined),\n                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().statValue),\n                                                                                                            children: [\n                                                                                                                layer.layerRarity,\n                                                                                                                \"%\"\n                                                                                                            ]\n                                                                                                        }, void 0, true, {\n                                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                            lineNumber: 2422,\n                                                                                                            columnNumber: 77\n                                                                                                        }, undefined)\n                                                                                                    ]\n                                                                                                }, void 0, true, {\n                                                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                                    lineNumber: 2420,\n                                                                                                    columnNumber: 73\n                                                                                                }, undefined)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                            lineNumber: 2415,\n                                                                                            columnNumber: 69\n                                                                                        }, undefined)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                    lineNumber: 2358,\n                                                                                    columnNumber: 65\n                                                                                }, undefined)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                                lineNumber: 2352,\n                                                                                columnNumber: 61\n                                                                            }, undefined)\n                                                                    }, layer.id, false, {\n                                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                        lineNumber: 2350,\n                                                                        columnNumber: 53\n                                                                    }, undefined)),\n                                                                provided.placeholder\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                            lineNumber: 2341,\n                                                            columnNumber: 41\n                                                        }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 2339,\n                                                    columnNumber: 33\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2338,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            layers.filter((layer)=>layer.characterId === activeCharacterId).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().emptyLayersMessage),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.AlertCircle, {\n                                                        size: 24\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2439,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                        children: \"No Layers Yet\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2440,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: 'Click the \"Add Layer\" button to create your first layer.'\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2441,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: \"Start with layers like:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2442,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: \"Background\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2444,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: \"Body\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2445,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: \"Head\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2446,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: \"Eyes\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2447,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: \"Mouth\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2448,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: \"Accessories\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2449,\n                                                                columnNumber: 41\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2443,\n                                                        columnNumber: 37\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().addLayerButton),\n                                                        onClick: ()=>setIsAddLayerOpen(true),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Plus, {\n                                                                size: 14\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2455,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            \"Add Your First Layer\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2451,\n                                                        columnNumber: 37\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2438,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2337,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2291,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().mainContent),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().mainHeader),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().headerLeft),\n                                                children: activeLayerId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: ((_layers_find = layers.find((layer)=>layer.id === activeLayerId)) === null || _layers_find === void 0 ? void 0 : _layers_find.name) || '',\n                                                    onChange: (e)=>updateLayerName(activeLayerId, e.target.value),\n                                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerTitleInput),\n                                                    placeholder: \"Layer name\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 2467,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2465,\n                                                columnNumber: 29\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().headerActions),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>setShowPreviewStrip(!showPreviewStrip),\n                                                        className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().headerButton), \" \").concat(showPreviewStrip ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : ''),\n                                                        title: \"Quick Preview\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Eye, {\n                                                                size: 16\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2482,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"Preview\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2483,\n                                                                columnNumber: 37\n                                                            }, undefined),\n                                                            showPreviewStrip ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ChevronUp, {\n                                                                size: 16\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2484,\n                                                                columnNumber: 57\n                                                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ChevronDown, {\n                                                                size: 16\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2484,\n                                                                columnNumber: 83\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2477,\n                                                        columnNumber: 33\n                                                    }, undefined),\n                                                    activeLayerId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>setShowSettings(activeLayerId),\n                                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().headerButton),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Settings, {\n                                                                        size: 16\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                        lineNumber: 2492,\n                                                                        columnNumber: 45\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Settings\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                        lineNumber: 2493,\n                                                                        columnNumber: 45\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2488,\n                                                                columnNumber: 41\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>setShowUploadSection(!showUploadSection),\n                                                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().headerButton), \" \").concat(showUploadSection ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : ''),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ChevronDown, {\n                                                                        size: 16,\n                                                                        className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().dropdownIcon), \" \").concat(showUploadSection ? (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : '')\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                        lineNumber: 2499,\n                                                                        columnNumber: 45\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Add Trait\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                        lineNumber: 2503,\n                                                                        columnNumber: 45\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2495,\n                                                                columnNumber: 41\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2476,\n                                                columnNumber: 29\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2464,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    showPreviewStrip && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().previewStrip),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().previewImages),\n                                                children: previewCombinations.map((combination, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().previewItem),\n                                                        children: Object.entries(combination).map((param, index)=>{\n                                                            let [layerId, trait] = param;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: trait.preview,\n                                                                alt: trait.name,\n                                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().previewLayer),\n                                                                style: {\n                                                                    zIndex: index\n                                                                }\n                                                            }, \"\".concat(layerId, \"-\").concat(index), false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2516,\n                                                                columnNumber: 49\n                                                            }, undefined);\n                                                        })\n                                                    }, \"\".concat(i, \"-\").concat(previewStripKey), false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2514,\n                                                        columnNumber: 41\n                                                    }, undefined))\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2512,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: generatePreviews,\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().refreshStripButton),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.RefreshCw, {\n                                                    size: 14\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                    lineNumber: 2531,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2527,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2511,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    activeLayerId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            showUploadSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"\".concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().uploadSection), \" \").concat((_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().slideDown)),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"file\",\n                                                        accept: \"image/*\",\n                                                        multiple: true,\n                                                        onChange: (e)=>handleFileUpload(e, activeLayerId),\n                                                        style: {\n                                                            display: 'none'\n                                                        },\n                                                        id: \"file-input-\".concat(activeLayerId)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2540,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"file-input-\".concat(activeLayerId),\n                                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().dropzone),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Upload, {\n                                                                size: 24\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2552,\n                                                                columnNumber: 45\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                children: \"Click or drag images here to upload\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2553,\n                                                                columnNumber: 45\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"Supports PNG, JPG, GIF (max 5MB)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                                lineNumber: 2554,\n                                                                columnNumber: 45\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2548,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2539,\n                                                columnNumber: 37\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitsGrid),\n                                                children: (_layers_find1 = layers.find((layer)=>layer.id === activeLayerId)) === null || _layers_find1 === void 0 ? void 0 : _layers_find1.traits.map((trait)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TraitCard, {\n                                                        trait: trait,\n                                                        layerId: activeLayerId,\n                                                        onRarityChange: handleTraitRarityChange,\n                                                        onDelete: handleDeleteTrait,\n                                                        onNameChange: handleTraitNameChange\n                                                    }, trait.id, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                        lineNumber: 2560,\n                                                        columnNumber: 41\n                                                    }, undefined))\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2558,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().noLayerSelected),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                children: \"Select a layer to manage traits\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2573,\n                                                columnNumber: 33\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Or create a new layer to get started\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2574,\n                                                columnNumber: 33\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2572,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2463,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 2290,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 2140,\n                columnNumber: 13\n            }, undefined),\n            !hideNavigation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().actions),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onBack,\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().backButton),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ArrowLeft, {\n                                size: 16\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2585,\n                                columnNumber: 25\n                            }, undefined),\n                            \"Back\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 2584,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleNext,\n                        disabled: layers.length === 0 || characters.some((c)=>layers.filter((l)=>l.characterId === c.id).length === 0 || layers.filter((l)=>l.characterId === c.id).some((l)=>l.traits.length === 0)),\n                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().nextButton),\n                        children: [\n                            \"Next\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ArrowRight, {\n                                size: 16\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                lineNumber: 2598,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                        lineNumber: 2589,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 2583,\n                columnNumber: 17\n            }, undefined),\n            showSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LayerSettings, {\n                layerId: showSettings,\n                layers: layers,\n                updateLayerSetting: updateLayerSetting,\n                setShowSettings: setShowSettings,\n                globalRules: globalRules,\n                updateGlobalRules: updateGlobalRules\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 2605,\n                columnNumber: 17\n            }, undefined),\n            editingRule && editingTraitType && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modal),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalContent),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().modalHeader),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: \"Select New Trait\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2619,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().closeButton),\n                                    onClick: ()=>{\n                                        setEditingRule(null);\n                                        setEditingTraitType(null);\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_ArrowLeft_ArrowRight_Ban_ChevronDown_ChevronUp_Copy_Eye_GripVertical_Plus_RefreshCw_Settings_Trash2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.X, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2627,\n                                        columnNumber: 33\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                    lineNumber: 2620,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 2618,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitSelectBox),\n                            children: layers.map((layer)=>layer.traits.map((trait)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().traitOption),\n                                        onClick: ()=>{\n                                            handleUpdateRule(editingRule, {\n                                                [\"\".concat(editingTraitType, \"LayerId\")]: layer.id,\n                                                [\"\".concat(editingTraitType, \"Trait\")]: trait.id,\n                                                type: ''\n                                            });\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: trait.preview,\n                                                alt: trait.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2644,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: trait.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2645,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                                className: (_styles_components_collection_TraitUploader_module_css__WEBPACK_IMPORTED_MODULE_2___default().layerName),\n                                                children: layer.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                                lineNumber: 2646,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, trait.id, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                                        lineNumber: 2633,\n                                        columnNumber: 37\n                                    }, undefined)))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                            lineNumber: 2630,\n                            columnNumber: 25\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                    lineNumber: 2617,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n                lineNumber: 2616,\n                columnNumber: 17\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nft generator\\\\src\\\\components\\\\collection\\\\TraitUploader.tsx\",\n        lineNumber: 2139,\n        columnNumber: 9\n    }, undefined);\n};\n_s2(TraitUploader, \"gQHXsK+qTvFnx3DC6yyKO21Sl9E=\");\n_c6 = TraitUploader;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TraitUploader);\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"TraitDisplay\");\n$RefreshReg$(_c1, \"LayerSettings\");\n$RefreshReg$(_c2, \"RaritySlider\");\n$RefreshReg$(_c3, \"TraitSettings\");\n$RefreshReg$(_c4, \"TraitRarityEditor\");\n$RefreshReg$(_c5, \"TraitCard\");\n$RefreshReg$(_c6, \"TraitUploader\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb2xsZWN0aW9uL1RyYWl0VXBsb2FkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDOEY7QUFDdEc7QUFDYTtBQUVXO0FBQ2hEO0FBaUN4QywrQkFBK0I7QUFDL0IsTUFBTTJCLGlCQUFpQixDQUFDQztJQUNwQixzQ0FBc0M7SUFDdEMsSUFBSUEsT0FBT0MsTUFBTSxLQUFLLEdBQUc7UUFDckIsT0FBTztZQUNIQyxTQUFTO1lBQ1RDLFNBQVM7UUFDYjtJQUNKO0lBRUEsaURBQWlEO0lBQ2pELE1BQU1DLHFCQUFxQkosT0FBT0ssSUFBSSxDQUFDQyxDQUFBQSxRQUFTQSxNQUFNQyxZQUFZLEtBQUs7SUFDdkUsSUFBSSxDQUFDSCxvQkFBb0I7UUFDckIsT0FBTztZQUNIRixTQUFTLEtBQUssOENBQThDO1FBQ2hFO0lBQ0o7SUFFQSxPQUFPO1FBQ0hBLFNBQVM7SUFDYjtBQUNKO0FBRUEsK0RBQStEO0FBQy9ELE1BQU1NLGVBQWU7UUFBQyxFQUFFRixLQUFLLEVBQUVHLE9BQU8sRUFBc0M7SUFDeEUsSUFBSSxDQUFDSCxPQUFPLE9BQU87SUFFbkIsTUFBTUksUUFBUUosTUFBTUssTUFBTSxDQUFDQyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBS0w7SUFDOUMsSUFBSSxDQUFDQyxPQUFPLE9BQU87SUFFbkIscUJBQ0ksOERBQUNLO1FBQUlDLFdBQVd0Qiw0R0FBbUI7OzBCQUMvQiw4REFBQ3dCO2dCQUFJQyxLQUFLVCxNQUFNVSxPQUFPO2dCQUFFQyxLQUFLWCxNQUFNWSxJQUFJOzs7Ozs7MEJBQ3hDLDhEQUFDUDtnQkFBSUMsV0FBV3RCLHlHQUFnQjs7a0NBQzVCLDhEQUFDOEI7d0JBQUtSLFdBQVd0Qix5R0FBZ0I7a0NBQUdnQixNQUFNWSxJQUFJOzs7Ozs7a0NBQzlDLDhEQUFDRTt3QkFBS1IsV0FBV3RCLHlHQUFnQjtrQ0FBR1ksTUFBTWdCLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7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QUFDLEdBQW9CLE9BQWpCRSxrQkFBaUIsV0FBUyxFQUFFMUMsTUFBTVEsRUFBRTtnREFDeEMsQ0FBQyxHQUFvQixPQUFqQmtDLGtCQUFpQixTQUFPLEVBQUV0QyxNQUFNSSxFQUFFO2dEQUN0QytDLE1BQU07NENBQ1Y7d0NBQ0o7OzBEQUVBLDhEQUFDM0M7Z0RBQUlDLEtBQUtULE1BQU1VLE9BQU87Z0RBQUVDLEtBQUtYLE1BQU1ZLElBQUk7Ozs7OzswREFDeEMsOERBQUNFOzBEQUFNZCxNQUFNWSxJQUFJOzs7Ozs7MERBQ2pCLDhEQUFDeUY7Z0RBQU0vRixXQUFXdEIseUdBQWdCOzBEQUFHWSxNQUFNZ0IsSUFBSTs7Ozs7Ozt1Q0FaMUNaLE1BQU1JLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCckQ7SUFqckRNNk87TUFBQUE7QUFtckROLGlFQUFlQSxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEhQXFxPbmVEcml2ZVxcRGVza3RvcFxcbmZ0IGdlbmVyYXRvclxcc3JjXFxjb21wb25lbnRzXFxjb2xsZWN0aW9uXFxUcmFpdFVwbG9hZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVwbG9hZCwgUGx1cywgWCwgR3JpcFZlcnRpY2FsLCBUcmFzaDIsIFNldHRpbmdzLCBDb3B5LCBBbGVydENpcmNsZSwgQ2hldnJvbkRvd24sIFJlZnJlc2hDdywgRXllLCBBcnJvd1JpZ2h0LCBCYW4sIEFycm93TGVmdCwgQ2hldnJvblVwIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEZhVHJhc2gsIEZhUGx1cywgRmFDb2csIEZhQ29weSB9IGZyb20gJ3JlYWN0LWljb25zL2ZhJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnQC9zdHlsZXMvY29tcG9uZW50cy9jb2xsZWN0aW9uL1RyYWl0VXBsb2FkZXIubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyBUcmFpdExheWVyLCBUcmFpdCBhcyBMaWJUcmFpdCwgQ2hhcmFjdGVyIH0gZnJvbSAnQC9saWIvdHlwZXMnO1xuaW1wb3J0IHsgRHJhZ0Ryb3BDb250ZXh0LCBEcm9wcGFibGUsIERyYWdnYWJsZSwgRHJvcFJlc3VsdCB9IGZyb20gJ3JlYWN0LWJlYXV0aWZ1bC1kbmQnO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdyZWFjdC1ob3QtdG9hc3QnO1xuaW1wb3J0IHsgdXBkYXRlTGF5ZXJOYW1lIH0gZnJvbSAnQC9saWIvdXRpbHMvbGF5ZXJVdGlscyc7XG5cbnR5cGUgVHJhaXQgPSBMaWJUcmFpdDtcblxudHlwZSBMYXllciA9IFRyYWl0TGF5ZXI7XG5cbmludGVyZmFjZSBUcmFpdFVwbG9hZGVyUHJvcHMge1xuICAgIG9uTmV4dDogKCkgPT4gdm9pZDtcbiAgICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gICAgb25MYXllcnNVcGRhdGU6IChsYXllcnM6IFRyYWl0TGF5ZXJbXSwgcnVsZXM/OiBSdWxlW10pID0+IHZvaWQ7XG4gICAgbGF5ZXJzPzogVHJhaXRMYXllcltdO1xuICAgIGluaXRpYWxSdWxlcz86IFJ1bGVbXTtcbiAgICBoaWRlTmF2aWdhdGlvbj86IGJvb2xlYW47XG4gICAgY2hhcmFjdGVycz86IENoYXJhY3RlcltdO1xufVxuXG4vLyBBZGQgdGhlc2UgaW50ZXJmYWNlc1xuaW50ZXJmYWNlIFJ1bGUge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgc291cmNlTGF5ZXJJZDogc3RyaW5nO1xuICAgIHNvdXJjZVRyYWl0OiBzdHJpbmc7XG4gICAgdGFyZ2V0TGF5ZXJJZDogc3RyaW5nO1xuICAgIHRhcmdldFRyYWl0OiBzdHJpbmc7XG4gICAgdHlwZTogJ3JlcXVpcmUnIHwgJ2V4Y2x1ZGUnO1xufVxuXG4vLyBBZGQgdGhpcyBuZWFyIHRoZSB0b3Agb2YgdGhlIGZpbGUgd2l0aCBvdGhlciBpbnRlcmZhY2VzXG5pbnRlcmZhY2UgTGF5ZXJWYWxpZGF0aW9uIHtcbiAgICBpc1ZhbGlkOiBib29sZWFuO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8vIEFkZCB0aGlzIHZhbGlkYXRpb24gZnVuY3Rpb25cbmNvbnN0IHZhbGlkYXRlTGF5ZXJzID0gKGxheWVyczogTGF5ZXJbXSk6IExheWVyVmFsaWRhdGlvbiA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgbGF5ZXJcbiAgICBpZiAobGF5ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnWW91IG5lZWQgYXQgbGVhc3Qgb25lIGxheWVyIHRvIGdlbmVyYXRlIE5GVHMnXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIE9wdGlvbmFsOiBDaGVjayBmb3IgYmFja2dyb3VuZCBsYXllciBpZiBuZWVkZWRcbiAgICBjb25zdCBoYXNCYWNrZ3JvdW5kTGF5ZXIgPSBsYXllcnMuc29tZShsYXllciA9PiBsYXllci5pc0JhY2tncm91bmQgPT09IHRydWUpO1xuICAgIGlmICghaGFzQmFja2dyb3VuZExheWVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1ZhbGlkOiB0cnVlIC8vIENoYW5nZWQgdG8gdHJ1ZSB0byBtYWtlIGJhY2tncm91bmQgb3B0aW9uYWxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNWYWxpZDogdHJ1ZVxuICAgIH07XG59O1xuXG4vLyBBZGQgdGhpcyBoZWxwZXIgY29tcG9uZW50IGJlZm9yZSB0aGUgTGF5ZXJTZXR0aW5ncyBjb21wb25lbnRcbmNvbnN0IFRyYWl0RGlzcGxheSA9ICh7IGxheWVyLCB0cmFpdElkIH06IHsgbGF5ZXI/OiBMYXllcjsgdHJhaXRJZDogc3RyaW5nIH0pID0+IHtcbiAgICBpZiAoIWxheWVyKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBjb25zdCB0cmFpdCA9IGxheWVyLnRyYWl0cy5maW5kKHQgPT4gdC5pZCA9PT0gdHJhaXRJZCk7XG4gICAgaWYgKCF0cmFpdCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0RGlzcGxheX0+XG4gICAgICAgICAgICA8aW1nIHNyYz17dHJhaXQucHJldmlld30gYWx0PXt0cmFpdC5uYW1lfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50cmFpdEluZm99PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0TmFtZX0+e3RyYWl0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmxheWVyTmFtZX0+e2xheWVyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG4vLyBNb3ZlIExheWVyU2V0dGluZ3Mgb3V0c2lkZSBvZiBUcmFpdFVwbG9hZGVyXG5jb25zdCBMYXllclNldHRpbmdzID0gUmVhY3QubWVtbygoeyBcbiAgICBsYXllcklkLCBcbiAgICBsYXllcnMsIFxuICAgIHVwZGF0ZUxheWVyU2V0dGluZywgXG4gICAgc2V0U2hvd1NldHRpbmdzLCBcbiAgICBnbG9iYWxSdWxlcyxcbiAgICB1cGRhdGVHbG9iYWxSdWxlc1xufTogeyBcbiAgICBsYXllcklkOiBzdHJpbmc7XG4gICAgbGF5ZXJzOiBMYXllcltdO1xuICAgIHVwZGF0ZUxheWVyU2V0dGluZzogKGxheWVySWQ6IHN0cmluZywgZmllbGQ6IHN0cmluZywgdmFsdWU6IGFueSkgPT4gdm9pZDtcbiAgICBzZXRTaG93U2V0dGluZ3M6ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgICBnbG9iYWxSdWxlczogUnVsZVtdO1xuICAgIHVwZGF0ZUdsb2JhbFJ1bGVzOiAocnVsZXM6IFJ1bGVbXSkgPT4gdm9pZDtcbn0pID0+IHtcbiAgICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGU8J2Fzc2V0cycgfCAncnVsZXMnPignYXNzZXRzJyk7XG4gICAgY29uc3QgW3NlbGVjdGVkU291cmNlVHJhaXQsIHNldFNlbGVjdGVkU291cmNlVHJhaXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkU291cmNlTGF5ZXIsIHNldFNlbGVjdGVkU291cmNlTGF5ZXJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkVGFyZ2V0VHJhaXQsIHNldFNlbGVjdGVkVGFyZ2V0VHJhaXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkVGFyZ2V0TGF5ZXIsIHNldFNlbGVjdGVkVGFyZ2V0TGF5ZXJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkUnVsZVR5cGUsIHNldFNlbGVjdGVkUnVsZVR5cGVdID0gdXNlU3RhdGU8J3JlcXVpcmUnIHwgJ2V4Y2x1ZGUnPigncmVxdWlyZScpO1xuICAgIGNvbnN0IFtlZGl0aW5nUnVsZSwgc2V0RWRpdGluZ1J1bGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2VkaXRpbmdUcmFpdFR5cGUsIHNldEVkaXRpbmdUcmFpdFR5cGVdID0gdXNlU3RhdGU8J3NvdXJjZScgfCAndGFyZ2V0JyB8IG51bGw+KG51bGwpO1xuXG4gICAgY29uc3QgbGF5ZXIgPSBsYXllcnMuZmluZChsID0+IGwuaWQgPT09IGxheWVySWQpO1xuXG4gICAgLy8gQWRkIGhhbmRsZXIgZm9yIHJ1bGUgY3JlYXRpb25cbiAgICBjb25zdCBoYW5kbGVBZGRSdWxlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIXNlbGVjdGVkU291cmNlVHJhaXQgfHwgIXNlbGVjdGVkVGFyZ2V0VHJhaXQgfHwgXG4gICAgICAgICAgICAhc2VsZWN0ZWRTb3VyY2VMYXllciB8fCAhc2VsZWN0ZWRUYXJnZXRMYXllcikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5ld1J1bGU6IFJ1bGUgPSB7XG4gICAgICAgICAgICBpZDogYHJ1bGUtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICAgIHNvdXJjZUxheWVySWQ6IHNlbGVjdGVkU291cmNlTGF5ZXIsXG4gICAgICAgICAgICBzb3VyY2VUcmFpdDogc2VsZWN0ZWRTb3VyY2VUcmFpdCxcbiAgICAgICAgICAgIHRhcmdldExheWVySWQ6IHNlbGVjdGVkVGFyZ2V0TGF5ZXIsXG4gICAgICAgICAgICB0YXJnZXRUcmFpdDogc2VsZWN0ZWRUYXJnZXRUcmFpdCxcbiAgICAgICAgICAgIHR5cGU6IHNlbGVjdGVkUnVsZVR5cGVcbiAgICAgICAgfTtcblxuICAgICAgICB1cGRhdGVHbG9iYWxSdWxlcyhbLi4uZ2xvYmFsUnVsZXMsIG5ld1J1bGVdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc2V0IHNlbGVjdGlvbnNcbiAgICAgICAgc2V0U2VsZWN0ZWRTb3VyY2VUcmFpdChudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRTb3VyY2VMYXllcihudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRUYXJnZXRUcmFpdChudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRUYXJnZXRMYXllcihudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRSdWxlVHlwZSgncmVxdWlyZScpO1xuICAgIH0sIFtzZWxlY3RlZFNvdXJjZVRyYWl0LCBzZWxlY3RlZFRhcmdldFRyYWl0LCBzZWxlY3RlZFNvdXJjZUxheWVyLCBcbiAgICAgICAgc2VsZWN0ZWRUYXJnZXRMYXllciwgc2VsZWN0ZWRSdWxlVHlwZSwgdXBkYXRlR2xvYmFsUnVsZXMsIGdsb2JhbFJ1bGVzXSk7XG5cbiAgICAvLyBBZGQgaGFuZGxlciBmb3IgcnVsZSByZW1vdmFsXG4gICAgY29uc3QgaGFuZGxlUmVtb3ZlUnVsZSA9IChydWxlSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICB1cGRhdGVHbG9iYWxSdWxlcyhnbG9iYWxSdWxlcy5maWx0ZXIocnVsZSA9PiBydWxlLmlkICE9PSBydWxlSWQpKTtcbiAgICB9O1xuXG4gICAgaWYgKCFsYXllcikgcmV0dXJuIG51bGw7XG5cbiAgIFxuXG4gICAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICBjb25zdCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzO1xuICAgICAgICBpZiAoIWZpbGVzKSByZXR1cm47XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgZmlsZSBzaXplcyBhbmQgdHlwZXNcbiAgICAgICAgY29uc3QgdmFsaWRGaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcihgJHtmaWxlLm5hbWV9IGlzIHRvbyBsYXJnZSAobWF4IDVNQilgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKGAke2ZpbGUubmFtZX0gaXMgbm90IGFuIGltYWdlYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWxpZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXdUcmFpdHM6IFRyYWl0W10gPSB2YWxpZEZpbGVzLm1hcChmaWxlID0+ICh7XG4gICAgICAgICAgICAgICAgaWQ6IGB0cmFpdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZS5zcGxpdCgnLicpWzBdLnJlcGxhY2UoL1teYS16QS1aMC05LV9dL2csICdfJyksXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGZpbGUsXG4gICAgICAgICAgICAgICAgcHJldmlldzogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSxcbiAgICAgICAgICAgICAgICByYXJpdHk6IDEwMCxcbiAgICAgICAgICAgICAgICBsYXllck5hbWU6IGxheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gbGF5ZXJJZCk/Lm5hbWUgfHwgJ1Vua25vd24gTGF5ZXInXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBsYXllcklkKTtcbiAgICAgICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxheWVyU2V0dGluZyhsYXllcklkLCAndHJhaXRzJywgWy4uLmxheWVyLnRyYWl0cywgLi4ubmV3VHJhaXRzXSk7XG4gICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhgQWRkZWQgJHtuZXdUcmFpdHMubGVuZ3RofSB0cmFpdHMgdG8gJHtsYXllci5uYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBmaWxlcycpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LCBbbGF5ZXJzXSk7XG5cbiAgICBcblxuICAgIGNvbnN0IHVwZGF0ZVJ1bGUgPSAocnVsZUlkOiBzdHJpbmcsIGZpZWxkOiBrZXlvZiBSdWxlLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHVwZGF0ZUxheWVyU2V0dGluZyhcbiAgICAgICAgICAgIGxheWVySWQsIFxuICAgICAgICAgICAgJ3J1bGVzJywgXG4gICAgICAgICAgICAobGF5ZXIucnVsZXMgfHwgW10pLm1hcCgocnVsZTogeyBpZDogc3RyaW5nOyB9KSA9PiBcbiAgICAgICAgICAgICAgICBydWxlLmlkID09PSBydWxlSWQgPyB7IC4uLnJ1bGUsIFtmaWVsZF06IHZhbHVlIH0gOiBydWxlXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW92ZVJ1bGUgPSAocnVsZUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdXBkYXRlTGF5ZXJTZXR0aW5nKFxuICAgICAgICAgICAgbGF5ZXJJZCxcbiAgICAgICAgICAgICdydWxlcycsXG4gICAgICAgICAgICAobGF5ZXIucnVsZXMgfHwgW10pLmZpbHRlcigocnVsZTogeyBpZDogc3RyaW5nOyB9KSA9PiBydWxlLmlkICE9PSBydWxlSWQpXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJ1bGVDcmVhdGlvbiA9ICh0eXBlOiBzdHJpbmcsIHRhcmdldExheWVySWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBuZXdSdWxlID0ge1xuICAgICAgICAgICAgaWQ6IGBydWxlLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHNvdXJjZUxheWVySWQ6IGxheWVySWQsXG4gICAgICAgICAgICB0YXJnZXRMYXllcklkLFxuICAgICAgICAgICAgc291cmNlVHJhaXQ6ICcnLFxuICAgICAgICAgICAgdGFyZ2V0VHJhaXQ6ICcnXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB1cGRhdGVMYXllclNldHRpbmcobGF5ZXJJZCwgJ3J1bGVzJywgWy4uLihsYXllci5ydWxlcyB8fCBbXSksIG5ld1J1bGVdKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUnVsZUNhcmRDbGljayA9IChydWxlOiBSdWxlLCB0eXBlOiAnc291cmNlJyB8ICd0YXJnZXQnKSA9PiB7XG4gICAgICAgIHNldEVkaXRpbmdSdWxlKHJ1bGUuaWQpO1xuICAgICAgICBzZXRFZGl0aW5nVHJhaXRUeXBlKHR5cGUpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSdWxlVHlwZVRvZ2dsZSA9IChydWxlOiBSdWxlKSA9PiB7XG4gICAgICAgIGhhbmRsZVVwZGF0ZVJ1bGUocnVsZS5pZCwge1xuICAgICAgICAgICAgdHlwZTogcnVsZS50eXBlID09PSAncmVxdWlyZScgPyAnZXhjbHVkZScgOiAncmVxdWlyZSdcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIEFkZCB0aGlzIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgcnVsZSBhbHJlYWR5IGV4aXN0c1xuICAgIGNvbnN0IGlzUnVsZUV4aXN0cyA9IChzb3VyY2VMYXllcklkOiBzdHJpbmcsIHNvdXJjZVRyYWl0OiBzdHJpbmcsIHRhcmdldExheWVySWQ6IHN0cmluZywgdGFyZ2V0VHJhaXQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2xvYmFsUnVsZXMuc29tZShydWxlID0+IFxuICAgICAgICAgICAgKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gc291cmNlTGF5ZXJJZCAmJiBcbiAgICAgICAgICAgICBydWxlLnNvdXJjZVRyYWl0ID09PSBzb3VyY2VUcmFpdCAmJiBcbiAgICAgICAgICAgICBydWxlLnRhcmdldExheWVySWQgPT09IHRhcmdldExheWVySWQgJiYgXG4gICAgICAgICAgICAgcnVsZS50YXJnZXRUcmFpdCA9PT0gdGFyZ2V0VHJhaXQpIHx8XG4gICAgICAgICAgICAvLyBBbHNvIGNoZWNrIHRoZSByZXZlcnNlIGNvbWJpbmF0aW9uXG4gICAgICAgICAgICAocnVsZS5zb3VyY2VMYXllcklkID09PSB0YXJnZXRMYXllcklkICYmIFxuICAgICAgICAgICAgIHJ1bGUuc291cmNlVHJhaXQgPT09IHRhcmdldFRyYWl0ICYmIFxuICAgICAgICAgICAgIHJ1bGUudGFyZ2V0TGF5ZXJJZCA9PT0gc291cmNlTGF5ZXJJZCAmJiBcbiAgICAgICAgICAgICBydWxlLnRhcmdldFRyYWl0ID09PSBzb3VyY2VUcmFpdClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHRoaXMgZnVuY3Rpb24gdG8gZ2V0IGF2YWlsYWJsZSB0YXJnZXQgbGF5ZXJzIGFuZCB0cmFpdHNcbiAgICBjb25zdCBnZXRBdmFpbGFibGVUYXJnZXRzID0gKHNvdXJjZUxheWVySWQ6IHN0cmluZywgc291cmNlVHJhaXQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gbGF5ZXJzLmZpbHRlcihsYXllciA9PiBsYXllci5pZCAhPT0gc291cmNlTGF5ZXJJZCkubWFwKGxheWVyID0+ICh7XG4gICAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAgIHRyYWl0czogbGF5ZXIudHJhaXRzLmZpbHRlcih0cmFpdCA9PiBcbiAgICAgICAgICAgICAgICAhaXNSdWxlRXhpc3RzKHNvdXJjZUxheWVySWQsIHNvdXJjZVRyYWl0LCBsYXllci5pZCwgdHJhaXQuaWQpXG4gICAgICAgICAgICApXG4gICAgICAgIH0pKS5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIudHJhaXRzLmxlbmd0aCA+IDApOyAvLyBPbmx5IHJldHVybiBsYXllcnMgdGhhdCBoYXZlIGF2YWlsYWJsZSB0cmFpdHNcbiAgICB9O1xuXG4gICAgLy8gQWRkIHRoaXMgZnVuY3Rpb24gdG8gY2hlY2sgZm9yIGV4aXN0aW5nIHJ1bGVzXG4gICAgY29uc3QgaXNUcmFpdEluUnVsZSA9IChsYXllcklkOiBzdHJpbmcsIHRyYWl0SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2xvYmFsUnVsZXMuc29tZShydWxlID0+IFxuICAgICAgICAgICAgKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gbGF5ZXJJZCAmJiBydWxlLnNvdXJjZVRyYWl0ID09PSB0cmFpdElkKSB8fFxuICAgICAgICAgICAgKHJ1bGUudGFyZ2V0TGF5ZXJJZCA9PT0gbGF5ZXJJZCAmJiBydWxlLnRhcmdldFRyYWl0ID09PSB0cmFpdElkKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBnZXQgYXZhaWxhYmxlIHRyYWl0cyBmb3Igc2VsZWN0aW9uXG4gICAgY29uc3QgZ2V0QXZhaWxhYmxlVHJhaXRzID0gKGV4Y2x1ZGVMYXllcklkPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBsYXllcnMuZmlsdGVyKGxheWVyID0+ICFleGNsdWRlTGF5ZXJJZCB8fCBsYXllci5pZCAhPT0gZXhjbHVkZUxheWVySWQpXG4gICAgICAgICAgICAubWFwKGxheWVyID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICAgICAgdHJhaXRzOiBsYXllci50cmFpdHMuZmlsdGVyKHRyYWl0ID0+IFxuICAgICAgICAgICAgICAgICAgICAhaXNUcmFpdEluUnVsZShsYXllci5pZCwgdHJhaXQuaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIChzZWxlY3RlZFNvdXJjZUxheWVyID09PSBsYXllci5pZCAmJiBzZWxlY3RlZFNvdXJjZVRyYWl0ID09PSB0cmFpdC5pZClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIC5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIudHJhaXRzLmxlbmd0aCA+IDApO1xuICAgIH07XG5cbiAgICAvLyBVcGRhdGUgdGhlIHRyYWl0IHNlbGVjdGlvbiByZW5kZXJpbmdcbiAgICBjb25zdCByZW5kZXJUcmFpdFNlbGVjdGlvbiA9IChpc1NvdXJjZTogYm9vbGVhbikgPT4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0U2VsZWN0R3JvdXB9PlxuICAgICAgICAgICAgPGxhYmVsPntpc1NvdXJjZSA/ICdTZWxlY3QgZmlyc3QgdHJhaXQ6JyA6ICdTZWxlY3Qgc2Vjb25kIHRyYWl0Oid9PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudHJhaXRTZWxlY3RCb3h9PlxuICAgICAgICAgICAgICAgIHtnZXRBdmFpbGFibGVUcmFpdHMoaXNTb3VyY2UgPyB1bmRlZmluZWQgOiBzZWxlY3RlZFNvdXJjZUxheWVyIHx8IHVuZGVmaW5lZCkubWFwKGxheWVyID0+IChcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIudHJhaXRzLm1hcCh0cmFpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gaXNTb3VyY2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZFNvdXJjZVRyYWl0ID09PSB0cmFpdC5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRUYXJnZXRUcmFpdCA9PT0gdHJhaXQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake2xheWVyLmlkfS0ke3RyYWl0LmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnRyYWl0T3B0aW9ufSAke2lzU2VsZWN0ZWQgPyBzdHlsZXMuc2VsZWN0ZWQgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNvdXJjZUxheWVyKGxheWVyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNvdXJjZVRyYWl0KHRyYWl0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRhcmdldExheWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGFyZ2V0VHJhaXQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGFyZ2V0TGF5ZXIobGF5ZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGFyZ2V0VHJhaXQodHJhaXQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3RyYWl0LnByZXZpZXd9IGFsdD17dHJhaXQubmFtZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3RyYWl0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJOYW1lfT57bGF5ZXIubmFtZX08L3NtYWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlVXBkYXRlUnVsZShpZDogc3RyaW5nLCBhcmcxOiB7IHR5cGU6IHN0cmluZzsgfSk6IHZvaWQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsT3ZlcmxheX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdzTW9kYWx9IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tb2RhbEhlYWRlcn0+XG4gICAgICAgICAgICAgICAgICAgIDxoMz5MYXllciBTZXR0aW5nczwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dTZXR0aW5ncyhudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNsb3NlQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBTYXZlICYgQ2xvc2VcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdGaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5EaXNwbGF5IE5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtsYXllcj8uZGlzcGxheU5hbWUgfHwgbGF5ZXI/Lm5hbWUgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVMYXllclNldHRpbmcobGF5ZXJJZCwgJ25hbWUnLCBlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJTZXR0aW5nKGxheWVySWQsICdkaXNwbGF5TmFtZScsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdGaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ1dpdGhIZWxwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ0xhYmVsfT5NZXRhZGF0YSBWaXNpYmlsaXR5PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdUb2dnbGVXcmFwcGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtzdHlsZXMudG9nZ2xlU3dpdGNofT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bGF5ZXI/LnNob3dJbk1ldGFkYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJTZXR0aW5nKGxheWVySWQsICdzaG93SW5NZXRhZGF0YScsIGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsOiBBZGQgdmlzdWFsIGZlZWRiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGUudGFyZ2V0LmNoZWNrZWQgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7bGF5ZXI/Lm5hbWV9IHdpbGwgYmUgc2hvd24gaW4gbWV0YWRhdGFgIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2xheWVyPy5uYW1lfSB3aWxsIGJlIGhpZGRlbiBmcm9tIG1ldGFkYXRhYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB5b3UgaGF2ZSBhIHRvYXN0L25vdGlmaWNhdGlvbiBzeXN0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMudG9nZ2xlU2xpZGVyfT48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy50b2dnbGVMYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYXllcj8uc2hvd0luTWV0YWRhdGEgPyAnVmlzaWJsZSBpbiBNZXRhZGF0YScgOiAnSGlkZGVuIGluIE1ldGFkYXRhJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdIZWxwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRvZ2dsZSB0byBjb250cm9sIHdoZXRoZXIgdHJhaXRzIGZyb20gdGhpcyBsYXllciBhcHBlYXIgaW4gdGhlIE5GVCBtZXRhZGF0YS4gXG4gICAgICAgICAgICAgICAgICAgICAgICBIaWRkZW4gbGF5ZXJzIHdvbid0IGFmZmVjdCB0aGUgdmlzdWFsIGFwcGVhcmFuY2UgYnV0IHdvbid0IGJlIGluY2x1ZGVkIGluIG1ldGFkYXRhLlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdGaWVsZH0+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5MYXllciBSYXJpdHk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eVNsaWRlckNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2xheWVyPy5sYXllclJhcml0eSB8fCAxMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJTZXR0aW5nKGxheWVySWQsICdsYXllclJhcml0eScsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdTbGlkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMucmFyaXR5VmFsdWV9PntsYXllcj8ubGF5ZXJSYXJpdHkgfHwgMTAwfSU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nSGVscH0+XG4gICAgICAgICAgICAgICAgICAgICAgICBDaGFuY2Ugb2YgdGhpcyBsYXllciBhcHBlYXJpbmcgaW4gdGhlIGdlbmVyYXRlZCBORlRzLiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsYXllcj8ubGF5ZXJSYXJpdHkgIT09IHVuZGVmaW5lZCAmJiBsYXllci5sYXllclJhcml0eSA8IDEwMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz4gVGhpcyBsYXllciB3aWxsIG9ubHkgYXBwZWFyIGluIHtsYXllci5sYXllclJhcml0eX0lIG9mIHRoZSBORlRzLjwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50YWJCdXR0b25zfT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnRhYkJ1dHRvbn0gJHthY3RpdmVUYWIgPT09ICdhc3NldHMnID8gc3R5bGVzLmFjdGl2ZSA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2Fzc2V0cycpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBBc3NldHNcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy50YWJCdXR0b259ICR7YWN0aXZlVGFiID09PSAncnVsZXMnID8gc3R5bGVzLmFjdGl2ZSA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ3J1bGVzJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIFJ1bGVzXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50YWJDb250ZW50fT5cbiAgICAgICAgICAgICAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ2Fzc2V0cycgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmFzc2V0c1NlY3Rpb259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudXBsb2FkQXJlYX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgc2V0dGluZ3MtZmlsZS1pbnB1dC0ke2xheWVySWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj17YHNldHRpbmdzLWZpbGUtaW5wdXQtJHtsYXllcklkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy51cGxvYWRCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWQgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5VcGxvYWQgTmV3IEFzc2V0czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGF5ZXI/LnRyYWl0cy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0c0xpc3R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xheWVyLnRyYWl0cy5tYXAodHJhaXQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXt0cmFpdC5pZH0gY2xhc3NOYW1lPXtzdHlsZXMudHJhaXRSb3d9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0SW1hZ2VXcmFwcGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXt0cmFpdC5wcmV2aWV3fSBhbHQ9e3RyYWl0Lm5hbWV9IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0SW1hZ2V9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0RGV0YWlsc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RyYWl0Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVMYXllclNldHRpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFpdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci50cmFpdHMubWFwKHQgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmlkID09PSB0cmFpdC5pZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4udCwgbmFtZTogZS50YXJnZXQudmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy50cmFpdE5hbWVJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRyYWl0IG5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtzdHlsZXMubm9Bc3NldHNNZXNzYWdlfT5ObyBhc3NldHMgdXBsb2FkZWQgeWV0LiBVc2UgdGhlIGJ1dHRvbiBhYm92ZSB0byBhZGQgc29tZSE8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ydWxlc1NlY3Rpb259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucnVsZURlc2NyaXB0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5DcmVhdGUgcnVsZXMgYmV0d2VlbiB0cmFpdHMgdG8gZGVmaW5lIHRoZWlyIHJlbGF0aW9uc2hpcHM8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRmlyc3QgVHJhaXQgU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudHJhaXRTZWxlY3RHcm91cH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5TZWxlY3QgZmlyc3QgdHJhaXQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50cmFpdFNlbGVjdEJveH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGF5ZXJzLm1hcChsYXllciA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIudHJhaXRzLm1hcCh0cmFpdCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dHJhaXQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy50cmFpdE9wdGlvbn0gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNvdXJjZVRyYWl0ID09PSB0cmFpdC5pZCA/IHN0eWxlcy5zZWxlY3RlZCA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNvdXJjZUxheWVyKGxheWVyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNvdXJjZVRyYWl0KHRyYWl0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCB0YXJnZXQgc2VsZWN0aW9uIHdoZW4gc291cmNlIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRhcmdldExheWVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGFyZ2V0VHJhaXQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dHJhaXQucHJldmlld30gYWx0PXt0cmFpdC5uYW1lfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3RyYWl0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT17c3R5bGVzLmxheWVyTmFtZX0+e2xheWVyLm5hbWV9PC9zbWFsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSdWxlIFR5cGUgU2VsZWN0aW9uIC0gU2hvd3MgYWZ0ZXIgZmlyc3QgdHJhaXQgaXMgc2VsZWN0ZWQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU291cmNlVHJhaXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJ1bGVUeXBlU2VsZWN0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UaGlzIHRyYWl0OjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJ1bGVUeXBlQnV0dG9uc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMucnVsZVR5cGVCdXR0b259ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJ1bGVUeXBlID09PSAncmVxdWlyZScgPyBzdHlsZXMuc2VsZWN0ZWQgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRSdWxlVHlwZSgncmVxdWlyZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTXVzdCBJbmNsdWRlIDxBcnJvd1JpZ2h0IHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnJ1bGVUeXBlQnV0dG9ufSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSdWxlVHlwZSA9PT0gJ2V4Y2x1ZGUnID8gc3R5bGVzLnNlbGVjdGVkIDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkUnVsZVR5cGUoJ2V4Y2x1ZGUnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbm5vdCBJbmNsdWRlIDxCYW4gc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTZWNvbmQgVHJhaXQgU2VsZWN0aW9uIC0gU2hvd3MgYWZ0ZXIgcnVsZSB0eXBlIGlzIHNlbGVjdGVkICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFNvdXJjZVRyYWl0ICYmIHNlbGVjdGVkUnVsZVR5cGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0U2VsZWN0R3JvdXB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlNlbGVjdCBzZWNvbmQgdHJhaXQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudHJhaXRTZWxlY3RCb3h9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYXllcnMubWFwKGxheWVyID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgbGF5ZXIgdGhhdCBjb250YWlucyB0aGUgc291cmNlIHRyYWl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmlkICE9PSBzZWxlY3RlZFNvdXJjZUxheWVyICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci50cmFpdHMubWFwKHRyYWl0ID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RyYWl0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnRyYWl0T3B0aW9ufSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRhcmdldFRyYWl0ID09PSB0cmFpdC5pZCA/IHN0eWxlcy5zZWxlY3RlZCA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRhcmdldExheWVyKGxheWVyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUYXJnZXRUcmFpdCh0cmFpdC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17dHJhaXQucHJldmlld30gYWx0PXt0cmFpdC5uYW1lfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt0cmFpdC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJOYW1lfT57bGF5ZXIubmFtZX08L3NtYWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBZGQgUnVsZSBCdXR0b24gLSBTaG93cyB3aGVuIGJvdGggdHJhaXRzIGFyZSBzZWxlY3RlZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRTb3VyY2VUcmFpdCAmJiBzZWxlY3RlZFRhcmdldFRyYWl0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ydWxlQWN0aW9uc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmFkZFJ1bGVCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSdWxlOiBSdWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGBydWxlLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlTGF5ZXJJZDogc2VsZWN0ZWRTb3VyY2VMYXllciEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VUcmFpdDogc2VsZWN0ZWRTb3VyY2VUcmFpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldExheWVySWQ6IHNlbGVjdGVkVGFyZ2V0TGF5ZXIhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VHJhaXQ6IHNlbGVjdGVkVGFyZ2V0VHJhaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBzZWxlY3RlZFJ1bGVUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUdsb2JhbFJ1bGVzKFsuLi5nbG9iYWxSdWxlcywgbmV3UnVsZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzZWxlY3Rpb25zIGFmdGVyIGFkZGluZyBydWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU291cmNlVHJhaXQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU291cmNlTGF5ZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGFyZ2V0VHJhaXQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGFyZ2V0TGF5ZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgUnVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRXhpc3RpbmcgUnVsZXMgRGlzcGxheSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2xvYmFsUnVsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZXhpc3RpbmdSdWxlc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RXhpc3RpbmcgUnVsZXM8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dsb2JhbFJ1bGVzLm1hcChydWxlID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cnVsZS5pZH0gY2xhc3NOYW1lPXtzdHlsZXMucnVsZUl0ZW19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJ1bGVDb250ZW50fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFpdERpc3BsYXkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI9e2xheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gcnVsZS5zb3VyY2VMYXllcklkKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXRJZD17cnVsZS5zb3VyY2VUcmFpdH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJ1bGVDb25kaXRpb25CdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVXBkYXRlUnVsZShydWxlLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHJ1bGUudHlwZSA9PT0gJ3JlcXVpcmUnID8gJ2V4Y2x1ZGUnIDogJ3JlcXVpcmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3J1bGUudHlwZSA9PT0gJ3JlcXVpcmUnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Pk11c3QgSW5jbHVkZSA8QXJyb3dSaWdodCBzaXplPXsxNn0gLz48Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PkNhbm5vdCBJbmNsdWRlIDxCYW4gc2l6ZT17MTZ9IC8+PC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYWl0RGlzcGxheSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcj17bGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBydWxlLnRhcmdldExheWVySWQpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpdElkPXtydWxlLnRhcmdldFRyYWl0fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVJlbW92ZVJ1bGUocnVsZS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmVtb3ZlUnVsZUJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufSk7XG5cbmNvbnN0IG1vdmVMYXllciA9IChsYXllcnM6IExheWVyW10sIGZyb21JbmRleDogbnVtYmVyLCB0b0luZGV4OiBudW1iZXIpID0+IHtcbiAgICAvLyBHZXQgb25seSBmaWx0ZXJlZCBsYXllcnMgdGhhdCBhcmUgYmVpbmcgZGlzcGxheWVkXG4gICAgY29uc3QgZGlzcGxheUxheWVycyA9IFsuLi5sYXllcnNdLmZpbHRlcihsYXllciA9PiAhbGF5ZXIuaXNCYWNrZ3JvdW5kKTtcbiAgICBcbiAgICAvLyBTYWZldHkgY2hlY2tzXG4gICAgaWYgKGZyb21JbmRleCA8IDAgfHwgZnJvbUluZGV4ID49IGRpc3BsYXlMYXllcnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIHNvdXJjZSBpbmRleCcsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuICAgIFxuICAgIGlmICh0b0luZGV4IDwgMCB8fCB0b0luZGV4ID49IGRpc3BsYXlMYXllcnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIGRlc3RpbmF0aW9uIGluZGV4JywgdG9JbmRleCk7XG4gICAgICAgIHJldHVybiBsYXllcnM7XG4gICAgfVxuICAgIFxuICAgIC8vIFByZXZlbnQgbW92aW5nIHRoZSBiYWNrZ3JvdW5kIGxheWVyXG4gICAgY29uc3QgZnJvbUxheWVyID0gZGlzcGxheUxheWVyc1tmcm9tSW5kZXhdO1xuICAgIGlmIChmcm9tTGF5ZXI/LmlzRGVmYXVsdEJhY2tncm91bmQgPT09IHRydWUgfHwgZnJvbUxheWVyPy5pc0JhY2tncm91bmQgPT09IHRydWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCBtb3ZlIGJhY2tncm91bmQgbGF5ZXInKTtcbiAgICAgICAgcmV0dXJuIGxheWVycztcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgY29weSBvZiB0aGUgbGF5ZXJzIGFycmF5XG4gICAgY29uc3QgbmV3TGF5ZXJzID0gWy4uLmxheWVyc107XG4gICAgXG4gICAgLy8gSWRlbnRpZnkgdGhlIGFjdHVhbCBsYXllcnMgdG8gbW92ZSBieSB0aGVpciBJRHNcbiAgICBjb25zdCBzb3VyY2VMYXllciA9IGRpc3BsYXlMYXllcnNbZnJvbUluZGV4XTtcbiAgICBjb25zdCBzb3VyY2VJbmRleCA9IG5ld0xheWVycy5maW5kSW5kZXgobCA9PiBsLmlkID09PSBzb3VyY2VMYXllci5pZCk7XG4gICAgXG4gICAgLy8gTW92ZSB0aGUgbGF5ZXJcbiAgICBjb25zdCBbcmVtb3ZlZF0gPSBuZXdMYXllcnMuc3BsaWNlKHNvdXJjZUluZGV4LCAxKTtcbiAgICBcbiAgICAvLyBGaW5kIHRoZSBkZXN0aW5hdGlvbiBpbmRleCBpbiB0aGUgY29tcGxldGUgbGF5ZXJzIGFycmF5XG4gICAgbGV0IGRlc3RJbmRleDtcbiAgICBpZiAodG9JbmRleCA+PSBkaXNwbGF5TGF5ZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gSWYgbW92aW5nIHRvIHRoZSBlbmQsIHB1dCBpdCBhdCB0aGUgZW5kIG9mIGFsbCBsYXllcnNcbiAgICAgICAgZGVzdEluZGV4ID0gbmV3TGF5ZXJzLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgZmluZCB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc3RpbmF0aW9uIGxheWVyIGluIHRoZSBjb21wbGV0ZSBhcnJheVxuICAgICAgICBjb25zdCBkZXN0TGF5ZXIgPSBkaXNwbGF5TGF5ZXJzW3RvSW5kZXhdO1xuICAgICAgICBkZXN0SW5kZXggPSBuZXdMYXllcnMuZmluZEluZGV4KGwgPT4gbC5pZCA9PT0gZGVzdExheWVyLmlkKTtcbiAgICB9XG4gICAgXG4gICAgbmV3TGF5ZXJzLnNwbGljZShkZXN0SW5kZXgsIDAsIHJlbW92ZWQpO1xuICAgIFxuICAgIC8vIFJlLW9yZGVyIGFsbCBsYXllcnNcbiAgICByZXR1cm4gbmV3TGF5ZXJzLm1hcCgobGF5ZXIsIGluZGV4KSA9PiAoe1xuICAgICAgICAuLi5sYXllcixcbiAgICAgICAgb3JkZXI6IChsYXllci5pc0JhY2tncm91bmQgPT09IHRydWUpID8gMCA6IGluZGV4ICsgMVxuICAgIH0pKTtcbn07XG5cbi8vIERlZmF1bHQgYmFja2dyb3VuZCBsYXllclxuY29uc3QgREVGQVVMVF9CQUNLR1JPVU5EX0xBWUVSOiBUcmFpdExheWVyID0ge1xuICAgIGlkOiAnYmFja2dyb3VuZC1kZWZhdWx0JyxcbiAgICBuYW1lOiAnQmFja2dyb3VuZCcsXG4gICAgZGlzcGxheU5hbWU6ICdCYWNrZ3JvdW5kJyxcbiAgICBpc0JhY2tncm91bmQ6IHRydWUsXG4gICAgdHJhaXRzOiBbXSxcbiAgICBvcmRlcjogMCxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJJZDogJ2RlZmF1bHQtY2hhcmFjdGVyJ1xufTtcblxuLy8gRGVmYXVsdCBjaGFyYWN0ZXJcbmNvbnN0IERFRkFVTFRfQ0hBUkFDVEVSOiBDaGFyYWN0ZXIgPSB7XG4gICAgaWQ6ICdkZWZhdWx0LWNoYXJhY3RlcicsXG4gICAgbmFtZTogJ0RlZmF1bHQgQ2hhcmFjdGVyJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBkZWZhdWx0IGNoYXJhY3RlciB0eXBlJyxcbiAgICBzdXBwbHk6IDAsXG4gICAgbGF5ZXJzOiBbXSxcbiAgICBpbWFnZVByZXZpZXc6ICcnXG59O1xuXG4vLyBEZWZhdWx0IGNoYXJhY3RlciBjcmVhdG9yIGZ1bmN0aW9uXG5jb25zdCBnZXREZWZhdWx0Q2hhcmFjdGVyID0gKCk6IE9taXQ8Q2hhcmFjdGVyLCAnaWQnPiA9PiAoe1xuICAgIG5hbWU6ICdOZXcgQ2hhcmFjdGVyIFR5cGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICBzdXBwbHk6IDAsXG4gICAgbGF5ZXJzOiBbXSxcbiAgICBpbWFnZVByZXZpZXc6ICcnXG59KTtcblxuLy8gQWRkIGhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSB1bmlxdWUgbGF5ZXIgbmFtZVxuY29uc3QgZ2VuZXJhdGVVbmlxdWVMYXllck5hbWUgPSAoYmFzZU5hbWU6IHN0cmluZywgbGF5ZXJzOiBMYXllcltdKTogc3RyaW5nID0+IHtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgbGV0IG5ld05hbWUgPSBgJHtiYXNlTmFtZX0gQ29weWA7XG4gICAgLy8gS2VlcCBhZGRpbmcgbnVtYmVycyB1bnRpbCB3ZSBmaW5kIGEgdW5pcXVlIG5hbWVcbiAgICB3aGlsZSAobGF5ZXJzLnNvbWUoKGxheWVyOiBMYXllcikgPT4gbGF5ZXIubmFtZSA9PT0gbmV3TmFtZSkpIHtcbiAgICAgICAgY291bnRlcisrO1xuICAgICAgICBuZXdOYW1lID0gYCR7YmFzZU5hbWV9IENvcHkgJHtjb3VudGVyfWA7XG4gICAgfVxuICAgIHJldHVybiBuZXdOYW1lO1xufTtcblxuLy8gQWRkIHZhbGlkYXRpb24gZm9yIHRyYWl0IG5hbWVzXG5jb25zdCB2YWxpZGF0ZVRyYWl0TmFtZSA9IChsYXllcklkOiBzdHJpbmcsIHRyYWl0TmFtZTogc3RyaW5nLCBsYXllcnM6IExheWVyW10sIHRyYWl0SWQ/OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBsYXllciA9IGxheWVycy5maW5kKChsOiBMYXllcikgPT4gbC5pZCA9PT0gbGF5ZXJJZCk7XG4gICAgaWYgKCFsYXllcikgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgcmV0dXJuICFsYXllci50cmFpdHMuc29tZSgodCkgPT4gXG4gICAgICAgIHQubmFtZS50b0xvd2VyQ2FzZSgpID09PSB0cmFpdE5hbWUudG9Mb3dlckNhc2UoKSAmJiBcbiAgICAgICAgKCF0cmFpdElkIHx8IHQuaWQgIT09IHRyYWl0SWQpXG4gICAgKTtcbn07XG5cbi8vIEFkZCB0aGlzIGludGVyZmFjZSBmb3IgdGhlIHJhcml0eSBzbGlkZXJcbmludGVyZmFjZSBSYXJpdHlTbGlkZXJQcm9wcyB7XG4gICAgdmFsdWU6IG51bWJlcjtcbiAgICBvbkNoYW5nZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgbGFiZWw6IHN0cmluZztcbn1cblxuY29uc3QgUmFyaXR5U2xpZGVyOiBSZWFjdC5GQzxSYXJpdHlTbGlkZXJQcm9wcz4gPSAoeyB2YWx1ZSwgb25DaGFuZ2UsIGxhYmVsIH0pID0+IHtcbiAgICAvLyBDb252ZXJ0IHdlaWdodCAoMS0xMCkgdG8gZGVzY3JpcHRpdmUgdGV4dFxuICAgIGNvbnN0IGdldFJhcml0eVRleHQgPSAod2VpZ2h0OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAyKSByZXR1cm4gJ1N1cGVyIFJhcmUnO1xuICAgICAgICBpZiAod2VpZ2h0IDw9IDQpIHJldHVybiAnUmFyZSc7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gNykgcmV0dXJuICdVbmNvbW1vbic7XG4gICAgICAgIHJldHVybiAnQ29tbW9uJztcbiAgICB9O1xuXG4gICAgLy8gR2V0IGNvbG9yIGJhc2VkIG9uIHdlaWdodFxuICAgIGNvbnN0IGdldFJhcml0eUNvbG9yID0gKHdlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gMikgcmV0dXJuICcjRkY2QjZCJzsgLy8gUmVkIGZvciBzdXBlciByYXJlXG4gICAgICAgIGlmICh3ZWlnaHQgPD0gNCkgcmV0dXJuICcjOTc3NUZBJzsgLy8gUHVycGxlIGZvciByYXJlXG4gICAgICAgIGlmICh3ZWlnaHQgPD0gNykgcmV0dXJuICcjNERBQkY3JzsgLy8gQmx1ZSBmb3IgdW5jb21tb25cbiAgICAgICAgcmV0dXJuICcjNTFDRjY2JzsgLy8gR3JlZW4gZm9yIGNvbW1vblxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eVNsaWRlckNvbnRhaW5lcn0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eUhlYWRlcn0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMucmFyaXR5TGFiZWx9PntsYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eVZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGdldFJhcml0eUNvbG9yKHZhbHVlKSB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2dldFJhcml0eVRleHQodmFsdWUpfSAoe3ZhbHVlfSlcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2xpZGVyV3JhcHBlcn0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFyaXR5U2xpZGVyfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Z2V0UmFyaXR5Q29sb3IoMSl9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2dldFJhcml0eUNvbG9yKDUpfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtnZXRSYXJpdHlDb2xvcigxMCl9KWAgXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eUluZGljYXRvcnN9PlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TdXBlciBSYXJlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Db21tb248L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbi8vIFVwZGF0ZSB0aGUgdHJhaXQgc2V0dGluZ3MgY29tcG9uZW50XG5jb25zdCBUcmFpdFNldHRpbmdzID0gKHsgdHJhaXQsIG9uVXBkYXRlIH06IHsgdHJhaXQ6IFRyYWl0OyBvblVwZGF0ZTogKHVwZGF0ZXM6IFBhcnRpYWw8VHJhaXQ+KSA9PiB2b2lkIH0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0U2V0dGluZ3N9PlxuICAgICAgICAgICAgPFJhcml0eVNsaWRlclxuICAgICAgICAgICAgICAgIHZhbHVlPXt0cmFpdC5yYXJpdHkgfHwgMTAwfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IG9uVXBkYXRlKHsgcmFyaXR5OiB2YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICBsYWJlbD1cIlRyYWl0IFJhcml0eVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuLy8gQWRkIHRoaXMgY29tcG9uZW50IGZvciB0aGUgdHJhaXQgcmFyaXR5IGVkaXRvclxuY29uc3QgVHJhaXRSYXJpdHlFZGl0b3IgPSAoeyB0cmFpdCwgb25VcGRhdGUgfTogeyBcbiAgICB0cmFpdDogVHJhaXQ7IFxuICAgIG9uVXBkYXRlOiAod2VpZ2h0OiBudW1iZXIpID0+IHZvaWQ7XG59KSA9PiB7XG4gICAgY29uc3QgZ2V0V2VpZ2h0TGFiZWwgPSAod2VpZ2h0OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAyKSByZXR1cm4gJ1N1cGVyIFJhcmUnO1xuICAgICAgICBpZiAod2VpZ2h0IDw9IDQpIHJldHVybiAnUmFyZSc7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gNykgcmV0dXJuICdVbmNvbW1vbic7XG4gICAgICAgIHJldHVybiAnQ29tbW9uJztcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0V2VpZ2h0Q29sb3IgPSAod2VpZ2h0OiBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAyKSByZXR1cm4gJyNGRjZCNkInO1xuICAgICAgICBpZiAod2VpZ2h0IDw9IDQpIHJldHVybiAnIzk3NzVGQSc7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gNykgcmV0dXJuICcjNERBQkY3JztcbiAgICAgICAgcmV0dXJuICcjNTFDRjY2JztcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50cmFpdFJhcml0eUVkaXRvcn0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLndlaWdodEJ1dHRvbnN9PlxuICAgICAgICAgICAgICAgIHtbMSwgMywgNSwgOF0ubWFwKCh3ZWlnaHQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt3ZWlnaHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblVwZGF0ZSh3ZWlnaHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMud2VpZ2h0QnV0dG9ufSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWl0LnJhcml0eSA9PT0gd2VpZ2h0ID8gc3R5bGVzLndlaWdodEJ1dHRvbkFjdGl2ZSA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBnZXRXZWlnaHRDb2xvcih3ZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRyYWl0LnJhcml0eSA9PT0gd2VpZ2h0ID8gMSA6IDAuNlxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldFdlaWdodExhYmVsKHdlaWdodCl9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLndlaWdodFNsaWRlcn0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgICBtYXg9XCIxMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0cmFpdC5yYXJpdHkgfHwgNX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvblVwZGF0ZShOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucmFyaXR5U2xpZGVyfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtnZXRXZWlnaHRDb2xvcigxKX0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Z2V0V2VpZ2h0Q29sb3IoNSl9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2dldFdlaWdodENvbG9yKDEwKX0pYFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMud2VpZ2h0VmFsdWV9IHN0eWxlPXt7IGNvbG9yOiBnZXRXZWlnaHRDb2xvcih0cmFpdC5yYXJpdHkgfHwgNSkgfX0+XG4gICAgICAgICAgICAgICAgICAgIFdlaWdodDoge3RyYWl0LnJhcml0eSB8fCA1fVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuLy8gQWRkIHRoaXMgY29tcG9uZW50IGZvciB0cmFpdCBjYXJkc1xuY29uc3QgVHJhaXRDYXJkID0gKHsgdHJhaXQsIGxheWVySWQsIG9uUmFyaXR5Q2hhbmdlLCBvbkRlbGV0ZSwgb25OYW1lQ2hhbmdlIH06IHtcbiAgICB0cmFpdDogVHJhaXQ7XG4gICAgbGF5ZXJJZDogc3RyaW5nO1xuICAgIG9uUmFyaXR5Q2hhbmdlOiAobGF5ZXJJZDogc3RyaW5nLCB0cmFpdElkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25EZWxldGU6IChsYXllcklkOiBzdHJpbmcsIHRyYWl0SWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvbk5hbWVDaGFuZ2U6IChsYXllcklkOiBzdHJpbmcsIHRyYWl0SWQ6IHN0cmluZywgbmV3TmFtZTogc3RyaW5nKSA9PiB2b2lkO1xufSkgPT4ge1xuICAgIGNvbnN0IFtjdXJyZW50UmFyaXR5LCBzZXRDdXJyZW50UmFyaXR5XSA9IHVzZVN0YXRlKHRyYWl0LnJhcml0eSB8fCA1MCk7XG5cbiAgICBjb25zdCByYXJpdHlQcmVzZXRzID0gW1xuICAgICAgICB7IHR5cGU6ICdzdXBlci1yYXJlJywgbGFiZWw6ICdTdXBlcicsIHZhbHVlOiAxMCB9LFxuICAgICAgICB7IHR5cGU6ICdyYXJlJywgbGFiZWw6ICdSYXJlJywgdmFsdWU6IDI1IH0sXG4gICAgICAgIHsgdHlwZTogJ3VuY29tbW9uJywgbGFiZWw6ICdVbmNvbScsIHZhbHVlOiA1MCB9LFxuICAgICAgICB7IHR5cGU6ICdjb21tb24nLCBsYWJlbDogJ0NvbW1vbicsIHZhbHVlOiAxMDAgfVxuICAgIF07XG5cbiAgICBjb25zdCBoYW5kbGVSYXJpdHlDaGFuZ2UgPSAodmFsdWU6IG51bWJlcikgPT4ge1xuICAgICAgICBzZXRDdXJyZW50UmFyaXR5KHZhbHVlKTtcbiAgICAgICAgb25SYXJpdHlDaGFuZ2UobGF5ZXJJZCwgdHJhaXQuaWQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50cmFpdENhcmR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50cmFpdEltYWdlV3JhcHBlcn0+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e3RyYWl0LnByZXZpZXd9IGFsdD17dHJhaXQubmFtZX0gY2xhc3NOYW1lPXtzdHlsZXMudHJhaXRJbWFnZX0gLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5kZWxldGVUcmFpdEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25EZWxldGUobGF5ZXJJZCwgdHJhaXQuaWQpfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSB0cmFpdFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0Q29udGVudH0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RyYWl0Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25OYW1lQ2hhbmdlKGxheWVySWQsIHRyYWl0LmlkLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0TmFtZUlucHV0fVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRyYWl0IG5hbWVcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5yYXJpdHlQcmVzZXRzfT5cbiAgICAgICAgICAgICAgICAgICAge3Jhcml0eVByZXNldHMubWFwKCh7IHR5cGUsIGxhYmVsLCB2YWx1ZSB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5yYXJpdHlQcmVzZXR9ICR7Y3VycmVudFJhcml0eSA9PT0gdmFsdWUgPyBzdHlsZXMuYWN0aXZlIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXJhcml0eT17dHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSYXJpdHlDaGFuZ2UodmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eUNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50UmFyaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVSYXJpdHlDaGFuZ2UoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yYXJpdHlTbGlkZXJ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnJhcml0eVZhbHVlfT57Y3VycmVudFJhcml0eX0lPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG4vLyBBZGQgZnVuY3Rpb24gZGVjbGFyYXRpb25zIHRoYXQgd2VyZSByZW1vdmVkXG5jb25zdCB2YWxpZGF0ZUxheWVyTmFtZSA9IChuYW1lOiBzdHJpbmcsIGxheWVyczogTGF5ZXJbXSwgY3VycmVudExheWVySWQ/OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIW5hbWUudHJpbSgpKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICFsYXllcnMuc29tZShsYXllciA9PiBcbiAgICAgICAgbGF5ZXIuaWQgIT09IGN1cnJlbnRMYXllcklkICYmIFxuICAgICAgICBsYXllci5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKVxuICAgICk7XG59O1xuXG4vLyBNYWtlIHN1cmUgdGhlIGNvbXBvbmVudCByZXR1cm5zIEpTWFxuY29uc3QgVHJhaXRVcGxvYWRlcjogUmVhY3QuRkM8VHJhaXRVcGxvYWRlclByb3BzPiA9ICh7IFxuICAgIG9uTmV4dCwgXG4gICAgb25CYWNrLCBcbiAgICBvbkxheWVyc1VwZGF0ZSwgXG4gICAgbGF5ZXJzOiBpbml0aWFsTGF5ZXJzLCBcbiAgICBpbml0aWFsUnVsZXMsXG4gICAgaGlkZU5hdmlnYXRpb24gPSBmYWxzZSxcbiAgICBjaGFyYWN0ZXJzOiBpbml0aWFsQ2hhcmFjdGVyc1xufSkgPT4ge1xuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSB1bmlxdWUgSURzXG4gICAgY29uc3QgZ2VuZXJhdGVJZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgICAgICByZXR1cm4gYGlkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YDtcbiAgICB9O1xuXG4gICAgLy8gU3RhdGUgc2V0dXBcbiAgICBjb25zdCBbbGF5ZXJzLCBzZXRMYXllcnNdID0gdXNlU3RhdGU8VHJhaXRMYXllcltdPigoKSA9PiB7XG4gICAgICAgIGlmIChpbml0aWFsTGF5ZXJzICYmIGluaXRpYWxMYXllcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaGFzQmFja2dyb3VuZExheWVyID0gaW5pdGlhbExheWVycy5zb21lKGxheWVyID0+IGxheWVyLmlkID09PSAnYmFja2dyb3VuZC1kZWZhdWx0Jyk7XG4gICAgICAgICAgICByZXR1cm4gaGFzQmFja2dyb3VuZExheWVyID8gaW5pdGlhbExheWVycyA6IFtERUZBVUxUX0JBQ0tHUk9VTkRfTEFZRVIsIC4uLmluaXRpYWxMYXllcnNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbREVGQVVMVF9CQUNLR1JPVU5EX0xBWUVSXTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBBZGQgY2hhcmFjdGVycyBzdGF0ZVxuICAgIGNvbnN0IFtjaGFyYWN0ZXJzLCBzZXRDaGFyYWN0ZXJzXSA9IHVzZVN0YXRlPENoYXJhY3RlcltdPigoKSA9PiB7XG4gICAgICAgIGlmIChpbml0aWFsQ2hhcmFjdGVycyAmJiBpbml0aWFsQ2hhcmFjdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbENoYXJhY3RlcnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGRlZmF1bHQgY2hhcmFjdGVyIHdpdGggZXhpc3RpbmcgbGF5ZXJzXG4gICAgICAgIGNvbnN0IGRlZmF1bHRDaGFyID0ge1xuICAgICAgICAgICAgLi4uREVGQVVMVF9DSEFSQUNURVIsXG4gICAgICAgICAgICBsYXllcnM6IGxheWVycy5tYXAobGF5ZXIgPT4gKHsuLi5sYXllciwgY2hhcmFjdGVySWQ6IERFRkFVTFRfQ0hBUkFDVEVSLmlkfSkpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBbZGVmYXVsdENoYXJdO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEFkZCBhY3RpdmUgY2hhcmFjdGVyIHN0YXRlXG4gICAgY29uc3QgW2FjdGl2ZUNoYXJhY3RlcklkLCBzZXRBY3RpdmVDaGFyYWN0ZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFxuICAgICAgICBjaGFyYWN0ZXJzLmxlbmd0aCA+IDAgPyBjaGFyYWN0ZXJzWzBdLmlkIDogREVGQVVMVF9DSEFSQUNURVIuaWRcbiAgICApO1xuICAgIFxuICAgIC8vIEFkZCBzdGF0ZSBmb3IgY2hhcmFjdGVyIG1hbmFnZW1lbnRcbiAgICBjb25zdCBbaXNBZGRpbmdDaGFyYWN0ZXIsIHNldElzQWRkaW5nQ2hhcmFjdGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAvLyBNb2RpZnkgdGhlIHR5cGUgZm9yIG5ld0NoYXJhY3RlciBiYWNrIHRvIE9taXQ8Q2hhcmFjdGVyLCAnaWQnPlxuICAgIGNvbnN0IFtuZXdDaGFyYWN0ZXIsIHNldE5ld0NoYXJhY3Rlcl0gPSB1c2VTdGF0ZTxPbWl0PENoYXJhY3RlciwgJ2lkJz4+KGdldERlZmF1bHRDaGFyYWN0ZXIoKSk7XG4gICAgXG4gICAgY29uc3QgW2FjdGl2ZUxheWVySWQsIHNldEFjdGl2ZUxheWVySWRdID0gdXNlU3RhdGU8c3RyaW5nPihsYXllcnNbMF0/LmlkIHx8ICcnKTtcbiAgICBjb25zdCBbbmV3TGF5ZXJOYW1lLCBzZXROZXdMYXllck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2lzRHJhZ2dpbmcsIHNldElzRHJhZ2dpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzaG93U2V0dGluZ3MsIHNldFNob3dTZXR0aW5nc10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbdG90YWxSYXJpdHksIHNldFRvdGFsUmFyaXR5XSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTtcbiAgICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW3Nob3dVcGxvYWRTZWN0aW9uLCBzZXRTaG93VXBsb2FkU2VjdGlvbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbcmFuZG9tUHJldmlldywgc2V0UmFuZG9tUHJldmlld10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBUcmFpdD4+KHt9KTtcbiAgICBjb25zdCBbc2hvd1ByZXZpZXdTdHJpcCwgc2V0U2hvd1ByZXZpZXdTdHJpcF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3ByZXZpZXdTdHJpcEtleSwgc2V0UHJldmlld1N0cmlwS2V5XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IFtnbG9iYWxSdWxlcywgc2V0R2xvYmFsUnVsZXNdID0gdXNlU3RhdGU8UnVsZVtdPihpbml0aWFsUnVsZXMgfHwgW10pO1xuICAgIGNvbnN0IFtlZGl0aW5nUnVsZSwgc2V0RWRpdGluZ1J1bGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2VkaXRpbmdUcmFpdFR5cGUsIHNldEVkaXRpbmdUcmFpdFR5cGVdID0gdXNlU3RhdGU8J3NvdXJjZScgfCAndGFyZ2V0JyB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtwcmV2aWV3Q29tYmluYXRpb25zLCBzZXRQcmV2aWV3Q29tYmluYXRpb25zXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIFRyYWl0PltdPihbXSk7XG4gICAgY29uc3QgW2lzQWRkTGF5ZXJPcGVuLCBzZXRJc0FkZExheWVyT3Blbl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2lzUHJldmlld09wZW4sIHNldElzUHJldmlld09wZW5dID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGNvbnN0IFtzaG93R3VpZGUsIHNldFNob3dHdWlkZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICAvLyBFZmZlY3QgdG8gZmlsdGVyIGxheWVycyBiYXNlZCBvbiBhY3RpdmUgY2hhcmFjdGVyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gVXBkYXRlIGFjdGl2ZUxheWVySWQgd2hlbiBjaGFyYWN0ZXIgY2hhbmdlc1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJMYXllcnMgPSBsYXllcnMuZmlsdGVyKGxheWVyID0+IFxuICAgICAgICAgICAgIWxheWVyLmNoYXJhY3RlcklkIHx8IGxheWVyLmNoYXJhY3RlcklkID09PSBhY3RpdmVDaGFyYWN0ZXJJZFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNoYXJhY3RlckxheWVycy5sZW5ndGggPiAwICYmICghYWN0aXZlTGF5ZXJJZCB8fCBcbiAgICAgICAgICAgICFjaGFyYWN0ZXJMYXllcnMuc29tZShsYXllciA9PiBsYXllci5pZCA9PT0gYWN0aXZlTGF5ZXJJZCkpKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVMYXllcklkKGNoYXJhY3RlckxheWVyc1swXS5pZCk7XG4gICAgICAgIH1cbiAgICB9LCBbYWN0aXZlQ2hhcmFjdGVySWQsIGxheWVycywgYWN0aXZlTGF5ZXJJZF0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBwYXJlbnQgd2hlbiBsYXllcnMgb3IgY2hhcmFjdGVycyBjaGFuZ2VcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBVcGRhdGUgYWxsIGxheWVycyB3aXRoIGNoYXJhY3RlciBJRHNcbiAgICAgICAgY29uc3QgYWxsTGF5ZXJzID0gY2hhcmFjdGVycy5mbGF0TWFwKGNoYXIgPT4gXG4gICAgICAgICAgICBjaGFyLmxheWVycy5tYXAobGF5ZXIgPT4gKHsuLi5sYXllciwgY2hhcmFjdGVySWQ6IGNoYXIuaWR9KSlcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvbkxheWVyc1VwZGF0ZSkge1xuICAgICAgICAgICAgb25MYXllcnNVcGRhdGUoYWxsTGF5ZXJzLCBnbG9iYWxSdWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNhdmUgY2hhcmFjdGVycyB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgaWYgKGNoYXJhY3RlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25mdF9jaGFyYWN0ZXJzJywgSlNPTi5zdHJpbmdpZnkoY2hhcmFjdGVycykpO1xuICAgICAgICB9XG4gICAgfSwgW2NoYXJhY3RlcnMsIGdsb2JhbFJ1bGVzLCBvbkxheWVyc1VwZGF0ZV0pO1xuXG4gICAgLy8gQWRkIHVzZUVmZmVjdCB0byBsb2FkIHNhdmVkIGRhdGEgb24gbW91bnRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBMb2FkIHNhdmVkIGRhdGFcbiAgICAgICAgY29uc3Qgc2F2ZWREYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25mdF9sYXllcnNfZGF0YScpO1xuICAgICAgICBpZiAoc2F2ZWREYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGF5ZXJzOiBzYXZlZExheWVycywgcnVsZXM6IHNhdmVkUnVsZXMgfSA9IEpTT04ucGFyc2Uoc2F2ZWREYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoc2F2ZWRMYXllcnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TGF5ZXJzKHNhdmVkTGF5ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uTGF5ZXJzVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkxheWVyc1VwZGF0ZShzYXZlZExheWVycywgc2F2ZWRSdWxlcyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2F2ZWQgbGF5ZXJzOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIC8vIEFkZCB0aGlzIGVmZmVjdCB0byBzYXZlIGNoYW5nZXNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25mdF9sYXllcnNfZGF0YScsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLFxuICAgICAgICAgICAgICAgICAgICBydWxlczogZ2xvYmFsUnVsZXMsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGxheWVyczonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbbGF5ZXJzLCBnbG9iYWxSdWxlc10pO1xuXG4gICAgLy8gTW9kaWZ5IHRoZSB1cGRhdGVMYXllclNldHRpbmcgZnVuY3Rpb24gdG8gZW5zdXJlIHByb3BlciBzYXZpbmdcbiAgICBjb25zdCB1cGRhdGVMYXllclNldHRpbmcgPSB1c2VDYWxsYmFjaygobGF5ZXJJZDogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgIHNldExheWVycyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXllcnMgPSBwcmV2Lm1hcChsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLmlkID09PSBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXllciA9IHsgLi4ubGF5ZXIsIFtmaWVsZF06IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQgPT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZExheWVyLmRpc3BsYXlOYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdkaXNwbGF5TmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRMYXllci5uYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkTGF5ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSBpbW1lZGlhdGVseSBhZnRlciB1cGRhdGVcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduZnRfbGF5ZXJzX2RhdGEnLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbGF5ZXJzOiB1cGRhdGVkTGF5ZXJzLFxuICAgICAgICAgICAgICAgIGdsb2JhbFJ1bGVzLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZExheWVycztcbiAgICAgICAgfSk7XG4gICAgfSwgW2dsb2JhbFJ1bGVzXSk7XG5cbiAgICAvLyBNb2RpZnkgYWRkTGF5ZXIgdG8gc2F2ZSBpbW1lZGlhdGVseVxuICAgIGNvbnN0IGFkZExheWVyID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVBZGRMYXllcigpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVMYXllciA9IChsYXllcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgLy8gUHJldmVudCByZW1vdmFsIG9mIGRlZmF1bHQgYmFja2dyb3VuZCBsYXllclxuICAgICAgICBpZiAobGF5ZXJJZCA9PT0gJ2JhY2tncm91bmQtZGVmYXVsdCcpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHNldExheWVycyhwcmV2ID0+IHByZXYuZmlsdGVyKGxheWVyID0+IGxheWVyLmlkICE9PSBsYXllcklkKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUxheWVyTmFtZSA9IHVzZUNhbGxiYWNrKChsYXllcklkOiBzdHJpbmcsIG5ld05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gbGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsbG93IGVtcHR5IG5hbWVzIGR1cmluZyBlZGl0aW5nXG4gICAgICAgIGlmICghbmV3TmFtZS50cmltKCkpIHtcbiAgICAgICAgICAgIHNldExheWVycyhwcmV2ID0+XG4gICAgICAgICAgICAgICAgcHJldi5tYXAobGF5ZXIgPT5cbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuaWQgPT09IGxheWVySWQgXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgLi4ubGF5ZXIsIG5hbWU6IG5ld05hbWUsIGRpc3BsYXlOYW1lOiBuZXdOYW1lIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGxheWVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZSBuYW1lcyAoZXhjbHVkaW5nIHRoZSBjdXJyZW50IGxheWVyKVxuICAgICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IGxheWVycy5zb21lKGwgPT4gXG4gICAgICAgICAgICBsLmlkICE9PSBsYXllcklkICYmIFxuICAgICAgICAgICAgbC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5ld05hbWUudHJpbSgpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0EgbGF5ZXIgd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0TGF5ZXJzKHByZXYgPT5cbiAgICAgICAgICAgIHByZXYubWFwKGxheWVyID0+XG4gICAgICAgICAgICAgICAgbGF5ZXIuaWQgPT09IGxheWVySWQgXG4gICAgICAgICAgICAgICAgICAgID8geyAuLi5sYXllciwgbmFtZTogbmV3TmFtZS50cmltKCksIGRpc3BsYXlOYW1lOiBuZXdOYW1lLnRyaW0oKSB9IFxuICAgICAgICAgICAgICAgICAgICA6IGxheWVyXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfSwgW2xheWVyc10pO1xuXG4gICAgY29uc3QgdXBkYXRlVHJhaXROYW1lID0gKGxheWVySWQ6IHN0cmluZywgdHJhaXRJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0TGF5ZXJzKHByZXYgPT5cbiAgICAgICAgICAgIHByZXYubWFwKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxheWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBsYXllci50cmFpdHMubWFwKHRyYWl0ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWl0LmlkID09PSB0cmFpdElkID8geyAuLi50cmFpdCwgbmFtZTogbmV3TmFtZSB9IDogdHJhaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlVHJhaXRSYXJpdHkgPSAobGF5ZXJJZDogc3RyaW5nLCB0cmFpdElkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpID0+IHtcbiAgICAgICAgc2V0TGF5ZXJzKHByZXYgPT4gcHJldi5tYXAobGF5ZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGxheWVyLmlkID09PSBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0czogbGF5ZXIudHJhaXRzLm1hcCh0cmFpdCA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWl0LmlkID09PSB0cmFpdElkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyAuLi50cmFpdCwgcmFyaXR5OiB2YWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0cmFpdFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgfSkpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVUcmFpdCA9IChsYXllcklkOiBzdHJpbmcsIHRyYWl0SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gbGF5ZXJzLm1hcChsYXllciA9PiB7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBsYXllci50cmFpdHMuZmlsdGVyKHRyYWl0ID0+IHRyYWl0LmlkICE9PSB0cmFpdElkKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0TGF5ZXJzKHVwZGF0ZWRMYXllcnMpO1xuICAgICAgICBpZiAob25MYXllcnNVcGRhdGUpIHtcbiAgICAgICAgICAgIG9uTGF5ZXJzVXBkYXRlKHVwZGF0ZWRMYXllcnMsIGdsb2JhbFJ1bGVzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0b2dnbGVMYXllclJlcXVpcmVkID0gKGxheWVySWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gbGF5ZXJzLm1hcChsYXllciA9PlxuICAgICAgICAgICAgbGF5ZXIuaWQgPT09IGxheWVySWQgPyB7IC4uLmxheWVyLCByZXF1aXJlZDogIWxheWVyLnJlcXVpcmVkIH0gOiBsYXllclxuICAgICAgICApO1xuICAgICAgICBzZXRMYXllcnModXBkYXRlZExheWVycyk7XG4gICAgICAgIGlmIChvbkxheWVyc1VwZGF0ZSkge1xuICAgICAgICAgICAgb25MYXllcnNVcGRhdGUodXBkYXRlZExheWVycywgZ2xvYmFsUnVsZXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0RyYWcgc3RhcnRlZCcpO1xuICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgIH07XG5cbiAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBoYW5kbGVEcmFnRW5kIGZ1bmN0aW9uIFxuICAgIGNvbnN0IGhhbmRsZURyYWdFbmQgPSAocmVzdWx0OiBEcm9wUmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdEcmFnIGVuZGVkOicsIHJlc3VsdCk7XG4gICAgICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXN1bHQuZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBkZXN0aW5hdGlvbiwgaWdub3JpbmcgZHJhZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIHRoZSBmaWx0ZXJlZCBsYXllcnMgZm9yIHRoZSBjdXJyZW50IGNoYXJhY3RlclxuICAgICAgICBjb25zdCBmaWx0ZXJlZExheWVycyA9IGxheWVycy5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIuY2hhcmFjdGVySWQgPT09IGFjdGl2ZUNoYXJhY3RlcklkKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChhLm9yZGVyIHx8IDApIC0gKGIub3JkZXIgfHwgMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmluZCB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBpbmRpY2VzIGluIHRoZSBmaWx0ZXJlZCBsYXllcnNcbiAgICAgICAgY29uc3Qgc291cmNlSW5kZXggPSByZXN1bHQuc291cmNlLmluZGV4O1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbkluZGV4ID0gcmVzdWx0LmRlc3RpbmF0aW9uLmluZGV4O1xuICAgICAgICBcbiAgICAgICAgLy8gU2tpcCBpZiBub3RoaW5nIGNoYW5nZWRcbiAgICAgICAgaWYgKHNvdXJjZUluZGV4ID09PSBkZXN0aW5hdGlvbkluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBhcnJheSBvZiBhbGwgbGF5ZXJzXG4gICAgICAgIGNvbnN0IGFsbExheWVycyA9IFsuLi5sYXllcnNdO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VyY2UgbGF5ZXIgZnJvbSB0aGUgZmlsdGVyZWQgbGlzdFxuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IGZpbHRlcmVkTGF5ZXJzW3NvdXJjZUluZGV4XTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmQgaXRzIGluZGV4IGluIHRoZSBjb21wbGV0ZSBsYXllcnMgYXJyYXlcbiAgICAgICAgY29uc3QgYWN0dWFsU291cmNlSW5kZXggPSBhbGxMYXllcnMuZmluZEluZGV4KGwgPT4gbC5pZCA9PT0gc291cmNlTGF5ZXIuaWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsYXllciBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IFtyZW1vdmVkXSA9IGFsbExheWVycy5zcGxpY2UoYWN0dWFsU291cmNlSW5kZXgsIDEpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmluZCB0aGUgZGVzdGluYXRpb24gbGF5ZXIgYW5kIGl0cyBpbmRleCBpbiB0aGUgY29tcGxldGUgYXJyYXlcbiAgICAgICAgY29uc3QgZGVzdExheWVyID0gZGVzdGluYXRpb25JbmRleCA8IGZpbHRlcmVkTGF5ZXJzLmxlbmd0aCBcbiAgICAgICAgICAgID8gZmlsdGVyZWRMYXllcnNbZGVzdGluYXRpb25JbmRleF0gXG4gICAgICAgICAgICA6IGZpbHRlcmVkTGF5ZXJzW2ZpbHRlcmVkTGF5ZXJzLmxlbmd0aCAtIDFdO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWN0dWFsRGVzdEluZGV4ID0gZGVzdGluYXRpb25JbmRleCA8IGZpbHRlcmVkTGF5ZXJzLmxlbmd0aFxuICAgICAgICAgICAgPyBhbGxMYXllcnMuZmluZEluZGV4KGwgPT4gbC5pZCA9PT0gZGVzdExheWVyLmlkKVxuICAgICAgICAgICAgOiBhbGxMYXllcnMubGVuZ3RoO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBsYXllciBhdCBpdHMgbmV3IHBvc2l0aW9uXG4gICAgICAgIGFsbExheWVycy5zcGxpY2UoYWN0dWFsRGVzdEluZGV4LCAwLCByZW1vdmVkKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgb3JkZXIgb2YgYWxsIGxheWVyc1xuICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gYWxsTGF5ZXJzLm1hcCgobGF5ZXIsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICBvcmRlcjogbGF5ZXIuaXNCYWNrZ3JvdW5kID8gMCA6IGluZGV4ICsgMVxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnTGF5ZXJzIHVwZGF0ZWQgd2l0aCBuZXcgb3JkZXI6JywgdXBkYXRlZExheWVycyk7XG4gICAgICAgIHNldExheWVycyh1cGRhdGVkTGF5ZXJzKTtcbiAgICAgICAgb25MYXllcnNVcGRhdGUodXBkYXRlZExheWVycywgZ2xvYmFsUnVsZXMpO1xuICAgIH07XG5cbiAgICBjb25zdCBkdXBsaWNhdGVMYXllciA9IChsYXllcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSBsYXllcnMuZmluZChsID0+IGwuaWQgPT09IGxheWVySWQpO1xuICAgICAgICBpZiAoIXNvdXJjZUxheWVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmV3VHJhaXRzID0gc291cmNlTGF5ZXIudHJhaXRzLm1hcCh0cmFpdCA9PiAoe1xuICAgICAgICAgICAgLi4udHJhaXQsXG4gICAgICAgICAgICBpZDogYHRyYWl0LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWBcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IG5ld0xheWVyOiBMYXllciA9IHtcbiAgICAgICAgICAgIGlkOiBgbGF5ZXItJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICAgIG5hbWU6IGAke3NvdXJjZUxheWVyLm5hbWV9IChDb3B5KWAsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogYCR7c291cmNlTGF5ZXIuZGlzcGxheU5hbWUgfHwgc291cmNlTGF5ZXIubmFtZX0gKENvcHkpYCxcbiAgICAgICAgICAgIHRyYWl0czogbmV3VHJhaXRzLFxuICAgICAgICAgICAgaXNCYWNrZ3JvdW5kOiBmYWxzZSwgLy8gTmV2ZXIgZHVwbGljYXRlIGFzIGJhY2tncm91bmRcbiAgICAgICAgICAgIGNoYXJhY3RlcklkOiBhY3RpdmVDaGFyYWN0ZXJJZFxuICAgICAgICB9O1xuXG4gICAgICAgIHNldExheWVycyhwcmV2ID0+IHJlb3JkZXJMYXllcnMoWy4uLnByZXYsIG5ld0xheWVyXSkpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKGBEdXBsaWNhdGVkIGxheWVyICR7c291cmNlTGF5ZXIubmFtZX1gKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVHJhaXRVcGxvYWQgPSBhc3luYyAoZmlsZXM6IEZpbGVMaXN0KSA9PiB7XG4gICAgICAgIGlmICghYWN0aXZlTGF5ZXJJZCkge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSBsYXllciBmaXJzdCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsaWRGaWxlcyA9IEFycmF5LmZyb20oZmlsZXMpLmZpbHRlcihmaWxlID0+IFxuICAgICAgICAgICAgZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpICYmIGZpbGUuc2l6ZSA8PSA1ICogMTAyNCAqIDEwMjRcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodmFsaWRGaWxlcy5sZW5ndGggIT09IGZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ1NvbWUgZmlsZXMgd2VyZSBza2lwcGVkIChpbnZhbGlkIHR5cGUgb3IgdG9vIGxhcmdlKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgQ0hVTktfU0laRSA9IDEwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbGlkRmlsZXMubGVuZ3RoOyBpICs9IENIVU5LX1NJWkUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gdmFsaWRGaWxlcy5zbGljZShpLCBpICsgQ0hVTktfU0laRSk7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1RyYWl0cyA9IGF3YWl0IFByb21pc2UuYWxsKGNodW5rLm1hcChhc3luYyBmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gYXdhaXQgY3JlYXRlSW1hZ2VQcmV2aWV3KGZpbGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBgdHJhaXQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLnNwbGl0KCcuJylbMF0ucmVwbGFjZSgvW15hLXpBLVowLTktX10vZywgJ18nKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGZpbGUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXcsXG4gICAgICAgICAgICAgICAgICAgIHJhcml0eTogNTAsIC8vIERlZmF1bHQgcmFyaXR5XG4gICAgICAgICAgICAgICAgICAgIGxheWVyTmFtZTogbGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBhY3RpdmVMYXllcklkKT8ubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVySWQ6IGFjdGl2ZUNoYXJhY3RlcklkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGxheWVycyB3aXRoIG5ldyB0cmFpdHNcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXllcnMgPSBsYXllcnMubWFwKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGFjdGl2ZUxheWVySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxheWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBbLi4ubGF5ZXIudHJhaXRzLCAuLi5uZXdUcmFpdHNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVySWQ6IGFjdGl2ZUNoYXJhY3RlcklkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGUgYW5kIG5vdGlmeSBwYXJlbnRcbiAgICAgICAgICAgIHNldExheWVycyh1cGRhdGVkTGF5ZXJzKTtcbiAgICAgICAgICAgIGlmIChvbkxheWVyc1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIG9uTGF5ZXJzVXBkYXRlKHVwZGF0ZWRMYXllcnMsIGdsb2JhbFJ1bGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBcblxuICAgIGNvbnN0IGhhbmRsZUxheWVyQ2xpY2sgPSAobGF5ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUxheWVySWQobGF5ZXJJZCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUxheWVyRGVzY3JpcHRpb24gPSAobGF5ZXJJZDogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldExheWVycyhwcmV2ID0+XG4gICAgICAgICAgICBwcmV2Lm1hcChsYXllciA9PlxuICAgICAgICAgICAgICAgIGxheWVyLmlkID09PSBsYXllcklkID8geyAuLi5sYXllciwgZGVzY3JpcHRpb24gfSA6IGxheWVyXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUxheWVyTWF4VHJhaXRzID0gKGxheWVySWQ6IHN0cmluZywgbWF4VHJhaXRzOiBudW1iZXIpID0+IHtcbiAgICAgICAgc2V0TGF5ZXJzKHByZXYgPT5cbiAgICAgICAgICAgIHByZXYubWFwKGxheWVyID0+XG4gICAgICAgICAgICAgICAgbGF5ZXIuaWQgPT09IGxheWVySWQgPyB7IC4uLmxheWVyLCBtYXhUcmFpdHMgfSA6IGxheWVyXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIFxuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdHJhaXQgaXMgdmFsaWQgYmFzZWQgb24gcnVsZXNcbiAgICBjb25zdCBpc1RyYWl0VmFsaWQgPSAoXG4gICAgICAgIHRyYWl0OiBMaWJUcmFpdCwgXG4gICAgICAgIGxheWVySWQ6IHN0cmluZywgXG4gICAgICAgIHByZXZpZXc6IFJlY29yZDxzdHJpbmcsIExpYlRyYWl0PixcbiAgICAgICAgZ2xvYmFsUnVsZXM6IFJ1bGVbXVxuICAgICk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAvLyBHZXQgYWxsIHJ1bGVzIHRoYXQgaW52b2x2ZSB0aGlzIHRyYWl0J3MgbGF5ZXJcbiAgICAgICAgY29uc3QgcmVsZXZhbnRSdWxlcyA9IGdsb2JhbFJ1bGVzLmZpbHRlcihydWxlID0+IFxuICAgICAgICAgICAgKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gbGF5ZXJJZCAmJiBydWxlLnNvdXJjZVRyYWl0ID09PSB0cmFpdC5uYW1lKSB8fFxuICAgICAgICAgICAgKHJ1bGUudGFyZ2V0TGF5ZXJJZCA9PT0gbGF5ZXJJZCAmJiBydWxlLnRhcmdldFRyYWl0ID09PSB0cmFpdC5uYW1lKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElmIG5vIHJ1bGVzLCB0cmFpdCBpcyB2YWxpZFxuICAgICAgICBpZiAocmVsZXZhbnRSdWxlcy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuXG4gICAgICAgIC8vIENoZWNrIGVhY2ggcnVsZVxuICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcmVsZXZhbnRSdWxlcykge1xuICAgICAgICAgICAgaWYgKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gbGF5ZXJJZCAmJiBydWxlLnNvdXJjZVRyYWl0ID09PSB0cmFpdC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyB0cmFpdCBpcyB0aGUgc291cmNlXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VHJhaXQgPSBwcmV2aWV3W3J1bGUudGFyZ2V0TGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gJ3JlcXVpcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0VHJhaXQgfHwgdGFyZ2V0VHJhaXQubmFtZSAhPT0gcnVsZS50YXJnZXRUcmFpdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocnVsZS50eXBlID09PSAnZXhjbHVkZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFRyYWl0ICYmIHRhcmdldFRyYWl0Lm5hbWUgPT09IHJ1bGUudGFyZ2V0VHJhaXQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgdHJhaXQgaXMgdGhlIHRhcmdldFxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVRyYWl0ID0gcHJldmlld1tydWxlLnNvdXJjZUxheWVySWRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChydWxlLnR5cGUgPT09ICdyZXF1aXJlJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlVHJhaXQgJiYgdHJhaXQubmFtZSAhPT0gcnVsZS50YXJnZXRUcmFpdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocnVsZS50eXBlID09PSAnZXhjbHVkZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZVRyYWl0ICYmIHNvdXJjZVRyYWl0Lm5hbWUgPT09IHJ1bGUuc291cmNlVHJhaXQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2VuZXJhdGVSYW5kb21QcmV2aWV3ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3OiBSZWNvcmQ8c3RyaW5nLCBMaWJUcmFpdD4gPSB7fTtcbiAgICAgICAgXG4gICAgICAgIGxheWVycy5mb3JFYWNoKGxheWVyID0+IHtcbiAgICAgICAgICAgIC8vIFNpbXBsZSBpbmxpbmUgdmFsaWRhdGlvbiB0aGF0IGFsbG93cyBhbGwgdHJhaXRzXG4gICAgICAgICAgICBjb25zdCB2YWxpZFRyYWl0cyA9IGxheWVyLnRyYWl0cy5maWx0ZXIodHJhaXQgPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIHJ1bGVzLCBhbGwgdHJhaXRzIGFyZSB2YWxpZFxuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxSdWxlcy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEdldCBydWxlcyByZWxldmFudCB0byB0aGlzIGxheWVyIGFuZCB0cmFpdFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50UnVsZXMgPSBnbG9iYWxSdWxlcy5maWx0ZXIocnVsZSA9PiBcbiAgICAgICAgICAgICAgICAgICAgKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gbGF5ZXIuaWQgJiYgcnVsZS5zb3VyY2VUcmFpdCA9PT0gdHJhaXQubmFtZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJ1bGUudGFyZ2V0TGF5ZXJJZCA9PT0gbGF5ZXIuaWQgJiYgcnVsZS50YXJnZXRUcmFpdCA9PT0gdHJhaXQubmFtZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIElmIG5vIHJlbGV2YW50IHJ1bGVzLCB0cmFpdCBpcyB2YWxpZFxuICAgICAgICAgICAgICAgIGlmIChyZWxldmFudFJ1bGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZWFjaCBydWxlXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIHJlbGV2YW50UnVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gbGF5ZXIuaWQgJiYgcnVsZS5zb3VyY2VUcmFpdCA9PT0gdHJhaXQubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB0cmFpdCBpcyB0aGUgc291cmNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRUcmFpdCA9IHByZXZpZXdbcnVsZS50YXJnZXRMYXllcklkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gJ3JlcXVpcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRUcmFpdCB8fCB0YXJnZXRUcmFpdC5uYW1lICE9PSBydWxlLnRhcmdldFRyYWl0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gJ2V4Y2x1ZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFRyYWl0ICYmIHRhcmdldFRyYWl0Lm5hbWUgPT09IHJ1bGUudGFyZ2V0VHJhaXQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdHJhaXQgaXMgdGhlIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlVHJhaXQgPSBwcmV2aWV3W3J1bGUuc291cmNlTGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnR5cGUgPT09ICdyZXF1aXJlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VUcmFpdCAmJiB0cmFpdC5uYW1lICE9PSBydWxlLnRhcmdldFRyYWl0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gJ2V4Y2x1ZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZVRyYWl0ICYmIHNvdXJjZVRyYWl0Lm5hbWUgPT09IHJ1bGUuc291cmNlVHJhaXQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodmFsaWRUcmFpdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbVRyYWl0ID0gdmFsaWRUcmFpdHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdmFsaWRUcmFpdHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgcHJldmlld1tsYXllci5pZF0gPSByYW5kb21UcmFpdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcHJldmlldztcbiAgICB9LCBbbGF5ZXJzLCBnbG9iYWxSdWxlc10pO1xuXG4gICAgY29uc3QgZ2VuZXJhdGVQcmV2aWV3cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRDb21iaW5hdGlvbnM6IFJlY29yZDxzdHJpbmcsIExpYlRyYWl0PltdID0gW107XG4gICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gMTAwO1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuXG4gICAgICAgIHdoaWxlICh2YWxpZENvbWJpbmF0aW9ucy5sZW5ndGggPCA1ICYmIGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgICBjb25zdCBjb21iaW5hdGlvbjogUmVjb3JkPHN0cmluZywgTGliVHJhaXQ+ID0ge307XG4gICAgICAgICAgICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFsd2F5cyBpbmNsdWRlIGJhY2tncm91bmQgZmlyc3QgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kTGF5ZXIgPSBsYXllcnMuZmluZChsID0+IGwuaXNCYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kTGF5ZXI/LnRyYWl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5kb21UcmFpdCA9IGJhY2tncm91bmRMYXllci50cmFpdHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmFja2dyb3VuZExheWVyLnRyYWl0cy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICBjb21iaW5hdGlvbltiYWNrZ3JvdW5kTGF5ZXIuaWRdID0gcmFuZG9tVHJhaXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3Mgb3RoZXIgbGF5ZXJzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIGxheWVycy5maWx0ZXIobCA9PiAhbC5pc0JhY2tncm91bmQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXllci50cmFpdHMubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByYW5kb21UcmFpdCA9IGxheWVyLnRyYWl0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsYXllci50cmFpdHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgY29tYmluYXRpb25bbGF5ZXIuaWRdID0gcmFuZG9tVHJhaXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBjb21iaW5hdGlvbiBpZiBpdCdzIHZhbGlkIGFuZCBub3QgYSBkdXBsaWNhdGVcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjb21iaW5hdGlvbikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoY29tYmluYXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghdmFsaWRDb21iaW5hdGlvbnMuc29tZShjID0+IEpTT04uc3RyaW5naWZ5KGMpID09PSBjb21iaW5hdGlvblN0cmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRDb21iaW5hdGlvbnMucHVzaChjb21iaW5hdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICBzZXRQcmV2aWV3Q29tYmluYXRpb25zKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJldkpzb24gPSBKU09OLnN0cmluZ2lmeShwcmV2KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0pzb24gPSBKU09OLnN0cmluZ2lmeSh2YWxpZENvbWJpbmF0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gcHJldkpzb24gPT09IG5ld0pzb24gPyBwcmV2IDogdmFsaWRDb21iaW5hdGlvbnM7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0UHJldmlld1N0cmlwS2V5KHByZXYgPT4gcHJldiArIDEpO1xuICAgIH0sIFtsYXllcnNdKTtcblxuICAgIGNvbnN0IGdlbmVyYXRlTWV0YWRhdGEgPSB1c2VDYWxsYmFjaygoc2VsZWN0ZWRUcmFpdHM6IFJlY29yZDxzdHJpbmcsIFRyYWl0PikgPT4ge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLCAvLyBZb3VyIE5GVCBuYW1lIGxvZ2ljXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsIC8vIFlvdXIgTkZUIGRlc2NyaXB0aW9uIGxvZ2ljXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXSBhcyBBcnJheTx7IHRyYWl0X3R5cGU6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9PlxuICAgICAgICB9O1xuXG4gICAgICAgIGxheWVycy5mb3JFYWNoKGxheWVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYWl0ID0gc2VsZWN0ZWRUcmFpdHNbbGF5ZXIuaWRdO1xuICAgICAgICAgICAgLy8gT25seSBpbmNsdWRlIHRyYWl0cyBmcm9tIGxheWVycyB0aGF0IGFyZSBzZXQgdG8gc2hvdyBpbiBtZXRhZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWl0ICYmIGxheWVyLnNob3dJbk1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuYXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRfdHlwZTogbGF5ZXIuZGlzcGxheU5hbWUgfHwgbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRyYWl0Lm5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH0sIFtsYXllcnNdKTtcblxuICAgIGNvbnN0IHVwZGF0ZUdsb2JhbFJ1bGVzID0gKHJ1bGVzOiBSdWxlW10pID0+IHtcbiAgICAgICAgc2V0R2xvYmFsUnVsZXMocnVsZXMpO1xuICAgICAgICAvLyBZb3UgbWlnaHQgd2FudCB0byBwYXNzIHRoaXMgdG8gcGFyZW50IGNvbXBvbmVudCBpZiBuZWVkZWRcbiAgICAgICAgLy8gb25MYXllcnNVcGRhdGUobGF5ZXJzKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVXBkYXRlUnVsZSA9IChydWxlSWQ6IHN0cmluZywgdXBkYXRlczogeyB0eXBlOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkUnVsZXMgPSBnbG9iYWxSdWxlcy5tYXAocnVsZSA9PiB7XG4gICAgICAgICAgICBpZiAocnVsZS5pZCA9PT0gcnVsZUlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucnVsZSxcbiAgICAgICAgICAgICAgICAgICAgLi4udXBkYXRlc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVsZTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB1cGRhdGVHbG9iYWxSdWxlcyh1cGRhdGVkUnVsZXMgYXMgUnVsZVtdKTtcbiAgICB9O1xuXG4gICAgXG5cbiAgICAvLyBGdW5jdGlvbiB0byBoYW5kbGUgbGF5ZXIgc2VsZWN0aW9uXG4gICAgY29uc3QgaGFuZGxlTGF5ZXJTZWxlY3QgPSAobGF5ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUxheWVySWQobGF5ZXJJZCk7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBmaWxlIHVwbG9hZCBmb3IgdHJhaXRzXG4gICAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IGFzeW5jIChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4sIGxheWVySWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5maWxlcyB8fCAhbGF5ZXJJZCkgcmV0dXJuO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZXZlbnQudGFyZ2V0LmZpbGVzKTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVySW5kZXggPSBsYXllcnMuZmluZEluZGV4KGwgPT4gbC5pZCA9PT0gbGF5ZXJJZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChsYXllckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTGF5ZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgdHJhaXRzIGZyb20gdXBsb2FkZWQgZmlsZXNcbiAgICAgICAgICAgIGNvbnN0IG5ld1RyYWl0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgIGZpbGVzLm1hcChhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlldyA9IGF3YWl0IGNyZWF0ZUltYWdlUHJldmlldyhmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBsYXllcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xheWVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFpdDogVHJhaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGB0cmFpdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLy5dKyQvLCAnJyksIC8vIFJlbW92ZSBmaWxlIGV4dGVuc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTmFtZTogbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogcHJldmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiBwcmV2aWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhcml0eTogMSwgLy8gRGVmYXVsdCByYXJpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IGxheWVyLm9yZGVyIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVySWQ6IGxheWVyLmNoYXJhY3RlcklkXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYWl0O1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBmaWxlOicsIGZpbGUubmFtZSwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG5ld1RyYWl0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZhbGlkIHRyYWl0cyB3ZXJlIGNyZWF0ZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYXllciB3aXRoIG5ldyB0cmFpdHNcbiAgICAgICAgICAgIHNldExheWVycyhwcmV2TGF5ZXJzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gWy4uLnByZXZMYXllcnNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXllciA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udXBkYXRlZExheWVyc1tsYXllckluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4odXBkYXRlZExheWVyc1tsYXllckluZGV4XS50cmFpdHMgfHwgW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3VHJhaXRzXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRMYXllcnNbbGF5ZXJJbmRleF0gPSB1cGRhdGVkTGF5ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRMYXllcnM7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGlucHV0XG4gICAgICAgICAgICBldmVudC50YXJnZXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYFN1Y2Nlc3NmdWxseSBhZGRlZCAke25ld1RyYWl0cy5sZW5ndGh9IHRyYWl0KHMpIHRvIGxheWVyYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgdXBsb2FkIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHVwbG9hZCBmaWxlcy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gdXBsb2FkIGZpbGVzJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBpbWFnZSBwcmV2aWV3c1xuICAgIGNvbnN0IGNyZWF0ZUltYWdlUHJldmlldyA9IChmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQ/LnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgcHJldmlldycpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIENyZWF0ZSBhIHN0YWJsZSByZWZlcmVuY2UgdG8gdGhlIGxheWVycyBhbmQgcnVsZXNcbiAgICBjb25zdCBsYXllcnNSZWYgPSB1c2VSZWYobGF5ZXJzKTtcbiAgICBjb25zdCBydWxlc1JlZiA9IHVzZVJlZihnbG9iYWxSdWxlcyk7XG4gICAgY29uc3QgdXBkYXRlSW5Qcm9ncmVzc1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgXG4gICAgLy8gTWVtb2l6ZSB0aGUgdXBkYXRlIGZ1bmN0aW9uIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmUtcmVuZGVyc1xuICAgIGNvbnN0IHVwZGF0ZUxheWVycyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFvbkxheWVyc1VwZGF0ZSB8fCB1cGRhdGVJblByb2dyZXNzUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3NSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYXllcnMgPSBbLi4ubGF5ZXJzUmVmLmN1cnJlbnRdO1xuICAgICAgICBjb25zdCBjdXJyZW50UnVsZXMgPSBbLi4uKEFycmF5LmlzQXJyYXkocnVsZXNSZWYuY3VycmVudCkgPyBydWxlc1JlZi5jdXJyZW50IDogW10pXTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUob25MYXllcnNVcGRhdGUoY3VycmVudExheWVycywgY3VycmVudFJ1bGVzKSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyYWl0VXBsb2FkZXI6IEVycm9yIGluIGxheWVyIHVwZGF0ZTonLCB7XG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgbGF5ZXJzOiBjdXJyZW50TGF5ZXJzPy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgZ2xvYmFsUnVsZXM6IGN1cnJlbnRSdWxlcz8ubGVuZ3RoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwZGF0ZSBsYXllcnMnO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBFcnJvcjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB1cGRhdGVJblByb2dyZXNzUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkxheWVyc1VwZGF0ZV0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSByZWZzIHdoZW4gbGF5ZXJzIG9yIHJ1bGVzIGNoYW5nZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxheWVyc1JlZi5jdXJyZW50ID0gbGF5ZXJzO1xuICAgICAgICBydWxlc1JlZi5jdXJyZW50ID0gZ2xvYmFsUnVsZXM7XG4gICAgfSwgW2xheWVycywgZ2xvYmFsUnVsZXNdKTtcbiAgICBcbiAgICAvLyBTZXQgdXAgYSBkZWJvdW5jZWQgdXBkYXRlIGVmZmVjdFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghb25MYXllcnNVcGRhdGUpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVMYXllcnMoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgfSwgMTAwKTsgLy8gU21hbGwgZGVib3VuY2UgdG8gcHJldmVudCByYXBpZCB1cGRhdGVzXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9LCBbb25MYXllcnNVcGRhdGUsIHVwZGF0ZUxheWVycywgSlNPTi5zdHJpbmdpZnkobGF5ZXJzKSwgSlNPTi5zdHJpbmdpZnkoZ2xvYmFsUnVsZXMpXSk7XG5cbiAgICAvLyBBZGQgdmFsaWRhdGlvbiBmdW5jdGlvbiBpbnNpZGUgdGhlIGNvbXBvbmVudFxuICAgIFxuXG4gICAgXG5cbiAgICAvLyBBZGQgdmFsaWRhdGlvbiB3aGVuIGFkZGluZyBuZXcgdHJhaXRzXG4gICAgY29uc3QgaGFuZGxlQWRkVHJhaXQgPSAobGF5ZXJJZDogc3RyaW5nLCBmaWxlczogRmlsZVtdKSA9PiB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikgcmV0dXJuO1xuXG4gICAgICAgIFByb21pc2UuYWxsKGZpbGVzLm1hcChhc3luYyBmaWxlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VOYW1lID0gZmlsZS5uYW1lLnJlcGxhY2UoL1xcLlteLy5dKyQvLCBcIlwiKTtcbiAgICAgICAgICAgIGxldCB0cmFpdE5hbWUgPSBiYXNlTmFtZTtcbiAgICAgICAgICAgIGxldCBjb3VudGVyID0gMTtcblxuICAgICAgICAgICAgd2hpbGUgKCF2YWxpZGF0ZVRyYWl0TmFtZShsYXllcklkLCB0cmFpdE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdHJhaXROYW1lID0gYCR7YmFzZU5hbWV9ICR7Y291bnRlcn1gO1xuICAgICAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJldmlldyA9IGF3YWl0IGNyZWF0ZUltYWdlUHJldmlldyhmaWxlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGBpZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWAsXG4gICAgICAgICAgICAgICAgbmFtZTogdHJhaXROYW1lLFxuICAgICAgICAgICAgICAgIHByZXZpZXcsXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSByYXJpdHkgYmFzZWQgb24gbGF5ZXIncyByYXJpdHkgdHlwZVxuICAgICAgICAgICAgICAgIHJhcml0eTogbGF5ZXIucmFyaXR5VHlwZSA9PT0gJ3BlcmNlbnQnID8gMTAwIDogMSxcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IGxheWVyLnJhcml0eVR5cGUgPT09ICd3ZWlnaHQnID8gMSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgICAgIGxheWVyTmFtZTogbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJJZDogbGF5ZXIuY2hhcmFjdGVySWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKS50aGVuKG5ld1RyYWl0cyA9PiB7XG4gICAgICAgICAgICBzZXRMYXllcnMocHJldiA9PiBwcmV2Lm1hcChsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLmlkID09PSBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWl0czogWy4uLmxheWVyLnRyYWl0cywgLi4ubmV3VHJhaXRzXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgICAgICAgICB9KSBhcyBUcmFpdExheWVyW10pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gTW92ZSBnZW5lcmF0ZVVuaXF1ZUxheWVyTmFtZSBpbnNpZGUgY29tcG9uZW50XG4gICAgY29uc3QgZ2VuZXJhdGVVbmlxdWVMYXllck5hbWUgPSB1c2VDYWxsYmFjaygoYmFzZU5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIGxldCBjb3VudGVyID0gMTtcbiAgICAgICAgbGV0IG5ld05hbWUgPSBgJHtiYXNlTmFtZX0gQ29weWA7XG4gICAgICAgIFxuICAgICAgICAvLyBLZWVwIGFkZGluZyBudW1iZXJzIHVudGlsIHdlIGZpbmQgYSB1bmlxdWUgbmFtZVxuICAgICAgICB3aGlsZSAobGF5ZXJzLnNvbWUobGF5ZXIgPT4gbGF5ZXIubmFtZSA9PT0gbmV3TmFtZSkpIHtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgIG5ld05hbWUgPSBgJHtiYXNlTmFtZX0gQ29weSAke2NvdW50ZXJ9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3TmFtZTtcbiAgICB9LCBbbGF5ZXJzXSk7XG5cbiAgICAvLyBVcGRhdGUgaGFuZGxlRHVwbGljYXRlTGF5ZXIgdG8gdXNlIHRoZSBmdW5jdGlvblxuICAgIGNvbnN0IGhhbmRsZUR1cGxpY2F0ZUxheWVyID0gdXNlQ2FsbGJhY2soKGxheWVySWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IGxheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gbGF5ZXJJZCk7XG4gICAgICAgIGlmICghc291cmNlTGF5ZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIC8vIFByZXZlbnQgZHVwbGljYXRpbmcgdGhlIGJhY2tncm91bmQgbGF5ZXJcbiAgICAgICAgaWYgKHNvdXJjZUxheWVyLmlzRGVmYXVsdEJhY2tncm91bmQpIHtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKCdDYW5ub3QgZHVwbGljYXRlIHRoZSBiYWNrZ3JvdW5kIGxheWVyJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld0xheWVyTmFtZSA9IGdlbmVyYXRlVW5pcXVlTGF5ZXJOYW1lKHNvdXJjZUxheWVyLm5hbWUpO1xuICAgICAgICBpZiAoIXZhbGlkYXRlTGF5ZXJOYW1lKG5ld0xheWVyTmFtZSwgbGF5ZXJzKSkge1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSB1bmlxdWUgbGF5ZXIgbmFtZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdMYXllcjogVHJhaXRMYXllciA9IHtcbiAgICAgICAgICAgIGlkOiBgbGF5ZXItJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgICBuYW1lOiBuZXdMYXllck5hbWUsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogbmV3TGF5ZXJOYW1lLFxuICAgICAgICAgICAgdHJhaXRzOiBzb3VyY2VMYXllci50cmFpdHMubWFwKHRyYWl0ID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udHJhaXQsXG4gICAgICAgICAgICAgICAgaWQ6IGB0cmFpdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICByZXF1aXJlZDogc291cmNlTGF5ZXIucmVxdWlyZWQsXG4gICAgICAgICAgICBvcmRlcjogbGF5ZXJzLmZpbHRlcihsID0+IGwuY2hhcmFjdGVySWQgPT09IGFjdGl2ZUNoYXJhY3RlcklkKS5sZW5ndGggKyAxLFxuICAgICAgICAgICAgY2hhcmFjdGVySWQ6IGFjdGl2ZUNoYXJhY3RlcklkLFxuICAgICAgICAgICAgc2hvd0luTWV0YWRhdGE6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHNldExheWVycyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdMYXllcl0pO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKCdMYXllciBkdXBsaWNhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0sIFtsYXllcnMsIGdlbmVyYXRlVW5pcXVlTGF5ZXJOYW1lLCBhY3RpdmVDaGFyYWN0ZXJJZF0pO1xuXG4gICAgLy8gQWRkIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIHRyYWl0IG5hbWVzXG4gICAgY29uc3QgdmFsaWRhdGVUcmFpdE5hbWUgPSB1c2VDYWxsYmFjaygobGF5ZXJJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcsIGN1cnJlbnRUcmFpdElkPzogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikgcmV0dXJuIHRydWU7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBuYW1lIGlzIGVtcHR5IG9yIG9ubHkgd2hpdGVzcGFjZVxuICAgICAgICBpZiAoIW5ld05hbWUudHJpbSgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gIWxheWVyLnRyYWl0cy5zb21lKHRyYWl0ID0+IFxuICAgICAgICAgICAgdHJhaXQubmFtZS50b0xvd2VyQ2FzZSgpID09PSBuZXdOYW1lLnRvTG93ZXJDYXNlKCkgJiYgXG4gICAgICAgICAgICAoIWN1cnJlbnRUcmFpdElkIHx8IHRyYWl0LmlkICE9PSBjdXJyZW50VHJhaXRJZClcbiAgICAgICAgKTtcbiAgICB9LCBbbGF5ZXJzXSk7XG5cbiAgICAvLyBVcGRhdGUgaGFuZGxlVHJhaXROYW1lQ2hhbmdlXG4gICAgY29uc3QgaGFuZGxlVHJhaXROYW1lQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGxheWVySWQ6IHN0cmluZywgdHJhaXRJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZVRyYWl0TmFtZShsYXllcklkLCBuZXdOYW1lLCB0cmFpdElkKSkge1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0EgdHJhaXQgd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBsYXllcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRMYXllcnMocHJldiA9PiBwcmV2Lm1hcChsYXllciA9PiB7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBsYXllci50cmFpdHMubWFwKHRyYWl0ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXQuaWQgPT09IHRyYWl0SWQgPyB7IC4uLnRyYWl0LCBuYW1lOiBuZXdOYW1lIH0gOiB0cmFpdFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgfSkpO1xuICAgIH0sIFt2YWxpZGF0ZVRyYWl0TmFtZSwgaGFuZGxlRHVwbGljYXRlTGF5ZXJdKTtcblxuICAgIC8vIEFkZCBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgY29uc3QgY2xlYW51cFN0b3JlZExheWVyRGF0YSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ25mdF9sYXllcnNfZGF0YScpO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEFkZCBjbGVhbnVwIGVmZmVjdFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwU3RvcmVkTGF5ZXJEYXRhKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NsZWFudXBTdG9yZWRMYXllckRhdGFdKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgbGF5ZXIgdXBkYXRlIGZ1bmN0aW9uIHRvIGhhbmRsZSBjbGVhbnVwXG4gICAgY29uc3QgaGFuZGxlTGF5ZXJzVXBkYXRlID0gdXNlQ2FsbGJhY2soKHVwZGF0ZWRMYXllcnM6IFRyYWl0TGF5ZXJbXSkgPT4ge1xuICAgICAgICBzZXRMYXllcnModXBkYXRlZExheWVycyk7XG4gICAgICAgIG9uTGF5ZXJzVXBkYXRlKHVwZGF0ZWRMYXllcnMsIGdsb2JhbFJ1bGVzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHVwZGF0ZWQgZGF0YVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25mdF9sYXllcnNfZGF0YScsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBsYXllcnM6IHVwZGF0ZWRMYXllcnMsXG4gICAgICAgICAgICAgICAgcnVsZXM6IGdsb2JhbFJ1bGVzLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgbGF5ZXIgZGF0YTonLCBlcnJvcik7XG4gICAgICAgICAgICAvLyBJZiBzdG9yYWdlIGZhaWxzLCBjbGVhbiB1cFxuICAgICAgICAgICAgY2xlYW51cFN0b3JlZExheWVyRGF0YSgpO1xuICAgICAgICB9XG4gICAgfSwgW29uTGF5ZXJzVXBkYXRlLCBnbG9iYWxSdWxlcywgY2xlYW51cFN0b3JlZExheWVyRGF0YV0pO1xuXG4gICAgLy8gQWRkIHRoZXNlIG5ldyBmdW5jdGlvbnNcbiAgICBjb25zdCBoYW5kbGVEZWxldGVUcmFpdCA9IHVzZUNhbGxiYWNrKChsYXllcklkOiBzdHJpbmcsIHRyYWl0SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBzZXRMYXllcnMocHJldkxheWVycyA9PiBwcmV2TGF5ZXJzLm1hcChsYXllciA9PiB7XG4gICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBsYXllci50cmFpdHMuZmlsdGVyKHRyYWl0ID0+IHRyYWl0LmlkICE9PSB0cmFpdElkKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgICAgIH0pKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCBhbnkgcnVsZXMgaW52b2x2aW5nIHRoaXMgdHJhaXRcbiAgICAgICAgY29uc3QgdXBkYXRlZFJ1bGVzID0gZ2xvYmFsUnVsZXMuZmlsdGVyKHJ1bGUgPT4gXG4gICAgICAgICAgICAhKHJ1bGUuc291cmNlTGF5ZXJJZCA9PT0gbGF5ZXJJZCAmJiBydWxlLnNvdXJjZVRyYWl0ID09PSB0cmFpdElkKSAmJlxuICAgICAgICAgICAgIShydWxlLnRhcmdldExheWVySWQgPT09IGxheWVySWQgJiYgcnVsZS50YXJnZXRUcmFpdCA9PT0gdHJhaXRJZClcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1cGRhdGVkUnVsZXMubGVuZ3RoICE9PSBnbG9iYWxSdWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldEdsb2JhbFJ1bGVzKHVwZGF0ZWRSdWxlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3RpZnkgcGFyZW50IGNvbXBvbmVudFxuICAgICAgICBpZiAob25MYXllcnNVcGRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXllcnMgPSBsYXllcnMubWFwKGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuaWQgPT09IGxheWVySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxheWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBsYXllci50cmFpdHMuZmlsdGVyKHRyYWl0ID0+IHRyYWl0LmlkICE9PSB0cmFpdElkKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9uTGF5ZXJzVXBkYXRlKHVwZGF0ZWRMYXllcnMsIHVwZGF0ZWRSdWxlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2FzdC5zdWNjZXNzKCdUcmFpdCBkZWxldGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0sIFtsYXllcnMsIGdsb2JhbFJ1bGVzLCBvbkxheWVyc1VwZGF0ZV0pO1xuXG4gICAgY29uc3QgaGFuZGxlVHJhaXRSYXJpdHlDaGFuZ2UgPSB1c2VDYWxsYmFjaygobGF5ZXJJZDogc3RyaW5nLCB0cmFpdElkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpID0+IHtcbiAgICAgICAgc2V0TGF5ZXJzKHByZXZMYXllcnMgPT4gcHJldkxheWVycy5tYXAobGF5ZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGxheWVyLmlkID09PSBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0czogbGF5ZXIudHJhaXRzLm1hcCh0cmFpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhaXQuaWQgPT09IHRyYWl0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50cmFpdCwgcmFyaXR5OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYWl0O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE5vdGlmeSBwYXJlbnQgY29tcG9uZW50IG9mIHRoZSBjaGFuZ2VcbiAgICAgICAgaWYgKG9uTGF5ZXJzVXBkYXRlKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gbGF5ZXJzLm1hcChsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLmlkID09PSBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWl0czogbGF5ZXIudHJhaXRzLm1hcCh0cmFpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWl0LmlkID09PSB0cmFpdElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnRyYWl0LCByYXJpdHk6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFpdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25MYXllcnNVcGRhdGUodXBkYXRlZExheWVycywgZ2xvYmFsUnVsZXMpO1xuICAgICAgICB9XG4gICAgfSwgW2xheWVycywgZ2xvYmFsUnVsZXMsIG9uTGF5ZXJzVXBkYXRlXSk7XG5cbiAgICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBoYW5kbGUgbGF5ZXIgb3JkZXJpbmdcbiAgICBjb25zdCByZW9yZGVyTGF5ZXJzID0gdXNlQ2FsbGJhY2soKGxheWVyczogTGF5ZXJbXSkgPT4ge1xuICAgICAgICByZXR1cm4gbGF5ZXJzLm1hcCgobGF5ZXIsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICBvcmRlcjogbGF5ZXIuaXNCYWNrZ3JvdW5kID8gMCA6IGluZGV4ICsgMVxuICAgICAgICB9KSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgdmFsaWRhdGVMYXllcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgbGF5ZXJOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYmFja2dyb3VuZCBsYXllciBleGlzdHMgYW5kIGhhcyB0cmFpdHNcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZExheWVyID0gbGF5ZXJzLmZpbmQobCA9PiBcbiAgICAgICAgICAgIGwuaXNEZWZhdWx0QmFja2dyb3VuZCA9PT0gdHJ1ZSB8fCBsLmlzQmFja2dyb3VuZCA9PT0gdHJ1ZVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFiYWNrZ3JvdW5kTGF5ZXIpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdCYWNrZ3JvdW5kIGxheWVyIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWJhY2tncm91bmRMYXllci50cmFpdHMgfHwgYmFja2dyb3VuZExheWVyLnRyYWl0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdCYWNrZ3JvdW5kIGxheWVyIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgdHJhaXQnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgYWxsIGxheWVycyBmb3IgdmFsaWRhdGlvbiBpc3N1ZXNcbiAgICAgICAgbGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZSBsYXllciBuYW1lcyAoZXhjbHVkaW5nIGJhY2tncm91bmQgbGF5ZXIpXG4gICAgICAgICAgICBpZiAobGF5ZXIuaXNEZWZhdWx0QmFja2dyb3VuZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyTmFtZSA9IGxheWVyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXJOYW1lcy5oYXMobG93ZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChgRHVwbGljYXRlIGxheWVyIG5hbWU6ICR7bGF5ZXIubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXllck5hbWVzLmFkZChsb3dlck5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm9uLWJhY2tncm91bmQgbGF5ZXJzIGhhdmUgdHJhaXRzXG4gICAgICAgICAgICBpZiAobGF5ZXIuaXNEZWZhdWx0QmFja2dyb3VuZCAhPT0gdHJ1ZSAmJiAoIWxheWVyLnRyYWl0cyB8fCBsYXllci50cmFpdHMubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBMYXllciAke2xheWVyLm5hbWUgfHwgbGF5ZXIuaWR9IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgdHJhaXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JzWzBdKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSwgW2xheWVyc10pO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBvbk5leHQgaGFuZGxlclxuICAgIGNvbnN0IGhhbmRsZU5leHQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdmFsaWRhdGVMYXllcnMoKSkge1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ1BsZWFzZSBjaGVjayB5b3VyIGxheWVycyBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb25OZXh0KCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCB0aGVzZSBsYXllciBtb3ZlbWVudCBmdW5jdGlvbnNcbiAgICBjb25zdCBtb3ZlTGF5ZXJVcCA9IHVzZUNhbGxiYWNrKChsYXllcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0TGF5ZXJzKHByZXZMYXllcnMgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcmV2TGF5ZXJzLmZpbmRJbmRleChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZCk7XG4gICAgICAgICAgICAvLyBEb24ndCBtb3ZlIGlmIGl0J3MgdGhlIGJhY2tncm91bmQgbGF5ZXIgb3IgYWxyZWFkeSBhdCB0b3AgKGFmdGVyIGJhY2tncm91bmQpXG4gICAgICAgICAgICBpZiAoaW5kZXggPD0gMSB8fCBwcmV2TGF5ZXJzW2luZGV4XT8uaXNCYWNrZ3JvdW5kID09PSB0cnVlKSByZXR1cm4gcHJldkxheWVycztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3TGF5ZXJzID0gWy4uLnByZXZMYXllcnNdO1xuICAgICAgICAgICAgW25ld0xheWVyc1tpbmRleF0sIG5ld0xheWVyc1tpbmRleCAtIDFdXSA9IFtuZXdMYXllcnNbaW5kZXggLSAxXSwgbmV3TGF5ZXJzW2luZGV4XV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvcmRlciBmb3IgYWxsIGxheWVyc1xuICAgICAgICAgICAgcmV0dXJuIG5ld0xheWVycy5tYXAoKGxheWVyLCBpZHgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgICAgICAgb3JkZXI6IChsYXllcj8uaXNCYWNrZ3JvdW5kID09PSB0cnVlKSA/IDAgOiBpZHhcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgbW92ZUxheWVyRG93biA9IHVzZUNhbGxiYWNrKChsYXllcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0TGF5ZXJzKHByZXZMYXllcnMgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwcmV2TGF5ZXJzLmZpbmRJbmRleChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZCk7XG4gICAgICAgICAgICAvLyBEb24ndCBtb3ZlIGlmIGl0J3MgdGhlIGxhc3QgbGF5ZXIgb3IgYmFja2dyb3VuZCBsYXllclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBwcmV2TGF5ZXJzLmxlbmd0aCAtIDEgfHwgcHJldkxheWVyc1tpbmRleF0/LmlzQmFja2dyb3VuZCA9PT0gdHJ1ZSkgcmV0dXJuIHByZXZMYXllcnM7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5ld0xheWVycyA9IFsuLi5wcmV2TGF5ZXJzXTtcbiAgICAgICAgICAgIFtuZXdMYXllcnNbaW5kZXhdLCBuZXdMYXllcnNbaW5kZXggKyAxXV0gPSBbbmV3TGF5ZXJzW2luZGV4ICsgMV0sIG5ld0xheWVyc1tpbmRleF1dO1xuICAgICAgICAgICAgcmV0dXJuIHJlb3JkZXJMYXllcnMobmV3TGF5ZXJzKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW3Jlb3JkZXJMYXllcnNdKTtcblxuICAgIC8vIEFkZCB0aGlzIGhlbHBlciBmdW5jdGlvblxuICAgIGNvbnN0IHZhbGlkYXRlTGF5ZXJOYW1lID0gKG5hbWU6IHN0cmluZywgbGF5ZXJzOiBMYXllcltdLCBjdXJyZW50TGF5ZXJJZD86IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAvLyBBbGxvdyBlbXB0eSBuYW1lcyAod2lsbCBiZSBjYXVnaHQgYnkgZmluYWwgdmFsaWRhdGlvbilcbiAgICAgICAgaWYgKCFuYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGR1cGxpY2F0ZXMgaWYgbmFtZSBpcyBub3QgZW1wdHlcbiAgICAgICAgcmV0dXJuICFsYXllcnMuc29tZShsYXllciA9PiBcbiAgICAgICAgICAgIGxheWVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpICYmIFxuICAgICAgICAgICAgKCFjdXJyZW50TGF5ZXJJZCB8fCBsYXllci5pZCAhPT0gY3VycmVudExheWVySWQpXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIENoYXJhY3RlciBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xuICAgIGNvbnN0IGFkZENoYXJhY3RlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFuZXdDaGFyYWN0ZXIubmFtZS50cmltKCkpIHtcbiAgICAgICAgICAgIHNldEVycm9yKCdDaGFyYWN0ZXIgbmFtZSBjYW5ub3QgYmUgZW1wdHknKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld0NoYXJhY3RlcklkID0gYGNoYXJhY3Rlci0ke0RhdGUubm93KCl9YDtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSB7XG4gICAgICAgICAgICAuLi5uZXdDaGFyYWN0ZXIsXG4gICAgICAgICAgICBpZDogbmV3Q2hhcmFjdGVySWQsXG4gICAgICAgICAgICBsYXllcnM6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0Q2hhcmFjdGVycyhwcmV2ID0+IFsuLi5wcmV2LCBjaGFyYWN0ZXJdKTtcbiAgICAgICAgc2V0QWN0aXZlQ2hhcmFjdGVySWQobmV3Q2hhcmFjdGVySWQpO1xuICAgICAgICBzZXRJc0FkZGluZ0NoYXJhY3RlcihmYWxzZSk7XG4gICAgICAgIHNldE5ld0NoYXJhY3RlcihnZXREZWZhdWx0Q2hhcmFjdGVyKCkpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVDaGFyYWN0ZXIgPSAoY2hhcmFjdGVySWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDaGFyYWN0ZXI+KSA9PiB7XG4gICAgICAgIHNldENoYXJhY3RlcnMocHJldiA9PiBwcmV2Lm1hcChjaGFyYWN0ZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5pZCA9PT0gY2hhcmFjdGVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5jaGFyYWN0ZXIsIC4uLnVwZGF0ZXMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXI7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlQ2hhcmFjdGVyID0gKGNoYXJhY3RlcklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgZGVsZXRpbmcgdGhlIGRlZmF1bHQgY2hhcmFjdGVyXG4gICAgICAgIGlmIChjaGFyYWN0ZXJJZCA9PT0gREVGQVVMVF9DSEFSQUNURVIuaWQpIHtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKCdDYW5ub3QgZGVsZXRlIHRoZSBkZWZhdWx0IGNvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIGNoYXJhY3RlciBhbmQgaXRzIGxheWVyc1xuICAgICAgICBzZXRDaGFyYWN0ZXJzKHByZXYgPT4gcHJldi5maWx0ZXIoYyA9PiBjLmlkICE9PSBjaGFyYWN0ZXJJZCkpO1xuICAgICAgICBzZXRMYXllcnMocHJldiA9PiBwcmV2LmZpbHRlcihsID0+IGwuY2hhcmFjdGVySWQgIT09IGNoYXJhY3RlcklkKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTd2l0Y2ggdG8gZGVmYXVsdCBjaGFyYWN0ZXJcbiAgICAgICAgc2V0QWN0aXZlQ2hhcmFjdGVySWQoY2hhcmFjdGVycy5maW5kKGMgPT4gYy5pZCAhPT0gY2hhcmFjdGVySWQpPy5pZCB8fCBERUZBVUxUX0NIQVJBQ1RFUi5pZCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCB0aGUgaGFuZGxlQWRkTGF5ZXIgZnVuY3Rpb25cbiAgICBjb25zdCBoYW5kbGVBZGRMYXllciA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFuZXdMYXllck5hbWUudHJpbSgpKSB7XG4gICAgICAgICAgICBzZXRFcnJvcignTGF5ZXIgbmFtZSBjYW5ub3QgYmUgZW1wdHknKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXllcnMuc29tZShsYXllciA9PiBsYXllci5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5ld0xheWVyTmFtZS50b0xvd2VyQ2FzZSgpICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2hhcmFjdGVySWQgPT09IGFjdGl2ZUNoYXJhY3RlcklkKSkge1xuICAgICAgICAgICAgc2V0RXJyb3IoJ0xheWVyIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGNoYXJhY3RlcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3TGF5ZXI6IFRyYWl0TGF5ZXIgPSB7XG4gICAgICAgICAgICBpZDogYGxheWVyLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgbmFtZTogbmV3TGF5ZXJOYW1lLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IG5ld0xheWVyTmFtZSxcbiAgICAgICAgICAgIHRyYWl0czogW10sXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIG9yZGVyOiBsYXllcnMuZmlsdGVyKGwgPT4gbC5jaGFyYWN0ZXJJZCA9PT0gYWN0aXZlQ2hhcmFjdGVySWQpLmxlbmd0aCxcbiAgICAgICAgICAgIGNoYXJhY3RlcklkOiBhY3RpdmVDaGFyYWN0ZXJJZFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFkZCB0byBsYXllcnMgYW5kIHRvIHRoZSBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgdXBkYXRlZExheWVycyA9IFsuLi5sYXllcnMsIG5ld0xheWVyXTtcbiAgICAgICAgc2V0TGF5ZXJzKHVwZGF0ZWRMYXllcnMpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIGNoYXJhY3RlcidzIGxheWVyc1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSBjaGFyYWN0ZXJzLmZpbmQoYyA9PiBjLmlkID09PSBhY3RpdmVDaGFyYWN0ZXJJZCk7XG4gICAgICAgIGlmIChjaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIHVwZGF0ZUNoYXJhY3RlcihhY3RpdmVDaGFyYWN0ZXJJZCwge1xuICAgICAgICAgICAgICAgIGxheWVyczogWy4uLnVwZGF0ZWRMYXllcnMuZmlsdGVyKGwgPT4gbC5jaGFyYWN0ZXJJZCA9PT0gYWN0aXZlQ2hhcmFjdGVySWQpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZSB0aGUgZm9ybSBhbmQgcmVzZXQgdGhlIGlucHV0XG4gICAgICAgIHNldElzQWRkTGF5ZXJPcGVuKGZhbHNlKTtcbiAgICAgICAgc2V0TmV3TGF5ZXJOYW1lKCcnKTtcbiAgICAgICAgc2V0RXJyb3IoJycpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHRoaXMgYXMgdGhlIGFjdGl2ZSBsYXllclxuICAgICAgICBzZXRBY3RpdmVMYXllcklkKG5ld0xheWVyLmlkKTtcbiAgICB9O1xuXG4gICAgLy8gR2V0IGN1cnJlbnQgY2hhcmFjdGVyIGluZm9cbiAgICBjb25zdCBjdXJyZW50Q2hhcmFjdGVyID0gY2hhcmFjdGVycy5maW5kKGMgPT4gYy5pZCA9PT0gYWN0aXZlQ2hhcmFjdGVySWQpO1xuXG4gICAgLy8gQWRkIGZ1bmN0aW9uIHRvIGhhbmRsZSBhZGRpbmcgYSBuZXcgY2hhcmFjdGVyXG4gICAgY29uc3QgaGFuZGxlQWRkQ2hhcmFjdGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoIW5ld0NoYXJhY3Rlci5uYW1lKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdDaGFyYWN0ZXJJZCA9IGBpZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWA7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcjogQ2hhcmFjdGVyID0ge1xuICAgICAgICAgICAgLi4ubmV3Q2hhcmFjdGVyLFxuICAgICAgICAgICAgaWQ6IG5ld0NoYXJhY3RlcklkLFxuICAgICAgICAgICAgbGF5ZXJzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIHNldENoYXJhY3RlcnMocHJldiA9PiBbLi4ucHJldiwgY2hhcmFjdGVyXSk7XG4gICAgICAgIHNldEFjdGl2ZUNoYXJhY3RlcklkKG5ld0NoYXJhY3RlcklkKTtcbiAgICAgICAgc2V0SXNBZGRpbmdDaGFyYWN0ZXIoZmFsc2UpO1xuICAgICAgICBzZXROZXdDaGFyYWN0ZXIoe1xuICAgICAgICAgICAgbmFtZTogJ05ldyBDaGFyYWN0ZXIgVHlwZScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICBzdXBwbHk6IDAsXG4gICAgICAgICAgICBsYXllcnM6IFtdLFxuICAgICAgICAgICAgaW1hZ2VQcmV2aWV3OiAnJ1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250ZW50fT5cbiAgICAgICAgICAgICAgICB7LyogR3VpZGUgaW5mb3JtYXRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ndWlkZUNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZ3VpZGVIZWFkZXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyPlRyYWl0IE1hbmFnZXI8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5ndWlkZUJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93R3VpZGUocHJldlN0YXRlID0+ICFwcmV2U3RhdGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93R3VpZGUgPyAnSGlkZSBHdWlkZScgOiAnU2hvdyBHdWlkZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7c2hvd0d1aWRlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZ3VpZGVDb250ZW50fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmd1aWRlU2VjdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5DaGFyYWN0ZXIgVHlwZXMgKE9wdGlvbmFsKTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhcmFjdGVyIHR5cGVzIGFsbG93IHlvdSB0byBvcmdhbml6ZSB5b3VyIE5GVCBjb2xsZWN0aW9uIGludG8gZGlmZmVyZW50IGNhdGVnb3JpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFYWNoIGNoYXJhY3RlciB0eXBlIGNhbiBoYXZlIGl0cyBvd24gdW5pcXVlIGxheWVycyBhbmQgdHJhaXRzLCB3aXRoIGluZGl2aWR1YWwgc3VwcGx5IHNldHRpbmdzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5UaGlzIGZlYXR1cmUgaXMgY29tcGxldGVseSBvcHRpb25hbDwvc3Ryb25nPiAtIGlmIHlvdSBkb24ndCBuZWVkIGRpZmZlcmVudCBjaGFyYWN0ZXIgdHlwZXMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeW91IGNhbiBzaW1wbHkgdXNlIHRoZSBkZWZhdWx0IGNoYXJhY3RlciB0eXBlIHByb3ZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ndWlkZVNlY3Rpb259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+TGF5ZXJzICYgVHJhaXRzPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYXllcnMgcmVwcmVzZW50IGNhdGVnb3JpZXMgbGlrZSBcIkJhY2tncm91bmRcIiwgXCJCb2R5XCIsIFwiRXllc1wiLCBldGMuIEVhY2ggbGF5ZXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW4gY29udGFpbiBtdWx0aXBsZSB0cmFpdCBpbWFnZXMgdGhhdCB3aWxsIGJlIHJhbmRvbWx5IHNlbGVjdGVkIGR1cmluZyBnZW5lcmF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGlwOiBPcmdhbml6ZSB5b3VyIGxheWVycyBpbiB0aGUgb3JkZXIgeW91IHdhbnQgdGhlbSByZW5kZXJlZCwgd2l0aCBiYWNrZ3JvdW5kIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzIGF0IHRoZSB0b3AgYW5kIGZvcmVncm91bmQgbGF5ZXJzIGF0IHRoZSBib3R0b20uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmd1aWRlU2VjdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5RdWljayBTdGFydDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5DcmVhdGUgbGF5ZXJzIGZvciBlYWNoIHBhcnQgb2YgeW91ciBORlQgKEJhY2tncm91bmQsIEJvZHksIEV5ZXMsIGV0Yy4pPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5VcGxvYWQgdHJhaXQgaW1hZ2VzIHRvIGVhY2ggbGF5ZXI8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPkFkanVzdCByYXJpdHkgc2V0dGluZ3MgaWYgbmVlZGVkPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5DcmVhdGUgcnVsZXMgYmV0d2VlbiB0cmFpdHMgaWYgbmVlZGVkIChvcHRpb25hbCk8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlByZXZpZXcgeW91ciBjb21iaW5hdGlvbnM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29sPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQ2hhcmFjdGVyIGRyb3Bkb3duIGFuZCBzZWxlY3RvciAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNoYXJhY3RlcnNIZWFkZXJ9PlxuICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICBDaGFyYWN0ZXIgVHlwZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLm9wdGlvbmFsRmVhdHVyZX0+T3B0aW9uYWw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNoYXJhY3RlckRyb3Bkb3duQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2hhcmFjdGVyRHJvcGRvd259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2FjdGl2ZUNoYXJhY3RlcklkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QWN0aXZlQ2hhcmFjdGVySWQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU2VsZWN0IGEgY2hhcmFjdGVyIHR5cGUuIFRoaXMgZmVhdHVyZSBpcyBvcHRpb25hbCAtIHlvdSBjYW4gdXNlIGp1c3Qgb25lIGNoYXJhY3RlciB0eXBlIGZvciB5b3VyIGVudGlyZSBjb2xsZWN0aW9uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoYXJhY3RlcnMubWFwKGNoYXJhY3RlciA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjaGFyYWN0ZXIuaWR9IHZhbHVlPXtjaGFyYWN0ZXIuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoYXJhY3Rlci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlQ2hhcmFjdGVySWQgJiYgY2hhcmFjdGVycy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5kZWxldGVDaGFyYWN0ZXJCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgXCIke2N1cnJlbnRDaGFyYWN0ZXI/Lm5hbWV9XCIgY2hhcmFjdGVyIHR5cGU/YCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDaGFyYWN0ZXIoYWN0aXZlQ2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSB0aGlzIGNoYXJhY3RlciB0eXBlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGYVRyYXNoIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5hZGRDaGFyYWN0ZXJCdXR0b259IFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNBZGRpbmdDaGFyYWN0ZXIodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBhIG5ldyBjaGFyYWN0ZXIgdHlwZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGYVBsdXMgLz4gQWRkIFR5cGVcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQWRkIENoYXJhY3RlciBNb2RhbCAqL31cbiAgICAgICAgICAgICAgICB7aXNBZGRpbmdDaGFyYWN0ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsT3ZlcmxheX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+QWRkIE5ldyBDaGFyYWN0ZXIgVHlwZTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtzdHlsZXMubW9kYWxEZXNjcmlwdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgdHlwZSB0byBvcmdhbml6ZSB0cmFpdHMgZm9yIGEgZGlzdGluY3QgdHlwZSBvZiBORlQgaW4geW91ciBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFYWNoIGNoYXJhY3RlciB0eXBlIGNhbiBoYXZlIGl0cyBvd24gdW5pcXVlIGxheWVycyBhbmQgdHJhaXRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNoYXJhY3RlciBUeXBlIE5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3Q2hhcmFjdGVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3Q2hhcmFjdGVyKHsuLi5uZXdDaGFyYWN0ZXIsIG5hbWU6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uIChvcHRpb25hbClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3Q2hhcmFjdGVyLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld0NoYXJhY3Rlcih7Li4ubmV3Q2hhcmFjdGVyLCBkZXNjcmlwdGlvbjogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudGV4dGFyZWF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsQnV0dG9uc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jYW5jZWxCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNBZGRpbmdDaGFyYWN0ZXIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXJhY3Rlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOZXcgQ2hhcmFjdGVyIFR5cGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBseTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VQcmV2aWV3OiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuYWRkQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQ2hhcmFjdGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFuZXdDaGFyYWN0ZXIubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIENoYXJhY3RlciBUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogTGF5ZXJzIHBhbmVsICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJzUGFuZWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNpZGViYXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sYXllcnNIZWFkZXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5MYXllcnM8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmFkZExheWVyQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0FkZExheWVyT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBZGQgYSBuZXcgbGF5ZXIgbGlrZSBCYWNrZ3JvdW5kLCBCb2R5LCBFeWVzLCBldGMuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQbHVzIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgTGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTGF5ZXIgaGVscCB0ZXh0ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sYXllckhlbHBUZXh0fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5MYXllcnMgZGV0ZXJtaW5lIGhvdyB5b3VyIE5GVCBpcyBzdHJ1Y3R1cmVkLiBBZGQgbGF5ZXJzIGluIG9yZGVyIGZyb20gYmFja2dyb3VuZCB0byBmb3JlZ3JvdW5kLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTGF5ZXIgQWRkIEZvcm0gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNBZGRMYXllck9wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJGb3JtfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkxheWVyIE5hbWUgKGUuZy4gQmFja2dyb3VuZCwgQm9keSwgRXllcylcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld0xheWVyTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3TGF5ZXJOYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmlucHV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZm9ybUFjdGlvbnN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jYW5jZWxCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNBZGRMYXllck9wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNhdmVCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YWRkTGF5ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyc0xpc3R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcmFnRHJvcENvbnRleHQgb25EcmFnRW5kPXtoYW5kbGVEcmFnRW5kfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyb3BwYWJsZSBkcm9wcGFibGVJZD1cImxheWVycy1saXN0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHByb3ZpZGVkLCBzbmFwc2hvdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtwcm92aWRlZC5pbm5lclJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLnByb3ZpZGVkLmRyb3BwYWJsZVByb3BzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5kcm9wcGFibGVDb250YWluZXJ9ICR7c25hcHNob3QuaXNEcmFnZ2luZ092ZXIgPyBzdHlsZXMuaXNEcmFnZ2luZ092ZXIgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xheWVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihsYXllciA9PiBsYXllci5jaGFyYWN0ZXJJZCA9PT0gYWN0aXZlQ2hhcmFjdGVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGEub3JkZXIgfHwgMCkgLSAoYi5vcmRlciB8fCAwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGxheWVyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcmFnZ2FibGUga2V5PXtsYXllci5pZH0gZHJhZ2dhYmxlSWQ9e2xheWVyLmlkfSBpbmRleD17aW5kZXh9IGlzRHJhZ0Rpc2FibGVkPXtsYXllci5pc0JhY2tncm91bmR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHByb3ZpZGVkLCBzbmFwc2hvdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17cHJvdmlkZWQuaW5uZXJSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLnByb3ZpZGVkLmRyYWdnYWJsZVByb3BzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLmxheWVyQ2FyZH0gJHtsYXllci5pZCA9PT0gYWN0aXZlTGF5ZXJJZCA/IHN0eWxlcy5hY3RpdmUgOiAnJ30gJHtzbmFwc2hvdC5pc0RyYWdnaW5nID8gc3R5bGVzLmlzRHJhZ2dpbmcgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUxheWVyU2VsZWN0KGxheWVyLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyQ2FyZENvbnRlbnR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyQ2FyZEhlYWRlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyQ2FyZExlZnR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgey4uLnByb3ZpZGVkLmRyYWdIYW5kbGVQcm9wc30gY2xhc3NOYW1lPXtzdHlsZXMuZHJhZ0hhbmRsZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlwVmVydGljYWwgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2xheWVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlTGF5ZXJOYW1lKGxheWVyLmlkLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5sYXllck5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTGF5ZXIgbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyQ2FyZEFjdGlvbnN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93U2V0dGluZ3MobGF5ZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5hY3Rpb25CdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiTGF5ZXIgU2V0dGluZ3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdzIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXBsaWNhdGVMYXllcihsYXllci5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmFjdGlvbkJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEdXBsaWNhdGUgTGF5ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvcHkgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5hY3Rpb25CdXR0b259ICR7c3R5bGVzLmRlbGV0ZUJ1dHRvbn1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gUHJldmVudCBsYXllciBzZWxlY3Rpb24gd2hlbiBkZWxldGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXIobGF5ZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyB3YXMgdGhlIGFjdGl2ZSBsYXllciwgY2xlYXIgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUxheWVySWQgPT09IGxheWVyLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlTGF5ZXJJZCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzZXR0aW5ncyB3ZXJlIG9wZW4gZm9yIHRoaXMgbGF5ZXIsIGNsb3NlIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93U2V0dGluZ3MgPT09IGxheWVyLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1NldHRpbmdzKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBsYXllclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyQ2FyZFN0YXRzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdEJhZGdlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0TGFiZWx9PlRyYWl0czo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdFZhbHVlfT57bGF5ZXIudHJhaXRzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdEJhZGdlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0TGFiZWx9PlJhcml0eTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdFZhbHVlfT57bGF5ZXIubGF5ZXJSYXJpdHl9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJhZ2dhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcm92aWRlZC5wbGFjZWhvbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJvcHBhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRHJhZ0Ryb3BDb250ZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBFbXB0eSBzdGF0ZSBtZXNzYWdlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYXllcnMuZmlsdGVyKGxheWVyID0+IGxheWVyLmNoYXJhY3RlcklkID09PSBhY3RpdmVDaGFyYWN0ZXJJZCkubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5lbXB0eUxheWVyc01lc3NhZ2V9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIHNpemU9ezI0fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0Pk5vIExheWVycyBZZXQ8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q2xpY2sgdGhlIFwiQWRkIExheWVyXCIgYnV0dG9uIHRvIGNyZWF0ZSB5b3VyIGZpcnN0IGxheWVyLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlN0YXJ0IHdpdGggbGF5ZXJzIGxpa2U6PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5CYWNrZ3JvdW5kPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+Qm9keTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPkhlYWQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5FeWVzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+TW91dGg8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5BY2Nlc3NvcmllczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5hZGRMYXllckJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0FkZExheWVyT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgWW91ciBGaXJzdCBMYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1haW5Db250ZW50fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubWFpbkhlYWRlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5oZWFkZXJMZWZ0fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjdGl2ZUxheWVySWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtsYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gYWN0aXZlTGF5ZXJJZCk/Lm5hbWUgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVMYXllck5hbWUoYWN0aXZlTGF5ZXJJZCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmxheWVyVGl0bGVJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkxheWVyIG5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlckFjdGlvbnN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1ByZXZpZXdTdHJpcCghc2hvd1ByZXZpZXdTdHJpcCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5oZWFkZXJCdXR0b259ICR7c2hvd1ByZXZpZXdTdHJpcCA/IHN0eWxlcy5hY3RpdmUgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJRdWljayBQcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV5ZSBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlByZXZpZXc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1ByZXZpZXdTdHJpcCA/IDxDaGV2cm9uVXAgc2l6ZT17MTZ9IC8+IDogPENoZXZyb25Eb3duIHNpemU9ezE2fSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthY3RpdmVMYXllcklkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93U2V0dGluZ3MoYWN0aXZlTGF5ZXJJZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlckJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+U2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1VwbG9hZFNlY3Rpb24oIXNob3dVcGxvYWRTZWN0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMuaGVhZGVyQnV0dG9ufSAke3Nob3dVcGxvYWRTZWN0aW9uID8gc3R5bGVzLmFjdGl2ZSA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPXsxNn0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5kcm9wZG93bkljb259ICR7c2hvd1VwbG9hZFNlY3Rpb24gPyBzdHlsZXMuYWN0aXZlIDogJyd9YH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkFkZCBUcmFpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93UHJldmlld1N0cmlwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnByZXZpZXdTdHJpcH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucHJldmlld0ltYWdlc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJldmlld0NvbWJpbmF0aW9ucy5tYXAoKGNvbWJpbmF0aW9uLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake2l9LSR7cHJldmlld1N0cmlwS2V5fWB9IGNsYXNzTmFtZT17c3R5bGVzLnByZXZpZXdJdGVtfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGNvbWJpbmF0aW9uKS5tYXAoKFtsYXllcklkLCB0cmFpdF0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7bGF5ZXJJZH0tJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17dHJhaXQucHJldmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3RyYWl0Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucHJldmlld0xheWVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHpJbmRleDogaW5kZXggfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Z2VuZXJhdGVQcmV2aWV3c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnJlZnJlc2hTdHJpcEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlZnJlc2hDdyBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlTGF5ZXJJZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1VwbG9hZFNlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3N0eWxlcy51cGxvYWRTZWN0aW9ufSAke3N0eWxlcy5zbGlkZURvd259YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlRmlsZVVwbG9hZChlLCBhY3RpdmVMYXllcklkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgZmlsZS1pbnB1dC0ke2FjdGl2ZUxheWVySWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj17YGZpbGUtaW5wdXQtJHthY3RpdmVMYXllcklkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmRyb3B6b25lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVwbG9hZCBzaXplPXsyNH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q2xpY2sgb3IgZHJhZyBpbWFnZXMgaGVyZSB0byB1cGxvYWQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlN1cHBvcnRzIFBORywgSlBHLCBHSUYgKG1heCA1TUIpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50cmFpdHNHcmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gYWN0aXZlTGF5ZXJJZCk/LnRyYWl0cy5tYXAodHJhaXQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFpdENhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0cmFpdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXQ9e3RyYWl0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkPXthY3RpdmVMYXllcklkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJhcml0eUNoYW5nZT17aGFuZGxlVHJhaXRSYXJpdHlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXtoYW5kbGVEZWxldGVUcmFpdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25OYW1lQ2hhbmdlPXtoYW5kbGVUcmFpdE5hbWVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ub0xheWVyU2VsZWN0ZWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+U2VsZWN0IGEgbGF5ZXIgdG8gbWFuYWdlIHRyYWl0czwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPk9yIGNyZWF0ZSBhIG5ldyBsYXllciB0byBnZXQgc3RhcnRlZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBOYXZpZ2F0aW9uICovfVxuICAgICAgICAgICAgeyFoaWRlTmF2aWdhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5hY3Rpb25zfT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkJhY2t9IGNsYXNzTmFtZT17c3R5bGVzLmJhY2tCdXR0b259PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xheWVycy5sZW5ndGggPT09IDAgfHwgY2hhcmFjdGVycy5zb21lKGMgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzLmZpbHRlcihsID0+IGwuY2hhcmFjdGVySWQgPT09IGMuaWQpLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVycy5maWx0ZXIobCA9PiBsLmNoYXJhY3RlcklkID09PSBjLmlkKS5zb21lKGwgPT4gbC50cmFpdHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm5leHRCdXR0b259XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIE5leHRcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1JpZ2h0IHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBNb2RhbHMgKi99XG4gICAgICAgICAgICB7c2hvd1NldHRpbmdzICYmIChcbiAgICAgICAgICAgICAgICA8TGF5ZXJTZXR0aW5ncyBcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZD17c2hvd1NldHRpbmdzfVxuICAgICAgICAgICAgICAgICAgICBsYXllcnM9e2xheWVyc31cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGF5ZXJTZXR0aW5nPXt1cGRhdGVMYXllclNldHRpbmd9XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dTZXR0aW5ncz17c2V0U2hvd1NldHRpbmdzfVxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxSdWxlcz17Z2xvYmFsUnVsZXN9XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUdsb2JhbFJ1bGVzPXt1cGRhdGVHbG9iYWxSdWxlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge2VkaXRpbmdSdWxlICYmIGVkaXRpbmdUcmFpdFR5cGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubW9kYWx9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsQ29udGVudH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsSGVhZGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+U2VsZWN0IE5ldyBUcmFpdDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2xvc2VCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdSdWxlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1RyYWl0VHlwZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxYIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRyYWl0U2VsZWN0Qm94fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGF5ZXJzLm1hcChsYXllciA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLnRyYWl0cy5tYXAodHJhaXQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dHJhaXQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudHJhaXRPcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcGRhdGVSdWxlKGVkaXRpbmdSdWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYCR7ZWRpdGluZ1RyYWl0VHlwZX1MYXllcklkYF06IGxheWVyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Ake2VkaXRpbmdUcmFpdFR5cGV9VHJhaXRgXTogdHJhaXQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXt0cmFpdC5wcmV2aWV3fSBhbHQ9e3RyYWl0Lm5hbWV9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3RyYWl0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzc05hbWU9e3N0eWxlcy5sYXllck5hbWV9PntsYXllci5uYW1lfTwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFpdFVwbG9hZGVyO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIlVwbG9hZCIsIlBsdXMiLCJYIiwiR3JpcFZlcnRpY2FsIiwiVHJhc2gyIiwiU2V0dGluZ3MiLCJDb3B5IiwiQWxlcnRDaXJjbGUiLCJDaGV2cm9uRG93biIsIlJlZnJlc2hDdyIsIkV5ZSIsIkFycm93UmlnaHQiLCJCYW4iLCJBcnJvd0xlZnQiLCJDaGV2cm9uVXAiLCJGYVRyYXNoIiwiRmFQbHVzIiwic3R5bGVzIiwiRHJhZ0Ryb3BDb250ZXh0IiwiRHJvcHBhYmxlIiwiRHJhZ2dhYmxlIiwidG9hc3QiLCJ2YWxpZGF0ZUxheWVycyIsImxheWVycyIsImxlbmd0aCIsImlzVmFsaWQiLCJtZXNzYWdlIiwiaGFzQmFja2dyb3VuZExheWVyIiwic29tZSIsImxheWVyIiwiaXNCYWNrZ3JvdW5kIiwiVHJhaXREaXNwbGF5IiwidHJhaXRJZCIsInRyYWl0IiwidHJhaXRzIiwiZmluZCIsInQiLCJpZCIsImRpdiIsImNsYXNzTmFtZSIsInRyYWl0RGlzcGxheSIsImltZyIsInNyYyIsInByZXZpZXciLCJhbHQiLCJuYW1lIiwidHJhaXRJbmZvIiwic3BhbiIsInRyYWl0TmFtZSIsImxheWVyTmFtZSIsIkxheWVyU2V0dGluZ3MiLCJtZW1vIiwibGF5ZXJJZCIsInVwZGF0ZUxheWVyU2V0dGluZyIsInNldFNob3dTZXR0aW5ncyIsImdsb2JhbFJ1bGVzIiwidXBkYXRlR2xvYmFsUnVsZXMiLCJhY3RpdmVUYWIiLCJzZXRBY3RpdmVUYWIiLCJzZWxlY3RlZFNvdXJjZVRyYWl0Iiwic2V0U2VsZWN0ZWRTb3VyY2VUcmFpdCIsInNlbGVjdGVkU291cmNlTGF5ZXIiLCJzZXRTZWxlY3RlZFNvdXJjZUxheWVyIiwic2VsZWN0ZWRUYXJnZXRUcmFpdCIsInNldFNlbGVjdGVkVGFyZ2V0VHJhaXQiLCJzZWxlY3RlZFRhcmdldExheWVyIiwic2V0U2VsZWN0ZWRUYXJnZXRMYXllciIsInNlbGVjdGVkUnVsZVR5cGUiLCJzZXRTZWxlY3RlZFJ1bGVUeXBlIiwiZWRpdGluZ1J1bGUiLCJzZXRFZGl0aW5nUnVsZSIsImVkaXRpbmdUcmFpdFR5cGUiLCJzZXRFZGl0aW5nVHJhaXRUeXBlIiwibCIsImhhbmRsZUFkZFJ1bGUiLCJuZXdSdWxlIiwiTWF0aCIsIkRhdGUiLCJub3ciLCJyYW5kb20iLCJzb3VyY2VMYXllcklkIiwic291cmNlVHJhaXQiLCJ0YXJnZXRMYXllcklkIiwidGFyZ2V0VHJhaXQiLCJ0eXBlIiwiaGFuZGxlUmVtb3ZlUnVsZSIsInJ1bGVJZCIsImZpbHRlciIsInJ1bGUiLCJoYW5kbGVGaWxlVXBsb2FkIiwiZSIsImZpbGVzIiwidGFyZ2V0IiwidmFsaWRGaWxlcyIsIkFycmF5IiwiZnJvbSIsImZpbGUiLCJzaXplIiwiZXJyb3IiLCJzdGFydHNXaXRoIiwibmV3VHJhaXRzIiwibWFwIiwic3BsaXQiLCJyZXBsYWNlIiwiaW1hZ2UiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyYXJpdHkiLCJzdWNjZXNzIiwiY29uc29sZSIsInVwZGF0ZVJ1bGUiLCJmaWVsZCIsInZhbHVlIiwicnVsZXMiLCJyZW1vdmVSdWxlIiwiaGFuZGxlUnVsZUNyZWF0aW9uIiwiaGFuZGxlUnVsZUNhcmRDbGljayIsImhhbmRsZVJ1bGVUeXBlVG9nZ2xlIiwiaGFuZGxlVXBkYXRlUnVsZSIsImlzUnVsZUV4aXN0cyIsImdldEF2YWlsYWJsZVRhcmdldHMiLCJpc1RyYWl0SW5SdWxlIiwiZ2V0QXZhaWxhYmxlVHJhaXRzIiwiZXhjbHVkZUxheWVySWQiLCJyZW5kZXJUcmFpdFNlbGVjdGlvbiIsImlzU291cmNlIiwidHJhaXRTZWxlY3RHcm91cCIsImxhYmVsIiwidHJhaXRTZWxlY3RCb3giLCJ1bmRlZmluZWQiLCJpc1NlbGVjdGVkIiwidHJhaXRPcHRpb24iLCJzZWxlY3RlZCIsIm9uQ2xpY2siLCJzbWFsbCIsImFyZzEiLCJFcnJvciIsIm1vZGFsT3ZlcmxheSIsInNldHRpbmdzTW9kYWwiLCJzdG9wUHJvcGFnYXRpb24iLCJtb2RhbEhlYWRlciIsImgzIiwiYnV0dG9uIiwiY2xvc2VCdXR0b24iLCJzZXR0aW5nRmllbGQiLCJpbnB1dCIsImRpc3BsYXlOYW1lIiwib25DaGFuZ2UiLCJzZXR0aW5nSW5wdXQiLCJzZXR0aW5nV2l0aEhlbHAiLCJzZXR0aW5nTGFiZWwiLCJzZXR0aW5nVG9nZ2xlV3JhcHBlciIsInRvZ2dsZVN3aXRjaCIsImNoZWNrZWQiLCJzaG93SW5NZXRhZGF0YSIsInRvZ2dsZVNsaWRlciIsInRvZ2dsZUxhYmVsIiwic2V0dGluZ0hlbHAiLCJyYXJpdHlTbGlkZXJDb250YWluZXIiLCJtaW4iLCJtYXgiLCJsYXllclJhcml0eSIsIm5ld1ZhbHVlIiwiTnVtYmVyIiwic2V0dGluZ1NsaWRlciIsInJhcml0eVZhbHVlIiwic3Ryb25nIiwidGFiQnV0dG9ucyIsInRhYkJ1dHRvbiIsImFjdGl2ZSIsInRhYkNvbnRlbnQiLCJhc3NldHNTZWN0aW9uIiwidXBsb2FkQXJlYSIsImFjY2VwdCIsIm11bHRpcGxlIiwic3R5bGUiLCJkaXNwbGF5IiwiaHRtbEZvciIsInVwbG9hZEJ1dHRvbiIsInRyYWl0c0xpc3QiLCJ0cmFpdFJvdyIsInRyYWl0SW1hZ2VXcmFwcGVyIiwidHJhaXRJbWFnZSIsInRyYWl0RGV0YWlscyIsInRyYWl0TmFtZUlucHV0IiwicGxhY2Vob2xkZXIiLCJwIiwibm9Bc3NldHNNZXNzYWdlIiwicnVsZXNTZWN0aW9uIiwicnVsZURlc2NyaXB0aW9uIiwicnVsZVR5cGVTZWxlY3Rpb24iLCJydWxlVHlwZUJ1dHRvbnMiLCJydWxlVHlwZUJ1dHRvbiIsInJ1bGVBY3Rpb25zIiwiYWRkUnVsZUJ1dHRvbiIsImV4aXN0aW5nUnVsZXMiLCJydWxlSXRlbSIsInJ1bGVDb250ZW50IiwicnVsZUNvbmRpdGlvbkJ1dHRvbiIsInJlbW92ZVJ1bGVCdXR0b24iLCJtb3ZlTGF5ZXIiLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwiZGlzcGxheUxheWVycyIsImxvZyIsImZyb21MYXllciIsImlzRGVmYXVsdEJhY2tncm91bmQiLCJuZXdMYXllcnMiLCJzb3VyY2VMYXllciIsInNvdXJjZUluZGV4IiwiZmluZEluZGV4IiwicmVtb3ZlZCIsInNwbGljZSIsImRlc3RJbmRleCIsImRlc3RMYXllciIsImluZGV4Iiwib3JkZXIiLCJERUZBVUxUX0JBQ0tHUk9VTkRfTEFZRVIiLCJyZXF1aXJlZCIsImNoYXJhY3RlcklkIiwiREVGQVVMVF9DSEFSQUNURVIiLCJkZXNjcmlwdGlvbiIsInN1cHBseSIsImltYWdlUHJldmlldyIsImdldERlZmF1bHRDaGFyYWN0ZXIiLCJnZW5lcmF0ZVVuaXF1ZUxheWVyTmFtZSIsImJhc2VOYW1lIiwiY291bnRlciIsIm5ld05hbWUiLCJ2YWxpZGF0ZVRyYWl0TmFtZSIsInRvTG93ZXJDYXNlIiwiUmFyaXR5U2xpZGVyIiwiZ2V0UmFyaXR5VGV4dCIsIndlaWdodCIsImdldFJhcml0eUNvbG9yIiwicmFyaXR5SGVhZGVyIiwicmFyaXR5TGFiZWwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzbGlkZXJXcmFwcGVyIiwicmFyaXR5U2xpZGVyIiwiYmFja2dyb3VuZCIsInJhcml0eUluZGljYXRvcnMiLCJUcmFpdFNldHRpbmdzIiwib25VcGRhdGUiLCJ0cmFpdFNldHRpbmdzIiwiVHJhaXRSYXJpdHlFZGl0b3IiLCJnZXRXZWlnaHRMYWJlbCIsImdldFdlaWdodENvbG9yIiwidHJhaXRSYXJpdHlFZGl0b3IiLCJ3ZWlnaHRCdXR0b25zIiwid2VpZ2h0QnV0dG9uIiwid2VpZ2h0QnV0dG9uQWN0aXZlIiwib3BhY2l0eSIsIndlaWdodFNsaWRlciIsIndlaWdodFZhbHVlIiwiY29sb3IiLCJUcmFpdENhcmQiLCJvblJhcml0eUNoYW5nZSIsIm9uRGVsZXRlIiwib25OYW1lQ2hhbmdlIiwiY3VycmVudFJhcml0eSIsInNldEN1cnJlbnRSYXJpdHkiLCJyYXJpdHlQcmVzZXRzIiwiaGFuZGxlUmFyaXR5Q2hhbmdlIiwidHJhaXRDYXJkIiwiZGVsZXRlVHJhaXRCdXR0b24iLCJ0aXRsZSIsInRyYWl0Q29udGVudCIsInJhcml0eVByZXNldCIsImRhdGEtcmFyaXR5IiwicmFyaXR5Q29udGFpbmVyIiwidmFsaWRhdGVMYXllck5hbWUiLCJjdXJyZW50TGF5ZXJJZCIsInRyaW0iLCJUcmFpdFVwbG9hZGVyIiwib25OZXh0Iiwib25CYWNrIiwib25MYXllcnNVcGRhdGUiLCJpbml0aWFsTGF5ZXJzIiwiaW5pdGlhbFJ1bGVzIiwiaGlkZU5hdmlnYXRpb24iLCJjaGFyYWN0ZXJzIiwiaW5pdGlhbENoYXJhY3RlcnMiLCJnZW5lcmF0ZUlkIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJzZXRMYXllcnMiLCJzZXRDaGFyYWN0ZXJzIiwiZGVmYXVsdENoYXIiLCJhY3RpdmVDaGFyYWN0ZXJJZCIsInNldEFjdGl2ZUNoYXJhY3RlcklkIiwiaXNBZGRpbmdDaGFyYWN0ZXIiLCJzZXRJc0FkZGluZ0NoYXJhY3RlciIsIm5ld0NoYXJhY3RlciIsInNldE5ld0NoYXJhY3RlciIsImFjdGl2ZUxheWVySWQiLCJzZXRBY3RpdmVMYXllcklkIiwibmV3TGF5ZXJOYW1lIiwic2V0TmV3TGF5ZXJOYW1lIiwic2V0RXJyb3IiLCJpc0RyYWdnaW5nIiwic2V0SXNEcmFnZ2luZyIsInNob3dTZXR0aW5ncyIsInRvdGFsUmFyaXR5Iiwic2V0VG90YWxSYXJpdHkiLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsInNob3dVcGxvYWRTZWN0aW9uIiwic2V0U2hvd1VwbG9hZFNlY3Rpb24iLCJyYW5kb21QcmV2aWV3Iiwic2V0UmFuZG9tUHJldmlldyIsInNob3dQcmV2aWV3U3RyaXAiLCJzZXRTaG93UHJldmlld1N0cmlwIiwicHJldmlld1N0cmlwS2V5Iiwic2V0UHJldmlld1N0cmlwS2V5Iiwic2V0R2xvYmFsUnVsZXMiLCJwcmV2aWV3Q29tYmluYXRpb25zIiwic2V0UHJldmlld0NvbWJpbmF0aW9ucyIsImlzQWRkTGF5ZXJPcGVuIiwic2V0SXNBZGRMYXllck9wZW4iLCJpc1ByZXZpZXdPcGVuIiwic2V0SXNQcmV2aWV3T3BlbiIsInNob3dHdWlkZSIsInNldFNob3dHdWlkZSIsImNoYXJhY3RlckxheWVycyIsImFsbExheWVycyIsImZsYXRNYXAiLCJjaGFyIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzYXZlZERhdGEiLCJnZXRJdGVtIiwic2F2ZWRMYXllcnMiLCJzYXZlZFJ1bGVzIiwicGFyc2UiLCJ0aW1lc3RhbXAiLCJwcmV2IiwidXBkYXRlZExheWVycyIsInVwZGF0ZWRMYXllciIsImFkZExheWVyIiwiaGFuZGxlQWRkTGF5ZXIiLCJyZW1vdmVMYXllciIsInVwZGF0ZUxheWVyTmFtZSIsImlzRHVwbGljYXRlIiwidXBkYXRlVHJhaXROYW1lIiwidXBkYXRlVHJhaXRSYXJpdHkiLCJyZW1vdmVUcmFpdCIsInRvZ2dsZUxheWVyUmVxdWlyZWQiLCJoYW5kbGVEcmFnU3RhcnQiLCJoYW5kbGVEcmFnRW5kIiwicmVzdWx0IiwiZGVzdGluYXRpb24iLCJmaWx0ZXJlZExheWVycyIsInNvcnQiLCJhIiwiYiIsInNvdXJjZSIsImRlc3RpbmF0aW9uSW5kZXgiLCJhY3R1YWxTb3VyY2VJbmRleCIsImFjdHVhbERlc3RJbmRleCIsImR1cGxpY2F0ZUxheWVyIiwibmV3TGF5ZXIiLCJyZW9yZGVyTGF5ZXJzIiwiaGFuZGxlVHJhaXRVcGxvYWQiLCJDSFVOS19TSVpFIiwiaSIsImNodW5rIiwic2xpY2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJhbGwiLCJjcmVhdGVJbWFnZVByZXZpZXciLCJoYW5kbGVMYXllckNsaWNrIiwidXBkYXRlTGF5ZXJEZXNjcmlwdGlvbiIsInVwZGF0ZUxheWVyTWF4VHJhaXRzIiwibWF4VHJhaXRzIiwiaXNUcmFpdFZhbGlkIiwicmVsZXZhbnRSdWxlcyIsImdlbmVyYXRlUmFuZG9tUHJldmlldyIsImZvckVhY2giLCJ2YWxpZFRyYWl0cyIsInJhbmRvbVRyYWl0IiwiZmxvb3IiLCJnZW5lcmF0ZVByZXZpZXdzIiwidmFsaWRDb21iaW5hdGlvbnMiLCJtYXhBdHRlbXB0cyIsImF0dGVtcHRzIiwiY29tYmluYXRpb24iLCJiYWNrZ3JvdW5kTGF5ZXIiLCJPYmplY3QiLCJrZXlzIiwiY29tYmluYXRpb25TdHJpbmciLCJjIiwicHVzaCIsInByZXZKc29uIiwibmV3SnNvbiIsImdlbmVyYXRlTWV0YWRhdGEiLCJzZWxlY3RlZFRyYWl0cyIsIm1ldGFkYXRhIiwiYXR0cmlidXRlcyIsInRyYWl0X3R5cGUiLCJ1cGRhdGVzIiwidXBkYXRlZFJ1bGVzIiwiaGFuZGxlTGF5ZXJTZWxlY3QiLCJldmVudCIsImxheWVySW5kZXgiLCJzdWJzdHIiLCJ6SW5kZXgiLCJwcmV2TGF5ZXJzIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwibGF5ZXJzUmVmIiwicnVsZXNSZWYiLCJ1cGRhdGVJblByb2dyZXNzUmVmIiwidXBkYXRlTGF5ZXJzIiwiY3VycmVudCIsImN1cnJlbnRMYXllcnMiLCJjdXJyZW50UnVsZXMiLCJpc0FycmF5IiwiZXJyb3JNZXNzYWdlIiwidGltZXIiLCJjYXRjaCIsImNsZWFyVGltZW91dCIsImhhbmRsZUFkZFRyYWl0IiwicmFyaXR5VHlwZSIsInRoZW4iLCJoYW5kbGVEdXBsaWNhdGVMYXllciIsImN1cnJlbnRUcmFpdElkIiwiaGFuZGxlVHJhaXROYW1lQ2hhbmdlIiwiY2xlYW51cFN0b3JlZExheWVyRGF0YSIsInJlbW92ZUl0ZW0iLCJoYW5kbGVMYXllcnNVcGRhdGUiLCJoYW5kbGVEZWxldGVUcmFpdCIsImhhbmRsZVRyYWl0UmFyaXR5Q2hhbmdlIiwiZXJyb3JzIiwibGF5ZXJOYW1lcyIsIlNldCIsImxvd2VyTmFtZSIsImhhcyIsImFkZCIsImhhbmRsZU5leHQiLCJtb3ZlTGF5ZXJVcCIsImlkeCIsIm1vdmVMYXllckRvd24iLCJhZGRDaGFyYWN0ZXIiLCJuZXdDaGFyYWN0ZXJJZCIsImNoYXJhY3RlciIsInVwZGF0ZUNoYXJhY3RlciIsImRlbGV0ZUNoYXJhY3RlciIsImN1cnJlbnRDaGFyYWN0ZXIiLCJoYW5kbGVBZGRDaGFyYWN0ZXIiLCJjb250YWluZXIiLCJjb250ZW50IiwiZ3VpZGVDb250YWluZXIiLCJndWlkZUhlYWRlciIsImgyIiwiZ3VpZGVCdXR0b24iLCJwcmV2U3RhdGUiLCJndWlkZUNvbnRlbnQiLCJndWlkZVNlY3Rpb24iLCJvbCIsImxpIiwiY2hhcmFjdGVyc0hlYWRlciIsIm9wdGlvbmFsRmVhdHVyZSIsImNoYXJhY3RlckRyb3Bkb3duQ29udGFpbmVyIiwic2VsZWN0IiwiY2hhcmFjdGVyRHJvcGRvd24iLCJvcHRpb24iLCJkZWxldGVDaGFyYWN0ZXJCdXR0b24iLCJ3aW5kb3ciLCJjb25maXJtIiwiYWRkQ2hhcmFjdGVyQnV0dG9uIiwibW9kYWwiLCJtb2RhbERlc2NyaXB0aW9uIiwiYXV0b0ZvY3VzIiwidGV4dGFyZWEiLCJtb2RhbEJ1dHRvbnMiLCJjYW5jZWxCdXR0b24iLCJhZGRCdXR0b24iLCJkaXNhYmxlZCIsImxheWVyc1BhbmVsIiwic2lkZWJhciIsImxheWVyc0hlYWRlciIsImFkZExheWVyQnV0dG9uIiwibGF5ZXJIZWxwVGV4dCIsImxheWVyRm9ybSIsImZvcm1BY3Rpb25zIiwic2F2ZUJ1dHRvbiIsImxheWVyc0xpc3QiLCJvbkRyYWdFbmQiLCJkcm9wcGFibGVJZCIsInByb3ZpZGVkIiwic25hcHNob3QiLCJyZWYiLCJpbm5lclJlZiIsImRyb3BwYWJsZVByb3BzIiwiZHJvcHBhYmxlQ29udGFpbmVyIiwiaXNEcmFnZ2luZ092ZXIiLCJkcmFnZ2FibGVJZCIsImlzRHJhZ0Rpc2FibGVkIiwiZHJhZ2dhYmxlUHJvcHMiLCJsYXllckNhcmQiLCJsYXllckNhcmRDb250ZW50IiwibGF5ZXJDYXJkSGVhZGVyIiwibGF5ZXJDYXJkTGVmdCIsImRyYWdIYW5kbGVQcm9wcyIsImRyYWdIYW5kbGUiLCJsYXllckNhcmRBY3Rpb25zIiwiYWN0aW9uQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwibGF5ZXJDYXJkU3RhdHMiLCJzdGF0QmFkZ2UiLCJzdGF0TGFiZWwiLCJzdGF0VmFsdWUiLCJlbXB0eUxheWVyc01lc3NhZ2UiLCJoNCIsInVsIiwibWFpbkNvbnRlbnQiLCJtYWluSGVhZGVyIiwiaGVhZGVyTGVmdCIsImxheWVyVGl0bGVJbnB1dCIsImhlYWRlckFjdGlvbnMiLCJoZWFkZXJCdXR0b24iLCJkcm9wZG93bkljb24iLCJwcmV2aWV3U3RyaXAiLCJwcmV2aWV3SW1hZ2VzIiwicHJldmlld0l0ZW0iLCJlbnRyaWVzIiwicHJldmlld0xheWVyIiwicmVmcmVzaFN0cmlwQnV0dG9uIiwidXBsb2FkU2VjdGlvbiIsInNsaWRlRG93biIsImRyb3B6b25lIiwidHJhaXRzR3JpZCIsIm5vTGF5ZXJTZWxlY3RlZCIsImFjdGlvbnMiLCJiYWNrQnV0dG9uIiwibmV4dEJ1dHRvbiIsIm1vZGFsQ29udGVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/collection/TraitUploader.tsx\n"));

/***/ })

});